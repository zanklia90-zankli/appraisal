function Cv(u,i){for(var l=0;l<i.length;l++){const s=i[l];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in u)){const f=Object.getOwnPropertyDescriptor(s,c);f&&Object.defineProperty(u,c,f.get?f:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(c){if(c.ep)return;c.ep=!0;const f=l(c);fetch(c.href,f)}})();function Po(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function Ig(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var i=u.default;if(typeof i=="function"){var l=function s(){return this instanceof s?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};l.prototype=i.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(u).forEach(function(s){var c=Object.getOwnPropertyDescriptor(u,s);Object.defineProperty(l,s,c.get?c:{enumerable:!0,get:function(){return u[s]}})}),l}var wo={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function Dv(){if(og)return fl;og=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(s,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var g in c)g!=="key"&&(f[g]=c[g])}else f=c;return c=f.ref,{$$typeof:u,type:s,key:d,ref:c!==void 0?c:null,props:f}}return fl.Fragment=i,fl.jsx=l,fl.jsxs=l,fl}var cg;function zv(){return cg||(cg=1,wo.exports=Dv()),wo.exports}var p=zv(),So={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Uv(){if(fg)return le;fg=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function T(E){return E===null||typeof E!="object"?null:(E=A&&E[A]||E["@@iterator"],typeof E=="function"?E:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function $(E,L,V){this.props=E,this.context=L,this.refs=R,this.updater=V||D}$.prototype.isReactComponent={},$.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},$.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function H(){}H.prototype=$.prototype;function B(E,L,V){this.props=E,this.context=L,this.refs=R,this.updater=V||D}var K=B.prototype=new H;K.constructor=B,k(K,$.prototype),K.isPureReactComponent=!0;var ie=Array.isArray;function Y(){}var I={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function be(E,L,V){var J=V.ref;return{$$typeof:u,type:E,key:L,ref:J!==void 0?J:null,props:V}}function vt(E,L){return be(E.type,L,E.props)}function Rt(E){return typeof E=="object"&&E!==null&&E.$$typeof===u}function at(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(V){return L[V]})}var Wt=/\/+/g;function oe(E,L){return typeof E=="object"&&E!==null&&E.key!=null?at(""+E.key):L.toString(36)}function qe(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Y,Y):(E.status="pending",E.then(function(L){E.status==="pending"&&(E.status="fulfilled",E.value=L)},function(L){E.status==="pending"&&(E.status="rejected",E.reason=L)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function z(E,L,V,J,se){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var _e=!1;if(E===null)_e=!0;else switch(ce){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(E.$$typeof){case u:case i:_e=!0;break;case b:return _e=E._init,z(_e(E._payload),L,V,J,se)}}if(_e)return se=se(E),_e=J===""?"."+oe(E,0):J,ie(se)?(V="",_e!=null&&(V=_e.replace(Wt,"$&/")+"/"),z(se,L,V,"",function(pi){return pi})):se!=null&&(Rt(se)&&(se=vt(se,V+(se.key==null||E&&E.key===se.key?"":(""+se.key).replace(Wt,"$&/")+"/")+_e)),L.push(se)),1;_e=0;var st=J===""?".":J+":";if(ie(E))for(var Le=0;Le<E.length;Le++)J=E[Le],ce=st+oe(J,Le),_e+=z(J,L,V,ce,se);else if(Le=T(E),typeof Le=="function")for(E=Le.call(E),Le=0;!(J=E.next()).done;)J=J.value,ce=st+oe(J,Le++),_e+=z(J,L,V,ce,se);else if(ce==="object"){if(typeof E.then=="function")return z(qe(E),L,V,J,se);throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return _e}function G(E,L,V){if(E==null)return E;var J=[],se=0;return z(E,J,"","",function(ce){return L.call(V,ce,se++)}),J}function te(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(V){(E._status===0||E._status===-1)&&(E._status=1,E._result=V)},function(V){(E._status===0||E._status===-1)&&(E._status=2,E._result=V)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var Ee=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Oe={map:G,forEach:function(E,L,V){G(E,function(){L.apply(this,arguments)},V)},count:function(E){var L=0;return G(E,function(){L++}),L},toArray:function(E){return G(E,function(L){return L})||[]},only:function(E){if(!Rt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return le.Activity=w,le.Children=Oe,le.Component=$,le.Fragment=l,le.Profiler=c,le.PureComponent=B,le.StrictMode=s,le.Suspense=y,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,le.__COMPILER_RUNTIME={__proto__:null,c:function(E){return I.H.useMemoCache(E)}},le.cache=function(E){return function(){return E.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(E,L,V){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var J=k({},E.props),se=E.key;if(L!=null)for(ce in L.key!==void 0&&(se=""+L.key),L)!ae.call(L,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&L.ref===void 0||(J[ce]=L[ce]);var ce=arguments.length-2;if(ce===1)J.children=V;else if(1<ce){for(var _e=Array(ce),st=0;st<ce;st++)_e[st]=arguments[st+2];J.children=_e}return be(E.type,se,J)},le.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},le.createElement=function(E,L,V){var J,se={},ce=null;if(L!=null)for(J in L.key!==void 0&&(ce=""+L.key),L)ae.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(se[J]=L[J]);var _e=arguments.length-2;if(_e===1)se.children=V;else if(1<_e){for(var st=Array(_e),Le=0;Le<_e;Le++)st[Le]=arguments[Le+2];se.children=st}if(E&&E.defaultProps)for(J in _e=E.defaultProps,_e)se[J]===void 0&&(se[J]=_e[J]);return be(E,ce,se)},le.createRef=function(){return{current:null}},le.forwardRef=function(E){return{$$typeof:g,render:E}},le.isValidElement=Rt,le.lazy=function(E){return{$$typeof:b,_payload:{_status:-1,_result:E},_init:te}},le.memo=function(E,L){return{$$typeof:m,type:E,compare:L===void 0?null:L}},le.startTransition=function(E){var L=I.T,V={};I.T=V;try{var J=E(),se=I.S;se!==null&&se(V,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Y,Ee)}catch(ce){Ee(ce)}finally{L!==null&&V.types!==null&&(L.types=V.types),I.T=L}},le.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},le.use=function(E){return I.H.use(E)},le.useActionState=function(E,L,V){return I.H.useActionState(E,L,V)},le.useCallback=function(E,L){return I.H.useCallback(E,L)},le.useContext=function(E){return I.H.useContext(E)},le.useDebugValue=function(){},le.useDeferredValue=function(E,L){return I.H.useDeferredValue(E,L)},le.useEffect=function(E,L){return I.H.useEffect(E,L)},le.useEffectEvent=function(E){return I.H.useEffectEvent(E)},le.useId=function(){return I.H.useId()},le.useImperativeHandle=function(E,L,V){return I.H.useImperativeHandle(E,L,V)},le.useInsertionEffect=function(E,L){return I.H.useInsertionEffect(E,L)},le.useLayoutEffect=function(E,L){return I.H.useLayoutEffect(E,L)},le.useMemo=function(E,L){return I.H.useMemo(E,L)},le.useOptimistic=function(E,L){return I.H.useOptimistic(E,L)},le.useReducer=function(E,L,V){return I.H.useReducer(E,L,V)},le.useRef=function(E){return I.H.useRef(E)},le.useState=function(E){return I.H.useState(E)},le.useSyncExternalStore=function(E,L,V){return I.H.useSyncExternalStore(E,L,V)},le.useTransition=function(){return I.H.useTransition()},le.version="19.2.0",le}var dg;function Io(){return dg||(dg=1,So.exports=Uv()),So.exports}var X=Io();const kv=Po(X);var Eo={exports:{}},dl={},xo={exports:{}},Ao={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function Mv(){return hg||(hg=1,(function(u){function i(z,G){var te=z.length;z.push(G);e:for(;0<te;){var Ee=te-1>>>1,Oe=z[Ee];if(0<c(Oe,G))z[Ee]=G,z[te]=Oe,te=Ee;else break e}}function l(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var G=z[0],te=z.pop();if(te!==G){z[0]=te;e:for(var Ee=0,Oe=z.length,E=Oe>>>1;Ee<E;){var L=2*(Ee+1)-1,V=z[L],J=L+1,se=z[J];if(0>c(V,te))J<Oe&&0>c(se,V)?(z[Ee]=se,z[J]=te,Ee=J):(z[Ee]=V,z[L]=te,Ee=L);else if(J<Oe&&0>c(se,te))z[Ee]=se,z[J]=te,Ee=J;else break e}}return G}function c(z,G){var te=z.sortIndex-G.sortIndex;return te!==0?te:z.id-G.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();u.unstable_now=function(){return d.now()-g}}var y=[],m=[],b=1,w=null,A=3,T=!1,D=!1,k=!1,R=!1,$=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function K(z){for(var G=l(m);G!==null;){if(G.callback===null)s(m);else if(G.startTime<=z)s(m),G.sortIndex=G.expirationTime,i(y,G);else break;G=l(m)}}function ie(z){if(k=!1,K(z),!D)if(l(y)!==null)D=!0,Y||(Y=!0,at());else{var G=l(m);G!==null&&qe(ie,G.startTime-z)}}var Y=!1,I=-1,ae=5,be=-1;function vt(){return R?!0:!(u.unstable_now()-be<ae)}function Rt(){if(R=!1,Y){var z=u.unstable_now();be=z;var G=!0;try{e:{D=!1,k&&(k=!1,H(I),I=-1),T=!0;var te=A;try{t:{for(K(z),w=l(y);w!==null&&!(w.expirationTime>z&&vt());){var Ee=w.callback;if(typeof Ee=="function"){w.callback=null,A=w.priorityLevel;var Oe=Ee(w.expirationTime<=z);if(z=u.unstable_now(),typeof Oe=="function"){w.callback=Oe,K(z),G=!0;break t}w===l(y)&&s(y),K(z)}else s(y);w=l(y)}if(w!==null)G=!0;else{var E=l(m);E!==null&&qe(ie,E.startTime-z),G=!1}}break e}finally{w=null,A=te,T=!1}G=void 0}}finally{G?at():Y=!1}}}var at;if(typeof B=="function")at=function(){B(Rt)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,oe=Wt.port2;Wt.port1.onmessage=Rt,at=function(){oe.postMessage(null)}}else at=function(){$(Rt,0)};function qe(z,G){I=$(function(){z(u.unstable_now())},G)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(z){z.callback=null},u.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<z?Math.floor(1e3/z):5},u.unstable_getCurrentPriorityLevel=function(){return A},u.unstable_next=function(z){switch(A){case 1:case 2:case 3:var G=3;break;default:G=A}var te=A;A=G;try{return z()}finally{A=te}},u.unstable_requestPaint=function(){R=!0},u.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=A;A=z;try{return G()}finally{A=te}},u.unstable_scheduleCallback=function(z,G,te){var Ee=u.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ee+te:Ee):te=Ee,z){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=te+Oe,z={id:b++,callback:G,priorityLevel:z,startTime:te,expirationTime:Oe,sortIndex:-1},te>Ee?(z.sortIndex=te,i(m,z),l(y)===null&&z===l(m)&&(k?(H(I),I=-1):k=!0,qe(ie,te-Ee))):(z.sortIndex=Oe,i(y,z),D||T||(D=!0,Y||(Y=!0,at()))),z},u.unstable_shouldYield=vt,u.unstable_wrapCallback=function(z){var G=A;return function(){var te=A;A=G;try{return z.apply(this,arguments)}finally{A=te}}}})(Ao)),Ao}var gg;function qv(){return gg||(gg=1,xo.exports=Mv()),xo.exports}var To={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Lv(){if(mg)return it;mg=1;var u=Io();function i(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,m,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:y,containerInfo:m,implementation:b}}var d=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,it.createPortal=function(y,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(i(299));return f(y,m,null,b)},it.flushSync=function(y){var m=d.T,b=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=m,s.p=b,s.d.f()}},it.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},it.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},it.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var b=m.as,w=g(b,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:T}):b==="script"&&s.d.X(y,{crossOrigin:w,integrity:A,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},it.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=g(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},it.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,w=g(b,m.crossOrigin);s.d.L(y,b,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},it.preloadModule=function(y,m){if(typeof y=="string")if(m){var b=g(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},it.requestFormReset=function(y){s.d.r(y)},it.unstable_batchedUpdates=function(y,m){return y(m)},it.useFormState=function(y,m,b){return d.H.useFormState(y,m,b)},it.useFormStatus=function(){return d.H.useHostTransitionStatus()},it.version="19.2.0",it}var yg;function Bv(){if(yg)return To.exports;yg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),To.exports=Lv(),To.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Hv(){if(vg)return dl;vg=1;var u=qv(),i=Io(),l=Bv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(s(188))}function m(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return y(r),e;if(o===a)return y(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=o;else{for(var h=!1,v=r.child;v;){if(v===n){h=!0,n=r,a=o;break}if(v===a){h=!0,a=r,n=o;break}v=v.sibling}if(!h){for(v=o.child;v;){if(v===n){h=!0,n=o,a=r;break}if(v===a){h=!0,a=o,n=r;break}v=v.sibling}if(!h)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),B=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),vt=Symbol.for("react.memo_cache_sentinel"),Rt=Symbol.iterator;function at(e){return e===null||typeof e!="object"?null:(e=Rt&&e[Rt]||e["@@iterator"],typeof e=="function"?e:null)}var Wt=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Wt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case $:return"Profiler";case R:return"StrictMode";case ie:return"Suspense";case Y:return"SuspenseList";case be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case B:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}var qe=Array.isArray,z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ee=[],Oe=-1;function E(e){return{current:e}}function L(e){0>Oe||(e.current=Ee[Oe],Ee[Oe]=null,Oe--)}function V(e,t){Oe++,Ee[Oe]=e.current,e.current=t}var J=E(null),se=E(null),ce=E(null),_e=E(null);function st(e,t){switch(V(ce,t),V(se,e),V(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Dh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Dh(t),e=zh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(J),V(J,e)}function Le(){L(J),L(se),L(ce)}function pi(e){e.memoizedState!==null&&V(_e,e);var t=J.current,n=zh(t,e.type);t!==n&&(V(se,e),V(J,n))}function wl(e){se.current===e&&(L(J),L(se)),_e.current===e&&(L(_e),rl._currentValue=te)}var nr,rc;function Zn(e){if(nr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nr=t&&t[1]||"",rc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+e+rc}var ar=!1;function ir(e,t){if(!e||ar)return"";ar=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(C){var N=C}Reflect.construct(e,[],q)}else{try{q.call()}catch(C){N=C}e.call(q.prototype)}}else{try{throw Error()}catch(C){N=C}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(C){if(C&&N&&typeof C.stack=="string")return[C.stack,N.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),h=o[0],v=o[1];if(h&&v){var _=h.split(`
`),j=v.split(`
`);for(r=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;r<j.length&&!j[r].includes("DetermineComponentFrameRoot");)r++;if(a===_.length||r===j.length)for(a=_.length-1,r=j.length-1;1<=a&&0<=r&&_[a]!==j[r];)r--;for(;1<=a&&0<=r;a--,r--)if(_[a]!==j[r]){if(a!==1||r!==1)do if(a--,r--,0>r||_[a]!==j[r]){var U=`
`+_[a].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=a&&0<=r);break}}}finally{ar=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zn(n):""}function u0(e,t){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==t&&t!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return Zn("Activity");default:return""}}function uc(e){try{var t="",n=null;do t+=u0(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var lr=Object.prototype.hasOwnProperty,sr=u.unstable_scheduleCallback,rr=u.unstable_cancelCallback,o0=u.unstable_shouldYield,c0=u.unstable_requestPaint,pt=u.unstable_now,f0=u.unstable_getCurrentPriorityLevel,oc=u.unstable_ImmediatePriority,cc=u.unstable_UserBlockingPriority,Sl=u.unstable_NormalPriority,d0=u.unstable_LowPriority,fc=u.unstable_IdlePriority,h0=u.log,g0=u.unstable_setDisableYieldValue,bi=null,bt=null;function wn(e){if(typeof h0=="function"&&g0(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(bi,e)}catch{}}var _t=Math.clz32?Math.clz32:v0,m0=Math.log,y0=Math.LN2;function v0(e){return e>>>=0,e===0?32:31-(m0(e)/y0|0)|0}var El=256,xl=262144,Al=4194304;function Pn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tl(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var r=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~o,a!==0?r=Pn(a):(h&=v,h!==0?r=Pn(h):n||(n=v&~e,n!==0&&(r=Pn(n))))):(v=a&~o,v!==0?r=Pn(v):h!==0?r=Pn(h):n||(n=a&~e,n!==0&&(r=Pn(n)))),r===0?0:t!==0&&t!==r&&(t&o)===0&&(o=r&-r,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:r}function _i(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function p0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dc(){var e=Al;return Al<<=1,(Al&62914560)===0&&(Al=4194304),e}function ur(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function b0(e,t,n,a,r,o){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,j=e.hiddenUpdates;for(n=h&~n;0<n;){var U=31-_t(n),q=1<<U;v[U]=0,_[U]=-1;var N=j[U];if(N!==null)for(j[U]=null,U=0;U<N.length;U++){var C=N[U];C!==null&&(C.lane&=-536870913)}n&=~q}a!==0&&hc(e,a,0),o!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function hc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-_t(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-_t(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function mc(e,t){var n=t&-t;return n=(n&42)!==0?1:or(n),(n&(e.suspendedLanes|t))!==0?0:n}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:ng(e.type))}function vc(e,t){var n=G.p;try{return G.p=e,t()}finally{G.p=n}}var Sn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Sn,ot="__reactProps$"+Sn,wa="__reactContainer$"+Sn,fr="__reactEvents$"+Sn,_0="__reactListeners$"+Sn,w0="__reactHandles$"+Sn,pc="__reactResources$"+Sn,Si="__reactMarker$"+Sn;function dr(e){delete e[Ie],delete e[ot],delete e[fr],delete e[_0],delete e[w0]}function Sa(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wa]||n[Ie]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hh(e);e!==null;){if(n=e[Ie])return n;e=Hh(e)}return t}e=n,n=e.parentNode}return null}function Ea(e){if(e=e[Ie]||e[wa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ei(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function xa(e){var t=e[pc];return t||(t=e[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Si]=!0}var bc=new Set,_c={};function In(e,t){Aa(e,t),Aa(e+"Capture",t)}function Aa(e,t){for(_c[e]=t,e=0;e<t.length;e++)bc.add(t[e])}var S0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Sc={};function E0(e){return lr.call(Sc,e)?!0:lr.call(wc,e)?!1:S0.test(e)?Sc[e]=!0:(wc[e]=!0,!1)}function Ol(e,t,n){if(E0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function jl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ft(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ec(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x0(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,o=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(h){n=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hr(e){if(!e._valueTracker){var t=Ec(e)?"checked":"value";e._valueTracker=x0(e,t,""+e[t])}}function xc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ec(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var A0=/[\n"\\]/g;function Dt(e){return e.replace(A0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gr(e,t,n,a,r,o,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?mr(e,h,Ct(t)):n!=null?mr(e,h,Ct(n)):a!=null&&e.removeAttribute("value"),r==null&&o!=null&&(e.defaultChecked=!!o),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ct(v):e.removeAttribute("name")}function Ac(e,t,n,a,r,o,h,v){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){hr(e);return}n=n!=null?""+Ct(n):"",t=t!=null?""+Ct(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),hr(e)}function mr(e,t,n){t==="number"&&Nl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ta(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Tc(e,t,n){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ct(n):""}function Oc(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(s(92));if(qe(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Ct(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),hr(e)}function Oa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var T0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jc(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||T0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nc(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&jc(e,r,a)}else for(var o in t)t.hasOwnProperty(o)&&jc(e,o,t[o])}function yr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rl(e){return j0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function en(){}var vr=null;function pr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ja=null,Na=null;function Rc(e){var t=Ea(e);if(t&&(e=t.stateNode)){var n=e[ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(gr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[ot]||null;if(!r)throw Error(s(90));gr(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&xc(a)}break e;case"textarea":Tc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ta(e,!!n.multiple,t,!1)}}}var br=!1;function Cc(e,t,n){if(br)return e(t,n);br=!0;try{var a=e(t);return a}finally{if(br=!1,(ja!==null||Na!==null)&&(vs(),ja&&(t=ja,e=Na,Na=ja=null,Rc(t),e)))for(t=0;t<e.length;t++)Rc(e[t])}}function xi(e,t){var n=e.stateNode;if(n===null)return null;var a=n[ot]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(tn)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{_r=!1}var En=null,wr=null,Cl=null;function Dc(){if(Cl)return Cl;var e,t=wr,n=t.length,a,r="value"in En?En.value:En.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var h=n-e;for(a=1;a<=h&&t[n-a]===r[o-a];a++);return Cl=r.slice(e,1<a?1-a:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zl(){return!0}function zc(){return!1}function ct(e){function t(n,a,r,o,h){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(o):o[v]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zl:zc,this.isPropagationStopped=zc,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=ct(Wn),Ti=w({},Wn,{view:0,detail:0}),N0=ct(Ti),Sr,Er,Oi,kl=w({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(Sr=e.screenX-Oi.screenX,Er=e.screenY-Oi.screenY):Er=Sr=0,Oi=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:Er}}),Uc=ct(kl),R0=w({},kl,{dataTransfer:0}),C0=ct(R0),D0=w({},Ti,{relatedTarget:0}),xr=ct(D0),z0=w({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=ct(z0),k0=w({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M0=ct(k0),q0=w({},Wn,{data:0}),kc=ct(q0),L0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H0[e])?!!t[e]:!1}function Ar(){return $0}var G0=w({},Ti,{key:function(e){if(e.key){var t=L0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?B0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V0=ct(G0),Y0=w({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=ct(Y0),K0=w({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),Q0=ct(K0),X0=w({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),J0=ct(X0),Z0=w({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P0=ct(Z0),I0=w({},Wn,{newState:0,oldState:0}),W0=ct(I0),F0=[9,13,27,32],Tr=tn&&"CompositionEvent"in window,ji=null;tn&&"documentMode"in document&&(ji=document.documentMode);var ey=tn&&"TextEvent"in window&&!ji,qc=tn&&(!Tr||ji&&8<ji&&11>=ji),Lc=" ",Bc=!1;function Hc(e,t){switch(e){case"keyup":return F0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function ty(e,t){switch(e){case"compositionend":return $c(t);case"keypress":return t.which!==32?null:(Bc=!0,Lc);case"textInput":return e=t.data,e===Lc&&Bc?null:e;default:return null}}function ny(e,t){if(Ra)return e==="compositionend"||!Tr&&Hc(e,t)?(e=Dc(),Cl=wr=En=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qc&&t.locale!=="ko"?null:t.data;default:return null}}var ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ay[e.type]:t==="textarea"}function Vc(e,t,n,a){ja?Na?Na.push(a):Na=[a]:ja=a,t=xs(t,"onChange"),0<t.length&&(n=new Ul("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ni=null,Ri=null;function iy(e){Th(e,0)}function Ml(e){var t=Ei(e);if(xc(t))return e}function Yc(e,t){if(e==="change")return t}var Kc=!1;if(tn){var Or;if(tn){var jr="oninput"in document;if(!jr){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),jr=typeof Qc.oninput=="function"}Or=jr}else Or=!1;Kc=Or&&(!document.documentMode||9<document.documentMode)}function Xc(){Ni&&(Ni.detachEvent("onpropertychange",Jc),Ri=Ni=null)}function Jc(e){if(e.propertyName==="value"&&Ml(Ri)){var t=[];Vc(t,Ri,e,pr(e)),Cc(iy,t)}}function ly(e,t,n){e==="focusin"?(Xc(),Ni=t,Ri=n,Ni.attachEvent("onpropertychange",Jc)):e==="focusout"&&Xc()}function sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(Ri)}function ry(e,t){if(e==="click")return Ml(t)}function uy(e,t){if(e==="input"||e==="change")return Ml(t)}function oy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:oy;function Ci(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!lr.call(t,r)||!wt(e[r],t[r]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var n=Zc(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zc(n)}}function Ic(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ic(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nl(e.document)}return t}function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cy=tn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Rr=null,Di=null,Cr=!1;function Fc(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cr||Ca==null||Ca!==Nl(a)||(a=Ca,"selectionStart"in a&&Nr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Di&&Ci(Di,a)||(Di=a,a=xs(Rr,"onSelect"),0<a.length&&(t=new Ul("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Ca)))}function Fn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Da={animationend:Fn("Animation","AnimationEnd"),animationiteration:Fn("Animation","AnimationIteration"),animationstart:Fn("Animation","AnimationStart"),transitionrun:Fn("Transition","TransitionRun"),transitionstart:Fn("Transition","TransitionStart"),transitioncancel:Fn("Transition","TransitionCancel"),transitionend:Fn("Transition","TransitionEnd")},Dr={},ef={};tn&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function ea(e){if(Dr[e])return Dr[e];if(!Da[e])return e;var t=Da[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ef)return Dr[e]=t[n];return e}var tf=ea("animationend"),nf=ea("animationiteration"),af=ea("animationstart"),fy=ea("transitionrun"),dy=ea("transitionstart"),hy=ea("transitioncancel"),lf=ea("transitionend"),sf=new Map,zr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zr.push("scrollEnd");function $t(e,t){sf.set(e,t),In(t,[e])}var ql=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],za=0,Ur=0;function Ll(){for(var e=za,t=Ur=za=0;t<e;){var n=zt[t];zt[t++]=null;var a=zt[t];zt[t++]=null;var r=zt[t];zt[t++]=null;var o=zt[t];if(zt[t++]=null,a!==null&&r!==null){var h=a.pending;h===null?r.next=r:(r.next=h.next,h.next=r),a.pending=r}o!==0&&rf(n,r,o)}}function Bl(e,t,n,a){zt[za++]=e,zt[za++]=t,zt[za++]=n,zt[za++]=a,Ur|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function kr(e,t,n,a){return Bl(e,t,n,a),Hl(e)}function ta(e,t){return Bl(e,null,null,t),Hl(e)}function rf(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var r=!1,o=e.return;o!==null;)o.childLanes|=n,a=o.alternate,a!==null&&(a.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(r=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,r&&t!==null&&(r=31-_t(n),e=o.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=n|536870912),o):null}function Hl(e){if(50<el)throw el=0,Yu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ua={};function gy(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,a){return new gy(e,t,n,a)}function Mr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nn(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function uf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $l(e,t,n,a,r,o){var h=0;if(a=e,typeof e=="function")Mr(e)&&(h=1);else if(typeof e=="string")h=bv(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case be:return e=St(31,n,t,r),e.elementType=be,e.lanes=o,e;case k:return na(n.children,r,o,t);case R:h=8,r|=24;break;case $:return e=St(12,n,t,r|2),e.elementType=$,e.lanes=o,e;case ie:return e=St(13,n,t,r),e.elementType=ie,e.lanes=o,e;case Y:return e=St(19,n,t,r),e.elementType=Y,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:h=10;break e;case H:h=9;break e;case K:h=11;break e;case I:h=14;break e;case ae:h=16,a=null;break e}h=29,n=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=St(h,n,t,r),t.elementType=e,t.type=a,t.lanes=o,t}function na(e,t,n,a){return e=St(7,e,a,t),e.lanes=n,e}function qr(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function of(e){var t=St(18,null,null,0);return t.stateNode=e,t}function Lr(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cf=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var n=cf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:uc(t)},cf.set(e,t),t)}return{value:e,source:t,stack:uc(t)}}var ka=[],Ma=0,Gl=null,zi=0,kt=[],Mt=0,xn=null,Jt=1,Zt="";function an(e,t){ka[Ma++]=zi,ka[Ma++]=Gl,Gl=e,zi=t}function ff(e,t,n){kt[Mt++]=Jt,kt[Mt++]=Zt,kt[Mt++]=xn,xn=e;var a=Jt;e=Zt;var r=32-_t(a)-1;a&=~(1<<r),n+=1;var o=32-_t(t)+r;if(30<o){var h=r-r%5;o=(a&(1<<h)-1).toString(32),a>>=h,r-=h,Jt=1<<32-_t(t)+r|n<<r|a,Zt=o+e}else Jt=1<<o|n<<r|a,Zt=e}function Br(e){e.return!==null&&(an(e,1),ff(e,1,0))}function Hr(e){for(;e===Gl;)Gl=ka[--Ma],ka[Ma]=null,zi=ka[--Ma],ka[Ma]=null;for(;e===xn;)xn=kt[--Mt],kt[Mt]=null,Zt=kt[--Mt],kt[Mt]=null,Jt=kt[--Mt],kt[Mt]=null}function df(e,t){kt[Mt++]=Jt,kt[Mt++]=Zt,kt[Mt++]=xn,Jt=t.id,Zt=t.overflow,xn=e}var We=null,Re=null,me=!1,An=null,qt=!1,$r=Error(s(519));function Tn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ui(Ut(t,e)),$r}function hf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ie]=e,t[ot]=a,n){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(n=0;n<nl.length;n++)de(nl[n],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),Ac(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),Oc(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Rh(t.textContent,n)?(a.popover!=null&&(de("beforetoggle",t),de("toggle",t)),a.onScroll!=null&&de("scroll",t),a.onScrollEnd!=null&&de("scrollend",t),a.onClick!=null&&(t.onclick=en),t=!0):t=!1,t||Tn(e,!0)}function gf(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:We=We.return}}function qa(e){if(e!==We)return!1;if(!me)return gf(e),me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||lo(e.type,e.memoizedProps)),n=!n),n&&Re&&Tn(e),gf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Re=Bh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Re=Bh(e)}else t===27?(t=Re,Hn(e.type)?(e=co,co=null,Re=e):Re=t):Re=We?Bt(e.stateNode.nextSibling):null;return!0}function aa(){Re=We=null,me=!1}function Gr(){var e=An;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),An=null),e}function Ui(e){An===null?An=[e]:An.push(e)}var Vr=E(null),ia=null,ln=null;function On(e,t,n){V(Vr,t._currentValue),t._currentValue=n}function sn(e){e._currentValue=Vr.current,L(Vr)}function Yr(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Kr(e,t,n,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){var h=r.child;o=o.firstContext;e:for(;o!==null;){var v=o;o=r;for(var _=0;_<t.length;_++)if(v.context===t[_]){o.lanes|=n,v=o.alternate,v!==null&&(v.lanes|=n),Yr(o.return,n,e),a||(h=null);break e}o=v.next}}else if(r.tag===18){if(h=r.return,h===null)throw Error(s(341));h.lanes|=n,o=h.alternate,o!==null&&(o.lanes|=n),Yr(h,n,e),h=null}else h=r.child;if(h!==null)h.return=r;else for(h=r;h!==null;){if(h===e){h=null;break}if(r=h.sibling,r!==null){r.return=h.return,h=r;break}h=h.return}r=h}}function La(e,t,n,a){e=null;for(var r=t,o=!1;r!==null;){if(!o){if((r.flags&524288)!==0)o=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var h=r.alternate;if(h===null)throw Error(s(387));if(h=h.memoizedProps,h!==null){var v=r.type;wt(r.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(r===_e.current){if(h=r.alternate,h===null)throw Error(s(387));h.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}r=r.return}e!==null&&Kr(t,e,n,a),t.flags|=262144}function Vl(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function la(e){ia=e,ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return mf(ia,e)}function Yl(e,t){return ia===null&&la(e),mf(e,t)}function mf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ln===null){if(e===null)throw Error(s(308));ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ln=ln.next=t;return n}var my=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},yy=u.unstable_scheduleCallback,vy=u.unstable_NormalPriority,$e={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qr(){return{controller:new my,data:new Map,refCount:0}}function ki(e){e.refCount--,e.refCount===0&&yy(vy,function(){e.controller.abort()})}var Mi=null,Xr=0,Ba=0,Ha=null;function py(e,t){if(Mi===null){var n=Mi=[];Xr=0,Ba=Pu(),Ha={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Xr++,t.then(yf,yf),t}function yf(){if(--Xr===0&&Mi!==null){Ha!==null&&(Ha.status="fulfilled");var e=Mi;Mi=null,Ba=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function by(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var vf=z.S;z.S=function(e,t){eh=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&py(e,t),vf!==null&&vf(e,t)};var sa=E(null);function Jr(){var e=sa.current;return e!==null?e:je.pooledCache}function Kl(e,t){t===null?V(sa,sa.current):V(sa,t.pool)}function pf(){var e=Jr();return e===null?null:{parent:$e._currentValue,pool:e}}var $a=Error(s(460)),Zr=Error(s(474)),Ql=Error(s(542)),Xl={then:function(){}};function bf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _f(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(en,en),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sf(e),e;default:if(typeof t.status=="string")t.then(en,en);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sf(e),e}throw ua=t,$a}}function ra(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ua=n,$a):n}}var ua=null;function wf(){if(ua===null)throw Error(s(459));var e=ua;return ua=null,e}function Sf(e){if(e===$a||e===Ql)throw Error(s(483))}var Ga=null,qi=0;function Jl(e){var t=qi;return qi+=1,Ga===null&&(Ga=[]),_f(Ga,e,t)}function Li(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zl(e,t){throw t.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ef(e){function t(x,S){if(e){var O=x.deletions;O===null?(x.deletions=[S],x.flags|=16):O.push(S)}}function n(x,S){if(!e)return null;for(;S!==null;)t(x,S),S=S.sibling;return null}function a(x){for(var S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function r(x,S){return x=nn(x,S),x.index=0,x.sibling=null,x}function o(x,S,O){return x.index=O,e?(O=x.alternate,O!==null?(O=O.index,O<S?(x.flags|=67108866,S):O):(x.flags|=67108866,S)):(x.flags|=1048576,S)}function h(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function v(x,S,O,M){return S===null||S.tag!==6?(S=qr(O,x.mode,M),S.return=x,S):(S=r(S,O),S.return=x,S)}function _(x,S,O,M){var F=O.type;return F===k?U(x,S,O.props.children,M,O.key):S!==null&&(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ae&&ra(F)===S.type)?(S=r(S,O.props),Li(S,O),S.return=x,S):(S=$l(O.type,O.key,O.props,null,x.mode,M),Li(S,O),S.return=x,S)}function j(x,S,O,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=Lr(O,x.mode,M),S.return=x,S):(S=r(S,O.children||[]),S.return=x,S)}function U(x,S,O,M,F){return S===null||S.tag!==7?(S=na(O,x.mode,M,F),S.return=x,S):(S=r(S,O),S.return=x,S)}function q(x,S,O){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=qr(""+S,x.mode,O),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case T:return O=$l(S.type,S.key,S.props,null,x.mode,O),Li(O,S),O.return=x,O;case D:return S=Lr(S,x.mode,O),S.return=x,S;case ae:return S=ra(S),q(x,S,O)}if(qe(S)||at(S))return S=na(S,x.mode,O,null),S.return=x,S;if(typeof S.then=="function")return q(x,Jl(S),O);if(S.$$typeof===B)return q(x,Yl(x,S),O);Zl(x,S)}return null}function N(x,S,O,M){var F=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return F!==null?null:v(x,S,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return O.key===F?_(x,S,O,M):null;case D:return O.key===F?j(x,S,O,M):null;case ae:return O=ra(O),N(x,S,O,M)}if(qe(O)||at(O))return F!==null?null:U(x,S,O,M,null);if(typeof O.then=="function")return N(x,S,Jl(O),M);if(O.$$typeof===B)return N(x,S,Yl(x,O),M);Zl(x,O)}return null}function C(x,S,O,M,F){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return x=x.get(O)||null,v(S,x,""+M,F);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return x=x.get(M.key===null?O:M.key)||null,_(S,x,M,F);case D:return x=x.get(M.key===null?O:M.key)||null,j(S,x,M,F);case ae:return M=ra(M),C(x,S,O,M,F)}if(qe(M)||at(M))return x=x.get(O)||null,U(S,x,M,F,null);if(typeof M.then=="function")return C(x,S,O,Jl(M),F);if(M.$$typeof===B)return C(x,S,O,Yl(S,M),F);Zl(S,M)}return null}function Q(x,S,O,M){for(var F=null,ye=null,Z=S,ue=S=0,ge=null;Z!==null&&ue<O.length;ue++){Z.index>ue?(ge=Z,Z=null):ge=Z.sibling;var ve=N(x,Z,O[ue],M);if(ve===null){Z===null&&(Z=ge);break}e&&Z&&ve.alternate===null&&t(x,Z),S=o(ve,S,ue),ye===null?F=ve:ye.sibling=ve,ye=ve,Z=ge}if(ue===O.length)return n(x,Z),me&&an(x,ue),F;if(Z===null){for(;ue<O.length;ue++)Z=q(x,O[ue],M),Z!==null&&(S=o(Z,S,ue),ye===null?F=Z:ye.sibling=Z,ye=Z);return me&&an(x,ue),F}for(Z=a(Z);ue<O.length;ue++)ge=C(Z,x,ue,O[ue],M),ge!==null&&(e&&ge.alternate!==null&&Z.delete(ge.key===null?ue:ge.key),S=o(ge,S,ue),ye===null?F=ge:ye.sibling=ge,ye=ge);return e&&Z.forEach(function(Kn){return t(x,Kn)}),me&&an(x,ue),F}function ee(x,S,O,M){if(O==null)throw Error(s(151));for(var F=null,ye=null,Z=S,ue=S=0,ge=null,ve=O.next();Z!==null&&!ve.done;ue++,ve=O.next()){Z.index>ue?(ge=Z,Z=null):ge=Z.sibling;var Kn=N(x,Z,ve.value,M);if(Kn===null){Z===null&&(Z=ge);break}e&&Z&&Kn.alternate===null&&t(x,Z),S=o(Kn,S,ue),ye===null?F=Kn:ye.sibling=Kn,ye=Kn,Z=ge}if(ve.done)return n(x,Z),me&&an(x,ue),F;if(Z===null){for(;!ve.done;ue++,ve=O.next())ve=q(x,ve.value,M),ve!==null&&(S=o(ve,S,ue),ye===null?F=ve:ye.sibling=ve,ye=ve);return me&&an(x,ue),F}for(Z=a(Z);!ve.done;ue++,ve=O.next())ve=C(Z,x,ue,ve.value,M),ve!==null&&(e&&ve.alternate!==null&&Z.delete(ve.key===null?ue:ve.key),S=o(ve,S,ue),ye===null?F=ve:ye.sibling=ve,ye=ve);return e&&Z.forEach(function(Rv){return t(x,Rv)}),me&&an(x,ue),F}function Te(x,S,O,M){if(typeof O=="object"&&O!==null&&O.type===k&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case T:e:{for(var F=O.key;S!==null;){if(S.key===F){if(F=O.type,F===k){if(S.tag===7){n(x,S.sibling),M=r(S,O.props.children),M.return=x,x=M;break e}}else if(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ae&&ra(F)===S.type){n(x,S.sibling),M=r(S,O.props),Li(M,O),M.return=x,x=M;break e}n(x,S);break}else t(x,S);S=S.sibling}O.type===k?(M=na(O.props.children,x.mode,M,O.key),M.return=x,x=M):(M=$l(O.type,O.key,O.props,null,x.mode,M),Li(M,O),M.return=x,x=M)}return h(x);case D:e:{for(F=O.key;S!==null;){if(S.key===F)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){n(x,S.sibling),M=r(S,O.children||[]),M.return=x,x=M;break e}else{n(x,S);break}else t(x,S);S=S.sibling}M=Lr(O,x.mode,M),M.return=x,x=M}return h(x);case ae:return O=ra(O),Te(x,S,O,M)}if(qe(O))return Q(x,S,O,M);if(at(O)){if(F=at(O),typeof F!="function")throw Error(s(150));return O=F.call(O),ee(x,S,O,M)}if(typeof O.then=="function")return Te(x,S,Jl(O),M);if(O.$$typeof===B)return Te(x,S,Yl(x,O),M);Zl(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,S!==null&&S.tag===6?(n(x,S.sibling),M=r(S,O),M.return=x,x=M):(n(x,S),M=qr(O,x.mode,M),M.return=x,x=M),h(x)):n(x,S)}return function(x,S,O,M){try{qi=0;var F=Te(x,S,O,M);return Ga=null,F}catch(Z){if(Z===$a||Z===Ql)throw Z;var ye=St(29,Z,null,x.mode);return ye.lanes=M,ye.return=x,ye}finally{}}}var oa=Ef(!0),xf=Ef(!1),jn=!1;function Pr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(pe&2)!==0){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Hl(e),rf(e,null,n),t}return Bl(e,a,t,n),Hl(e)}function Bi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,gc(e,n)}}function Wr(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?r=o=h:o=o.next=h,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Fr=!1;function Hi(){if(Fr){var e=Ha;if(e!==null)throw e}}function $i(e,t,n,a){Fr=!1;var r=e.updateQueue;jn=!1;var o=r.firstBaseUpdate,h=r.lastBaseUpdate,v=r.shared.pending;if(v!==null){r.shared.pending=null;var _=v,j=_.next;_.next=null,h===null?o=j:h.next=j,h=_;var U=e.alternate;U!==null&&(U=U.updateQueue,v=U.lastBaseUpdate,v!==h&&(v===null?U.firstBaseUpdate=j:v.next=j,U.lastBaseUpdate=_))}if(o!==null){var q=r.baseState;h=0,U=j=_=null,v=o;do{var N=v.lane&-536870913,C=N!==v.lane;if(C?(he&N)===N:(a&N)===N){N!==0&&N===Ba&&(Fr=!0),U!==null&&(U=U.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Q=e,ee=v;N=t;var Te=n;switch(ee.tag){case 1:if(Q=ee.payload,typeof Q=="function"){q=Q.call(Te,q,N);break e}q=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ee.payload,N=typeof Q=="function"?Q.call(Te,q,N):Q,N==null)break e;q=w({},q,N);break e;case 2:jn=!0}}N=v.callback,N!==null&&(e.flags|=64,C&&(e.flags|=8192),C=r.callbacks,C===null?r.callbacks=[N]:C.push(N))}else C={lane:N,tag:v.tag,payload:v.payload,callback:v.callback,next:null},U===null?(j=U=C,_=q):U=U.next=C,h|=N;if(v=v.next,v===null){if(v=r.shared.pending,v===null)break;C=v,v=C.next,C.next=null,r.lastBaseUpdate=C,r.shared.pending=null}}while(!0);U===null&&(_=q),r.baseState=_,r.firstBaseUpdate=j,r.lastBaseUpdate=U,o===null&&(r.shared.lanes=0),kn|=h,e.lanes=h,e.memoizedState=q}}function Af(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Tf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Af(n[e],t)}var Va=E(null),Pl=E(0);function Of(e,t){e=mn,V(Pl,e),V(Va,t),mn=e|t.baseLanes}function eu(){V(Pl,mn),V(Va,Va.current)}function tu(){mn=Pl.current,L(Va),L(Pl)}var Et=E(null),Lt=null;function Cn(e){var t=e.alternate;V(Be,Be.current&1),V(Et,e),Lt===null&&(t===null||Va.current!==null||t.memoizedState!==null)&&(Lt=e)}function nu(e){V(Be,Be.current),V(Et,e),Lt===null&&(Lt=e)}function jf(e){e.tag===22?(V(Be,Be.current),V(Et,e),Lt===null&&(Lt=e)):Dn()}function Dn(){V(Be,Be.current),V(Et,Et.current)}function xt(e){L(Et),Lt===e&&(Lt=null),L(Be)}var Be=E(0);function Il(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||uo(n)||oo(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rn=0,re=null,xe=null,Ge=null,Wl=!1,Ya=!1,ca=!1,Fl=0,Gi=0,Ka=null,_y=0;function Ue(){throw Error(s(321))}function au(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wt(e[n],t[n]))return!1;return!0}function iu(e,t,n,a,r,o){return rn=o,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?fd:bu,ca=!1,o=n(a,r),ca=!1,Ya&&(o=Rf(t,n,a,r)),Nf(e),o}function Nf(e){z.H=Ki;var t=xe!==null&&xe.next!==null;if(rn=0,Ge=xe=re=null,Wl=!1,Gi=0,Ka=null,t)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&Vl(e)&&(Ve=!0))}function Rf(e,t,n,a){re=e;var r=0;do{if(Ya&&(Ka=null),Gi=0,Ya=!1,25<=r)throw Error(s(301));if(r+=1,Ge=xe=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}z.H=dd,o=t(n,a)}while(Ya);return o}function wy(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Vi(t):t,e=e.useState()[0],(xe!==null?xe.memoizedState:null)!==e&&(re.flags|=1024),t}function lu(){var e=Fl!==0;return Fl=0,e}function su(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ru(e){if(Wl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Wl=!1}rn=0,Ge=xe=re=null,Ya=!1,Gi=Fl=0,Ka=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?re.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function He(){if(xe===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Ge===null?re.memoizedState:Ge.next;if(t!==null)Ge=t,xe=e;else{if(e===null)throw re.alternate===null?Error(s(467)):Error(s(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Ge===null?re.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function es(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vi(e){var t=Gi;return Gi+=1,Ka===null&&(Ka=[]),e=_f(Ka,e,t),t=re,(Ge===null?t.memoizedState:Ge.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?fd:bu),e}function ts(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vi(e);if(e.$$typeof===B)return Fe(e)}throw Error(s(438,String(e)))}function uu(e){var t=null,n=re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=re.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=es(),re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=vt;return t.index++,n}function un(e,t){return typeof t=="function"?t(e):t}function ns(e){var t=He();return ou(t,xe,e)}function ou(e,t,n){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var r=e.baseQueue,o=a.pending;if(o!==null){if(r!==null){var h=r.next;r.next=o.next,o.next=h}t.baseQueue=r=o,a.pending=null}if(o=e.baseState,r===null)e.memoizedState=o;else{t=r.next;var v=h=null,_=null,j=t,U=!1;do{var q=j.lane&-536870913;if(q!==j.lane?(he&q)===q:(rn&q)===q){var N=j.revertLane;if(N===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),q===Ba&&(U=!0);else if((rn&N)===N){j=j.next,N===Ba&&(U=!0);continue}else q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},_===null?(v=_=q,h=o):_=_.next=q,re.lanes|=N,kn|=N;q=j.action,ca&&n(o,q),o=j.hasEagerState?j.eagerState:n(o,q)}else N={lane:q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},_===null?(v=_=N,h=o):_=_.next=N,re.lanes|=q,kn|=q;j=j.next}while(j!==null&&j!==t);if(_===null?h=o:_.next=v,!wt(o,e.memoizedState)&&(Ve=!0,U&&(n=Ha,n!==null)))throw n;e.memoizedState=o,e.baseState=h,e.baseQueue=_,a.lastRenderedState=o}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function cu(e){var t=He(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var h=r=r.next;do o=e(o,h.action),h=h.next;while(h!==r);wt(o,t.memoizedState)||(Ve=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function Cf(e,t,n){var a=re,r=He(),o=me;if(o){if(n===void 0)throw Error(s(407));n=n()}else n=t();var h=!wt((xe||r).memoizedState,n);if(h&&(r.memoizedState=n,Ve=!0),r=r.queue,hu(Uf.bind(null,a,r,e),[e]),r.getSnapshot!==t||h||Ge!==null&&Ge.memoizedState.tag&1){if(a.flags|=2048,Qa(9,{destroy:void 0},zf.bind(null,a,r,n,t),null),je===null)throw Error(s(349));o||(rn&127)!==0||Df(a,t,n)}return n}function Df(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t=es(),re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zf(e,t,n,a){t.value=n,t.getSnapshot=a,kf(t)&&Mf(e)}function Uf(e,t,n){return n(function(){kf(t)&&Mf(e)})}function kf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wt(e,n)}catch{return!0}}function Mf(e){var t=ta(e,2);t!==null&&mt(t,e,2)}function fu(e){var t=rt();if(typeof e=="function"){var n=e;if(e=n(),ca){wn(!0);try{n()}finally{wn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:e},t}function qf(e,t,n,a){return e.baseState=n,ou(e,xe,typeof a=="function"?a:un)}function Sy(e,t,n,a,r){if(ls(e))throw Error(s(485));if(e=t.action,e!==null){var o={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};z.T!==null?n(!0):o.isTransition=!1,a(o),n=t.pending,n===null?(o.next=t.pending=o,Lf(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Lf(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var o=z.T,h={};z.T=h;try{var v=n(r,a),_=z.S;_!==null&&_(h,v),Bf(e,t,v)}catch(j){du(e,t,j)}finally{o!==null&&h.types!==null&&(o.types=h.types),z.T=o}}else try{o=n(r,a),Bf(e,t,o)}catch(j){du(e,t,j)}}function Bf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Hf(e,t,a)},function(a){return du(e,t,a)}):Hf(e,t,n)}function Hf(e,t,n){t.status="fulfilled",t.value=n,$f(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Lf(e,n)))}function du(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,$f(t),t=t.next;while(t!==a)}e.action=null}function $f(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gf(e,t){return t}function Vf(e,t){if(me){var n=je.formState;if(n!==null){e:{var a=re;if(me){if(Re){t:{for(var r=Re,o=qt;r.nodeType!==8;){if(!o){r=null;break t}if(r=Bt(r.nextSibling),r===null){r=null;break t}}o=r.data,r=o==="F!"||o==="F"?r:null}if(r){Re=Bt(r.nextSibling),a=r.data==="F!";break e}}Tn(a)}a=!1}a&&(t=n[0])}}return n=rt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:t},n.queue=a,n=ud.bind(null,re,a),a.dispatch=n,a=fu(!1),o=pu.bind(null,re,!1,a.queue),a=rt(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,n=Sy.bind(null,re,r,o,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Yf(e){var t=He();return Kf(t,xe,e)}function Kf(e,t,n){if(t=ou(e,t,Gf)[0],e=ns(un)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Vi(t)}catch(h){throw h===$a?Ql:h}else a=t;t=He();var r=t.queue,o=r.dispatch;return n!==t.memoizedState&&(re.flags|=2048,Qa(9,{destroy:void 0},Ey.bind(null,r,n),null)),[a,o,e]}function Ey(e,t){e.action=t}function Qf(e){var t=He(),n=xe;if(n!==null)return Kf(t,n,e);He(),t=t.memoizedState,n=He();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Qa(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=re.updateQueue,t===null&&(t=es(),re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Xf(){return He().memoizedState}function as(e,t,n,a){var r=rt();re.flags|=e,r.memoizedState=Qa(1|t,{destroy:void 0},n,a===void 0?null:a)}function is(e,t,n,a){var r=He();a=a===void 0?null:a;var o=r.memoizedState.inst;xe!==null&&a!==null&&au(a,xe.memoizedState.deps)?r.memoizedState=Qa(t,o,n,a):(re.flags|=e,r.memoizedState=Qa(1|t,o,n,a))}function Jf(e,t){as(8390656,8,e,t)}function hu(e,t){is(2048,8,e,t)}function xy(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=es(),re.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Zf(e){var t=He().memoizedState;return xy({ref:t,nextImpl:e}),function(){if((pe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Pf(e,t){return is(4,2,e,t)}function If(e,t){return is(4,4,e,t)}function Wf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ff(e,t,n){n=n!=null?n.concat([e]):null,is(4,4,Wf.bind(null,t,e),n)}function gu(){}function ed(e,t){var n=He();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&au(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function td(e,t){var n=He();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&au(t,a[1]))return a[0];if(a=e(),ca){wn(!0);try{e()}finally{wn(!1)}}return n.memoizedState=[a,t],a}function mu(e,t,n){return n===void 0||(rn&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=nh(),re.lanes|=e,kn|=e,n)}function nd(e,t,n,a){return wt(n,t)?n:Va.current!==null?(e=mu(e,n,a),wt(e,t)||(Ve=!0),e):(rn&42)===0||(rn&1073741824)!==0&&(he&261930)===0?(Ve=!0,e.memoizedState=n):(e=nh(),re.lanes|=e,kn|=e,t)}function ad(e,t,n,a,r){var o=G.p;G.p=o!==0&&8>o?o:8;var h=z.T,v={};z.T=v,pu(e,!1,t,n);try{var _=r(),j=z.S;if(j!==null&&j(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var U=by(_,a);Yi(e,t,U,Ot(e))}else Yi(e,t,a,Ot(e))}catch(q){Yi(e,t,{then:function(){},status:"rejected",reason:q},Ot())}finally{G.p=o,h!==null&&v.types!==null&&(h.types=v.types),z.T=h}}function Ay(){}function yu(e,t,n,a){if(e.tag!==5)throw Error(s(476));var r=id(e).queue;ad(e,r,t,te,n===null?Ay:function(){return ld(e),n(a)})}function id(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:te},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ld(e){var t=id(e);t.next===null&&(t=e.alternate.memoizedState),Yi(e,t.next.queue,{},Ot())}function vu(){return Fe(rl)}function sd(){return He().memoizedState}function rd(){return He().memoizedState}function Ty(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ot();e=Nn(n);var a=Rn(t,e,n);a!==null&&(mt(a,t,n),Bi(a,t,n)),t={cache:Qr()},e.payload=t;return}t=t.return}}function Oy(e,t,n){var a=Ot();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ls(e)?od(t,n):(n=kr(e,t,n,a),n!==null&&(mt(n,e,a),cd(n,t,a)))}function ud(e,t,n){var a=Ot();Yi(e,t,n,a)}function Yi(e,t,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ls(e))od(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,v=o(h,n);if(r.hasEagerState=!0,r.eagerState=v,wt(v,h))return Bl(e,t,r,0),je===null&&Ll(),!1}catch{}finally{}if(n=kr(e,t,r,a),n!==null)return mt(n,e,a),cd(n,t,a),!0}return!1}function pu(e,t,n,a){if(a={lane:2,revertLane:Pu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ls(e)){if(t)throw Error(s(479))}else t=kr(e,n,a,2),t!==null&&mt(t,e,2)}function ls(e){var t=e.alternate;return e===re||t!==null&&t===re}function od(e,t){Ya=Wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,gc(e,n)}}var Ki={readContext:Fe,use:ts,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};Ki.useEffectEvent=Ue;var fd={readContext:Fe,use:ts,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Jf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,as(4194308,4,Wf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return as(4194308,4,e,t)},useInsertionEffect:function(e,t){as(4,2,e,t)},useMemo:function(e,t){var n=rt();t=t===void 0?null:t;var a=e();if(ca){wn(!0);try{e()}finally{wn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=rt();if(n!==void 0){var r=n(t);if(ca){wn(!0);try{n(t)}finally{wn(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Oy.bind(null,re,e),[a.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:function(e){e=fu(e);var t=e.queue,n=ud.bind(null,re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:gu,useDeferredValue:function(e,t){var n=rt();return mu(n,e,t)},useTransition:function(){var e=fu(!1);return e=ad.bind(null,re,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=re,r=rt();if(me){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),je===null)throw Error(s(349));(he&127)!==0||Df(a,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Jf(Uf.bind(null,a,o,e),[e]),a.flags|=2048,Qa(9,{destroy:void 0},zf.bind(null,a,o,n,t),null),n},useId:function(){var e=rt(),t=je.identifierPrefix;if(me){var n=Zt,a=Jt;n=(a&~(1<<32-_t(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Fl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=_y++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:vu,useFormState:Vf,useActionState:Vf,useOptimistic:function(e){var t=rt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=pu.bind(null,re,!0,n),n.dispatch=t,[e,t]},useMemoCache:uu,useCacheRefresh:function(){return rt().memoizedState=Ty.bind(null,re)},useEffectEvent:function(e){var t=rt(),n={impl:e};return t.memoizedState=n,function(){if((pe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},bu={readContext:Fe,use:ts,useCallback:ed,useContext:Fe,useEffect:hu,useImperativeHandle:Ff,useInsertionEffect:Pf,useLayoutEffect:If,useMemo:td,useReducer:ns,useRef:Xf,useState:function(){return ns(un)},useDebugValue:gu,useDeferredValue:function(e,t){var n=He();return nd(n,xe.memoizedState,e,t)},useTransition:function(){var e=ns(un)[0],t=He().memoizedState;return[typeof e=="boolean"?e:Vi(e),t]},useSyncExternalStore:Cf,useId:sd,useHostTransitionStatus:vu,useFormState:Yf,useActionState:Yf,useOptimistic:function(e,t){var n=He();return qf(n,xe,e,t)},useMemoCache:uu,useCacheRefresh:rd};bu.useEffectEvent=Zf;var dd={readContext:Fe,use:ts,useCallback:ed,useContext:Fe,useEffect:hu,useImperativeHandle:Ff,useInsertionEffect:Pf,useLayoutEffect:If,useMemo:td,useReducer:cu,useRef:Xf,useState:function(){return cu(un)},useDebugValue:gu,useDeferredValue:function(e,t){var n=He();return xe===null?mu(n,e,t):nd(n,xe.memoizedState,e,t)},useTransition:function(){var e=cu(un)[0],t=He().memoizedState;return[typeof e=="boolean"?e:Vi(e),t]},useSyncExternalStore:Cf,useId:sd,useHostTransitionStatus:vu,useFormState:Qf,useActionState:Qf,useOptimistic:function(e,t){var n=He();return xe!==null?qf(n,xe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:uu,useCacheRefresh:rd};dd.useEffectEvent=Zf;function _u(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ot(),r=Nn(a);r.payload=t,n!=null&&(r.callback=n),t=Rn(e,r,a),t!==null&&(mt(t,e,a),Bi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ot(),r=Nn(a);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Rn(e,r,a),t!==null&&(mt(t,e,a),Bi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),a=Nn(n);a.tag=2,t!=null&&(a.callback=t),t=Rn(e,a,n),t!==null&&(mt(t,e,n),Bi(t,e,n))}};function hd(e,t,n,a,r,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,h):t.prototype&&t.prototype.isPureReactComponent?!Ci(n,a)||!Ci(r,o):!0}function gd(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&wu.enqueueReplaceState(t,t.state,null)}function fa(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function md(e){ql(e)}function yd(e){console.error(e)}function vd(e){ql(e)}function ss(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function pd(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Su(e,t,n){return n=Nn(n),n.tag=3,n.payload={element:null},n.callback=function(){ss(e,t)},n}function bd(e){return e=Nn(e),e.tag=3,e}function _d(e,t,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=a.value;e.payload=function(){return r(o)},e.callback=function(){pd(t,n,a)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){pd(t,n,a),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function jy(e,t,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&La(t,n,r,!0),n=Et.current,n!==null){switch(n.tag){case 31:case 13:return Lt===null?ps():n.alternate===null&&ke===0&&(ke=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===Xl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Xu(e,a,r)),!1;case 22:return n.flags|=65536,a===Xl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Xu(e,a,r)),!1}throw Error(s(435,n.tag))}return Xu(e,a,r),ps(),!1}if(me)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==$r&&(e=Error(s(422),{cause:a}),Ui(Ut(e,n)))):(a!==$r&&(t=Error(s(423),{cause:a}),Ui(Ut(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=Ut(a,n),r=Su(e.stateNode,a,r),Wr(e,r),ke!==4&&(ke=2)),!1;var o=Error(s(520),{cause:a});if(o=Ut(o,n),Fi===null?Fi=[o]:Fi.push(o),ke!==4&&(ke=2),t===null)return!0;a=Ut(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Su(n.stateNode,a,e),Wr(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Mn===null||!Mn.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,r=bd(r),_d(r,e,n,a),Wr(n,r),!1}n=n.return}while(n!==null);return!1}var Eu=Error(s(461)),Ve=!1;function et(e,t,n,a){t.child=e===null?xf(t,null,n,a):oa(t,e.child,n,a)}function wd(e,t,n,a,r){n=n.render;var o=t.ref;if("ref"in a){var h={};for(var v in a)v!=="ref"&&(h[v]=a[v])}else h=a;return la(t),a=iu(e,t,n,h,o,r),v=lu(),e!==null&&!Ve?(su(e,t,r),on(e,t,r)):(me&&v&&Br(t),t.flags|=1,et(e,t,a,r),t.child)}function Sd(e,t,n,a,r){if(e===null){var o=n.type;return typeof o=="function"&&!Mr(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Ed(e,t,o,a,r)):(e=$l(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Cu(e,r)){var h=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ci,n(h,a)&&e.ref===t.ref)return on(e,t,r)}return t.flags|=1,e=nn(o,a),e.ref=t.ref,e.return=t,t.child=e}function Ed(e,t,n,a,r){if(e!==null){var o=e.memoizedProps;if(Ci(o,a)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=a=o,Cu(e,r))(e.flags&131072)!==0&&(Ve=!0);else return t.lanes=e.lanes,on(e,t,r)}return xu(e,t,n,a,r)}function xd(e,t,n,a){var r=a.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(a=t.child=e.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~o}else a=0,t.child=null;return Ad(e,t,o,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kl(t,o!==null?o.cachePool:null),o!==null?Of(t,o):eu(),jf(t);else return a=t.lanes=536870912,Ad(e,t,o!==null?o.baseLanes|n:n,n,a)}else o!==null?(Kl(t,o.cachePool),Of(t,o),Dn(),t.memoizedState=null):(e!==null&&Kl(t,null),eu(),Dn());return et(e,t,r,n),t.child}function Qi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ad(e,t,n,a,r){var o=Jr();return o=o===null?null:{parent:$e._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Kl(t,null),eu(),jf(t),e!==null&&La(e,t,a,!0),t.childLanes=r,null}function rs(e,t){return t=os({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Td(e,t,n){return oa(t,e.child,null,n),e=rs(t,t.pendingProps),e.flags|=2,xt(t),t.memoizedState=null,e}function Ny(e,t,n){var a=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(a.mode==="hidden")return e=rs(t,a),t.lanes=536870912,Qi(null,e);if(nu(t),(e=Re)?(e=Lh(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Jt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},n=of(e),n.return=t,t.child=n,We=t,Re=null)):e=null,e===null)throw Tn(t);return t.lanes=536870912,null}return rs(t,a)}var o=e.memoizedState;if(o!==null){var h=o.dehydrated;if(nu(t),r)if(t.flags&256)t.flags&=-257,t=Td(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ve||La(e,t,n,!1),r=(n&e.childLanes)!==0,Ve||r){if(a=je,a!==null&&(h=mc(a,n),h!==0&&h!==o.retryLane))throw o.retryLane=h,ta(e,h),mt(a,e,h),Eu;ps(),t=Td(e,t,n)}else e=o.treeContext,Re=Bt(h.nextSibling),We=t,me=!0,An=null,qt=!1,e!==null&&df(t,e),t=rs(t,a),t.flags|=4096;return t}return e=nn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function us(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xu(e,t,n,a,r){return la(t),n=iu(e,t,n,a,void 0,r),a=lu(),e!==null&&!Ve?(su(e,t,r),on(e,t,r)):(me&&a&&Br(t),t.flags|=1,et(e,t,n,r),t.child)}function Od(e,t,n,a,r,o){return la(t),t.updateQueue=null,n=Rf(t,a,n,r),Nf(e),a=lu(),e!==null&&!Ve?(su(e,t,o),on(e,t,o)):(me&&a&&Br(t),t.flags|=1,et(e,t,n,o),t.child)}function jd(e,t,n,a,r){if(la(t),t.stateNode===null){var o=Ua,h=n.contextType;typeof h=="object"&&h!==null&&(o=Fe(h)),o=new n(a,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=wu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=a,o.state=t.memoizedState,o.refs={},Pr(t),h=n.contextType,o.context=typeof h=="object"&&h!==null?Fe(h):Ua,o.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(_u(t,n,h,a),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&wu.enqueueReplaceState(o,o.state,null),$i(t,a,o,r),Hi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){o=t.stateNode;var v=t.memoizedProps,_=fa(n,v);o.props=_;var j=o.context,U=n.contextType;h=Ua,typeof U=="object"&&U!==null&&(h=Fe(U));var q=n.getDerivedStateFromProps;U=typeof q=="function"||typeof o.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,U||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(v||j!==h)&&gd(t,o,a,h),jn=!1;var N=t.memoizedState;o.state=N,$i(t,a,o,r),Hi(),j=t.memoizedState,v||N!==j||jn?(typeof q=="function"&&(_u(t,n,q,a),j=t.memoizedState),(_=jn||hd(t,n,_,a,N,j,h))?(U||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=j),o.props=a,o.state=j,o.context=h,a=_):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Ir(e,t),h=t.memoizedProps,U=fa(n,h),o.props=U,q=t.pendingProps,N=o.context,j=n.contextType,_=Ua,typeof j=="object"&&j!==null&&(_=Fe(j)),v=n.getDerivedStateFromProps,(j=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==q||N!==_)&&gd(t,o,a,_),jn=!1,N=t.memoizedState,o.state=N,$i(t,a,o,r),Hi();var C=t.memoizedState;h!==q||N!==C||jn||e!==null&&e.dependencies!==null&&Vl(e.dependencies)?(typeof v=="function"&&(_u(t,n,v,a),C=t.memoizedState),(U=jn||hd(t,n,U,a,N,C,_)||e!==null&&e.dependencies!==null&&Vl(e.dependencies))?(j||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,C,_),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,C,_)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=C),o.props=a,o.state=C,o.context=_,a=U):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),a=!1)}return o=a,us(e,t),a=(t.flags&128)!==0,o||a?(o=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&a?(t.child=oa(t,e.child,null,r),t.child=oa(t,null,n,r)):et(e,t,n,r),t.memoizedState=o.state,e=t.child):e=on(e,t,r),e}function Nd(e,t,n,a){return aa(),t.flags|=256,et(e,t,n,a),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(e){return{baseLanes:e,cachePool:pf()}}function Ou(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Tt),e}function Rd(e,t,n){var a=t.pendingProps,r=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),h&&(r=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(r?Cn(t):Dn(),(e=Re)?(e=Lh(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Jt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},n=of(e),n.return=t,t.child=n,We=t,Re=null)):e=null,e===null)throw Tn(t);return oo(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,r?(Dn(),r=t.mode,v=os({mode:"hidden",children:v},r),a=na(a,r,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=Tu(n),a.childLanes=Ou(e,h,n),t.memoizedState=Au,Qi(null,a)):(Cn(t),ju(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(o)t.flags&256?(Cn(t),t.flags&=-257,t=Nu(e,t,n)):t.memoizedState!==null?(Dn(),t.child=e.child,t.flags|=128,t=null):(Dn(),v=a.fallback,r=t.mode,a=os({mode:"visible",children:a.children},r),v=na(v,r,n,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,oa(t,e.child,null,n),a=t.child,a.memoizedState=Tu(n),a.childLanes=Ou(e,h,n),t.memoizedState=Au,t=Qi(null,a));else if(Cn(t),oo(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var j=h.dgst;h=j,a=Error(s(419)),a.stack="",a.digest=h,Ui({value:a,source:null,stack:null}),t=Nu(e,t,n)}else if(Ve||La(e,t,n,!1),h=(n&e.childLanes)!==0,Ve||h){if(h=je,h!==null&&(a=mc(h,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,ta(e,a),mt(h,e,a),Eu;uo(v)||ps(),t=Nu(e,t,n)}else uo(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Re=Bt(v.nextSibling),We=t,me=!0,An=null,qt=!1,e!==null&&df(t,e),t=ju(t,a.children),t.flags|=4096);return t}return r?(Dn(),v=a.fallback,r=t.mode,_=e.child,j=_.sibling,a=nn(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,j!==null?v=nn(j,v):(v=na(v,r,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,Qi(null,a),a=t.child,v=e.child.memoizedState,v===null?v=Tu(n):(r=v.cachePool,r!==null?(_=$e._currentValue,r=r.parent!==_?{parent:_,pool:_}:r):r=pf(),v={baseLanes:v.baseLanes|n,cachePool:r}),a.memoizedState=v,a.childLanes=Ou(e,h,n),t.memoizedState=Au,Qi(e.child,a)):(Cn(t),n=e.child,e=n.sibling,n=nn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function ju(e,t){return t=os({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function os(e,t){return e=St(22,e,null,t),e.lanes=0,e}function Nu(e,t,n){return oa(t,e.child,null,n),e=ju(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Yr(e.return,t,n)}function Ru(e,t,n,a,r,o){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:o}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=n,h.tailMode=r,h.treeForkCount=o)}function Dd(e,t,n){var a=t.pendingProps,r=a.revealOrder,o=a.tail;a=a.children;var h=Be.current,v=(h&2)!==0;if(v?(h=h&1|2,t.flags|=128):h&=1,V(Be,h),et(e,t,a,n),a=me?zi:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cd(e,n,t);else if(e.tag===19)Cd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Il(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ru(t,!1,r,n,o,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Il(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ru(t,!0,n,null,o,a);break;case"together":Ru(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(La(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vl(e)))}function Ry(e,t,n){switch(t.tag){case 3:st(t,t.stateNode.containerInfo),On(t,$e,e.memoizedState.cache),aa();break;case 27:case 5:pi(t);break;case 4:st(t,t.stateNode.containerInfo);break;case 10:On(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Cn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Rd(e,t,n):(Cn(t),e=on(e,t,n),e!==null?e.sibling:null);Cn(t);break;case 19:var r=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(La(e,t,n,!1),a=(n&t.childLanes)!==0),r){if(a)return Dd(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),V(Be,Be.current),a)break;return null;case 22:return t.lanes=0,xd(e,t,n,t.pendingProps);case 24:On(t,$e,e.memoizedState.cache)}return on(e,t,n)}function zd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!Cu(e,n)&&(t.flags&128)===0)return Ve=!1,Ry(e,t,n);Ve=(e.flags&131072)!==0}else Ve=!1,me&&(t.flags&1048576)!==0&&ff(t,zi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ra(t.elementType),t.type=e,typeof e=="function")Mr(e)?(a=fa(e,a),t.tag=1,t=jd(null,t,e,a,n)):(t.tag=0,t=xu(null,t,e,a,n));else{if(e!=null){var r=e.$$typeof;if(r===K){t.tag=11,t=wd(null,t,e,a,n);break e}else if(r===I){t.tag=14,t=Sd(null,t,e,a,n);break e}}throw t=oe(e)||e,Error(s(306,t,""))}}return t;case 0:return xu(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,r=fa(a,t.pendingProps),jd(e,t,a,r,n);case 3:e:{if(st(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var o=t.memoizedState;r=o.element,Ir(e,t),$i(t,a,null,n);var h=t.memoizedState;if(a=h.cache,On(t,$e,a),a!==o.cache&&Kr(t,[$e],n,!0),Hi(),a=h.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Nd(e,t,a,n);break e}else if(a!==r){r=Ut(Error(s(424)),t),Ui(r),t=Nd(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Re=Bt(e.firstChild),We=t,me=!0,An=null,qt=!0,n=xf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(aa(),a===r){t=on(e,t,n);break e}et(e,t,a,n)}t=t.child}return t;case 26:return us(e,t),e===null?(n=Yh(t.type,null,t.pendingProps,null))?t.memoizedState=n:me||(n=t.type,e=t.pendingProps,a=As(ce.current).createElement(n),a[Ie]=t,a[ot]=e,tt(a,n,e),Ze(a),t.stateNode=a):t.memoizedState=Yh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pi(t),e===null&&me&&(a=t.stateNode=$h(t.type,t.pendingProps,ce.current),We=t,qt=!0,r=Re,Hn(t.type)?(co=r,Re=Bt(a.firstChild)):Re=r),et(e,t,t.pendingProps.children,n),us(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((r=a=Re)&&(a=sv(a,t.type,t.pendingProps,qt),a!==null?(t.stateNode=a,We=t,Re=Bt(a.firstChild),qt=!1,r=!0):r=!1),r||Tn(t)),pi(t),r=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,a=o.children,lo(r,o)?a=null:h!==null&&lo(r,h)&&(t.flags|=32),t.memoizedState!==null&&(r=iu(e,t,wy,null,null,n),rl._currentValue=r),us(e,t),et(e,t,a,n),t.child;case 6:return e===null&&me&&((e=n=Re)&&(n=rv(n,t.pendingProps,qt),n!==null?(t.stateNode=n,We=t,Re=null,e=!0):e=!1),e||Tn(t)),null;case 13:return Rd(e,t,n);case 4:return st(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=oa(t,null,a,n):et(e,t,a,n),t.child;case 11:return wd(e,t,t.type,t.pendingProps,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,On(t,t.type,a.value),et(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,la(t),r=Fe(r),a=a(r),t.flags|=1,et(e,t,a,n),t.child;case 14:return Sd(e,t,t.type,t.pendingProps,n);case 15:return Ed(e,t,t.type,t.pendingProps,n);case 19:return Dd(e,t,n);case 31:return Ny(e,t,n);case 22:return xd(e,t,n,t.pendingProps);case 24:return la(t),a=Fe($e),e===null?(r=Jr(),r===null&&(r=je,o=Qr(),r.pooledCache=o,o.refCount++,o!==null&&(r.pooledCacheLanes|=n),r=o),t.memoizedState={parent:a,cache:r},Pr(t),On(t,$e,r)):((e.lanes&n)!==0&&(Ir(e,t),$i(t,null,null,n),Hi()),r=e.memoizedState,o=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),On(t,$e,a)):(a=o.cache,On(t,$e,a),a!==r.cache&&Kr(t,[$e],n,!0))),et(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function cn(e){e.flags|=4}function Du(e,t,n,a,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(sh())e.flags|=8192;else throw ua=Xl,Zr}else e.flags&=-16777217}function Ud(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zh(t))if(sh())e.flags|=8192;else throw ua=Xl,Zr}function cs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?dc():536870912,e.lanes|=t,Pa|=t)}function Xi(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Cy(e,t,n){var a=t.pendingProps;switch(Hr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ce(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sn($e),Le(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qa(t)?cn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gr())),Ce(t),null;case 26:var r=t.type,o=t.memoizedState;return e===null?(cn(t),o!==null?(Ce(t),Ud(t,o)):(Ce(t),Du(t,r,null,a,n))):o?o!==e.memoizedState?(cn(t),Ce(t),Ud(t,o)):(Ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&cn(t),Ce(t),Du(t,r,e,a,n)),null;case 27:if(wl(t),n=ce.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&cn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ce(t),null}e=J.current,qa(t)?hf(t):(e=$h(r,a,n),t.stateNode=e,cn(t))}return Ce(t),null;case 5:if(wl(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&cn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ce(t),null}if(o=J.current,qa(t))hf(t);else{var h=As(ce.current);switch(o){case 1:o=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:o=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":o=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":o=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof a.is=="string"?h.createElement("select",{is:a.is}):h.createElement("select"),a.multiple?o.multiple=!0:a.size&&(o.size=a.size);break;default:o=typeof a.is=="string"?h.createElement(r,{is:a.is}):h.createElement(r)}}o[Ie]=t,o[ot]=a;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=o;e:switch(tt(o,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&cn(t)}}return Ce(t),Du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&cn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=ce.current,qa(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,r=We,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Ie]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Rh(e.nodeValue,n)),e||Tn(t,!0)}else e=As(e).createTextNode(a),e[Ie]=t,t.stateNode=e}return Ce(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=qa(t),n!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ie]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ce(t),e=!1}else n=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xt(t),t):(xt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ce(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=qa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(s(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));r[Ie]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ce(t),r=!1}else r=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(xt(t),t):(xt(t),null)}return xt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cs(t,t.updateQueue),Ce(t),null);case 4:return Le(),e===null&&eo(t.stateNode.containerInfo),Ce(t),null;case 10:return sn(t.type),Ce(t),null;case 19:if(L(Be),a=t.memoizedState,a===null)return Ce(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Xi(a,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Il(e),o!==null){for(t.flags|=128,Xi(a,!1),e=o.updateQueue,t.updateQueue=e,cs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)uf(n,e),n=n.sibling;return V(Be,Be.current&1|2),me&&an(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&pt()>ms&&(t.flags|=128,r=!0,Xi(a,!1),t.lanes=4194304)}else{if(!r)if(e=Il(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,cs(t,e),Xi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!me)return Ce(t),null}else 2*pt()-a.renderingStartTime>ms&&n!==536870912&&(t.flags|=128,r=!0,Xi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pt(),e.sibling=null,n=Be.current,V(Be,r?n&1|2:n&1),me&&an(t,a.treeForkCount),e):(Ce(t),null);case 22:case 23:return xt(t),tu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),n=t.updateQueue,n!==null&&cs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&L(sa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sn($e),Ce(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Dy(e,t){switch(Hr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sn($e),Le(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wl(t),null;case 31:if(t.memoizedState!==null){if(xt(t),t.alternate===null)throw Error(s(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Be),null;case 4:return Le(),null;case 10:return sn(t.type),null;case 22:case 23:return xt(t),tu(),e!==null&&L(sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sn($e),null;case 25:return null;default:return null}}function kd(e,t){switch(Hr(t),t.tag){case 3:sn($e),Le();break;case 26:case 27:case 5:wl(t);break;case 4:Le();break;case 31:t.memoizedState!==null&&xt(t);break;case 13:xt(t);break;case 19:L(Be);break;case 10:sn(t.type);break;case 22:case 23:xt(t),tu(),e!==null&&L(sa);break;case 24:sn($e)}}function Ji(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var o=n.create,h=n.inst;a=o(),h.destroy=a}n=n.next}while(n!==r)}}catch(v){Se(t,t.return,v)}}function zn(e,t,n){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&e)===e){var h=a.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,r=t;var _=n,j=v;try{j()}catch(U){Se(r,_,U)}}}a=a.next}while(a!==o)}}catch(U){Se(t,t.return,U)}}function Md(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Tf(t,n)}catch(a){Se(e,e.return,a)}}}function qd(e,t,n){n.props=fa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Se(e,t,a)}}function Zi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(r){Se(e,t,r)}}function Pt(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){Se(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Ld(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){Se(e,e.return,r)}}function zu(e,t,n){try{var a=e.stateNode;ev(a,e.type,n,t),a[ot]=t}catch(r){Se(e,e.return,r)}}function Bd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=en));else if(a!==4&&(a===27&&Hn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ku(e,t,n),e=e.sibling;e!==null;)ku(e,t,n),e=e.sibling}function fs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Hn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(fs(e,t,n),e=e.sibling;e!==null;)fs(e,t,n),e=e.sibling}function Hd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);tt(t,a,n),t[Ie]=e,t[ot]=n}catch(o){Se(e,e.return,o)}}var fn=!1,Ye=!1,Mu=!1,$d=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function zy(e,t){if(e=e.containerInfo,ao=Ds,e=Wc(e),Nr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var h=0,v=-1,_=-1,j=0,U=0,q=e,N=null;t:for(;;){for(var C;q!==n||r!==0&&q.nodeType!==3||(v=h+r),q!==o||a!==0&&q.nodeType!==3||(_=h+a),q.nodeType===3&&(h+=q.nodeValue.length),(C=q.firstChild)!==null;)N=q,q=C;for(;;){if(q===e)break t;if(N===n&&++j===r&&(v=h),N===o&&++U===a&&(_=h),(C=q.nextSibling)!==null)break;q=N,N=q.parentNode}q=C}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(io={focusedElem:e,selectionRange:n},Ds=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){switch(t=Pe,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,r=o.memoizedProps,o=o.memoizedState,a=n.stateNode;try{var Q=fa(n.type,r);e=a.getSnapshotBeforeUpdate(Q,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(ee){Se(n,n.return,ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ro(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ro(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}}function Gd(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:hn(e,n),a&4&&Ji(5,n);break;case 1:if(hn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){Se(n,n.return,h)}else{var r=fa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Se(n,n.return,h)}}a&64&&Md(n),a&512&&Zi(n,n.return);break;case 3:if(hn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Tf(e,t)}catch(h){Se(n,n.return,h)}}break;case 27:t===null&&a&4&&Hd(n);case 26:case 5:hn(e,n),t===null&&a&4&&Ld(n),a&512&&Zi(n,n.return);break;case 12:hn(e,n);break;case 31:hn(e,n),a&4&&Kd(e,n);break;case 13:hn(e,n),a&4&&Qd(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Gy.bind(null,n),uv(e,n))));break;case 22:if(a=n.memoizedState!==null||fn,!a){t=t!==null&&t.memoizedState!==null||Ye,r=fn;var o=Ye;fn=a,(Ye=t)&&!o?gn(e,n,(n.subtreeFlags&8772)!==0):hn(e,n),fn=r,Ye=o}break;case 30:break;default:hn(e,n)}}function Vd(e){var t=e.alternate;t!==null&&(e.alternate=null,Vd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,ft=!1;function dn(e,t,n){for(n=n.child;n!==null;)Yd(e,t,n),n=n.sibling}function Yd(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(bi,n)}catch{}switch(n.tag){case 26:Ye||Pt(n,t),dn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ye||Pt(n,t);var a=De,r=ft;Hn(n.type)&&(De=n.stateNode,ft=!1),dn(e,t,n),il(n.stateNode),De=a,ft=r;break;case 5:Ye||Pt(n,t);case 6:if(a=De,r=ft,De=null,dn(e,t,n),De=a,ft=r,De!==null)if(ft)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(n.stateNode)}catch(o){Se(n,t,o)}else try{De.removeChild(n.stateNode)}catch(o){Se(n,t,o)}break;case 18:De!==null&&(ft?(e=De,Mh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ii(e)):Mh(De,n.stateNode));break;case 4:a=De,r=ft,De=n.stateNode.containerInfo,ft=!0,dn(e,t,n),De=a,ft=r;break;case 0:case 11:case 14:case 15:zn(2,n,t),Ye||zn(4,n,t),dn(e,t,n);break;case 1:Ye||(Pt(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&qd(n,t,a)),dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:Ye=(a=Ye)||n.memoizedState!==null,dn(e,t,n),Ye=a;break;default:dn(e,t,n)}}function Kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ii(e)}catch(n){Se(t,t.return,n)}}}function Qd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ii(e)}catch(n){Se(t,t.return,n)}}function Uy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new $d),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new $d),t;default:throw Error(s(435,e.tag))}}function ds(e,t){var n=Uy(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var r=Vy.bind(null,e,a);a.then(r,r)}})}function dt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],o=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(Hn(v.type)){De=v.stateNode,ft=!1;break e}break;case 5:De=v.stateNode,ft=!1;break e;case 3:case 4:De=v.stateNode.containerInfo,ft=!0;break e}v=v.return}if(De===null)throw Error(s(160));Yd(o,h,r),De=null,ft=!1,o=r.alternate,o!==null&&(o.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Xd(t,e),t=t.sibling}var Gt=null;function Xd(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dt(t,e),ht(e),a&4&&(zn(3,e,e.return),Ji(3,e),zn(5,e,e.return));break;case 1:dt(t,e),ht(e),a&512&&(Ye||n===null||Pt(n,n.return)),a&64&&fn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=Gt;if(dt(t,e),ht(e),a&512&&(Ye||n===null||Pt(n,n.return)),a&4){var o=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":o=r.getElementsByTagName("title")[0],(!o||o[Si]||o[Ie]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=r.createElement(a),r.head.insertBefore(o,r.querySelector("head > title"))),tt(o,a,n),o[Ie]=e,Ze(o),a=o;break e;case"link":var h=Xh("link","href",r).get(a+(n.href||""));if(h){for(var v=0;v<h.length;v++)if(o=h[v],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(v,1);break t}}o=r.createElement(a),tt(o,a,n),r.head.appendChild(o);break;case"meta":if(h=Xh("meta","content",r).get(a+(n.content||""))){for(v=0;v<h.length;v++)if(o=h[v],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(v,1);break t}}o=r.createElement(a),tt(o,a,n),r.head.appendChild(o);break;default:throw Error(s(468,a))}o[Ie]=e,Ze(o),a=o}e.stateNode=a}else Jh(r,e.type,e.stateNode);else e.stateNode=Qh(r,a,e.memoizedProps);else o!==a?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,a===null?Jh(r,e.type,e.stateNode):Qh(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&zu(e,e.memoizedProps,n.memoizedProps)}break;case 27:dt(t,e),ht(e),a&512&&(Ye||n===null||Pt(n,n.return)),n!==null&&a&4&&zu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dt(t,e),ht(e),a&512&&(Ye||n===null||Pt(n,n.return)),e.flags&32){r=e.stateNode;try{Oa(r,"")}catch(Q){Se(e,e.return,Q)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,zu(e,r,n!==null?n.memoizedProps:r)),a&1024&&(Mu=!0);break;case 6:if(dt(t,e),ht(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Q){Se(e,e.return,Q)}}break;case 3:if(js=null,r=Gt,Gt=Ts(t.containerInfo),dt(t,e),Gt=r,ht(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(Q){Se(e,e.return,Q)}Mu&&(Mu=!1,Jd(e));break;case 4:a=Gt,Gt=Ts(e.stateNode.containerInfo),dt(t,e),ht(e),Gt=a;break;case 12:dt(t,e),ht(e);break;case 31:dt(t,e),ht(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ds(e,a)));break;case 13:dt(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(gs=pt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ds(e,a)));break;case 22:r=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,j=fn,U=Ye;if(fn=j||r,Ye=U||_,dt(t,e),Ye=U,fn=j,ht(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||_||fn||Ye||da(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(o=_.stateNode,r)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=_.stateNode;var q=_.memoizedProps.style,N=q!=null&&q.hasOwnProperty("display")?q.display:null;v.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(Q){Se(_,_.return,Q)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=r?"":_.memoizedProps}catch(Q){Se(_,_.return,Q)}}}else if(t.tag===18){if(n===null){_=t;try{var C=_.stateNode;r?qh(C,!0):qh(_.stateNode,!1)}catch(Q){Se(_,_.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,ds(e,n))));break;case 19:dt(t,e),ht(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ds(e,a)));break;case 30:break;case 21:break;default:dt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Bd(a)){n=a;break}a=a.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode,o=Uu(e);fs(e,o,r);break;case 5:var h=n.stateNode;n.flags&32&&(Oa(h,""),n.flags&=-33);var v=Uu(e);fs(e,v,h);break;case 3:case 4:var _=n.stateNode.containerInfo,j=Uu(e);ku(e,j,_);break;default:throw Error(s(161))}}catch(U){Se(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gd(e,t.alternate,t),t=t.sibling}function da(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zn(4,t,t.return),da(t);break;case 1:Pt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&qd(t,t.return,n),da(t);break;case 27:il(t.stateNode);case 26:case 5:Pt(t,t.return),da(t);break;case 22:t.memoizedState===null&&da(t);break;case 30:da(t);break;default:da(t)}e=e.sibling}}function gn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:gn(r,o,n),Ji(4,o);break;case 1:if(gn(r,o,n),a=o,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(j){Se(a,a.return,j)}if(a=o,r=a.updateQueue,r!==null){var v=a.stateNode;try{var _=r.shared.hiddenCallbacks;if(_!==null)for(r.shared.hiddenCallbacks=null,r=0;r<_.length;r++)Af(_[r],v)}catch(j){Se(a,a.return,j)}}n&&h&64&&Md(o),Zi(o,o.return);break;case 27:Hd(o);case 26:case 5:gn(r,o,n),n&&a===null&&h&4&&Ld(o),Zi(o,o.return);break;case 12:gn(r,o,n);break;case 31:gn(r,o,n),n&&h&4&&Kd(r,o);break;case 13:gn(r,o,n),n&&h&4&&Qd(r,o);break;case 22:o.memoizedState===null&&gn(r,o,n),Zi(o,o.return);break;case 30:break;default:gn(r,o,n)}t=t.sibling}}function qu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ki(n))}function Lu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ki(e))}function Vt(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zd(e,t,n,a),t=t.sibling}function Zd(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Vt(e,t,n,a),r&2048&&Ji(9,t);break;case 1:Vt(e,t,n,a);break;case 3:Vt(e,t,n,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ki(e)));break;case 12:if(r&2048){Vt(e,t,n,a),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,v=o.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Se(t,t.return,_)}}else Vt(e,t,n,a);break;case 31:Vt(e,t,n,a);break;case 13:Vt(e,t,n,a);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?Vt(e,t,n,a):Pi(e,t):o._visibility&2?Vt(e,t,n,a):(o._visibility|=2,Xa(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),r&2048&&qu(h,t);break;case 24:Vt(e,t,n,a),r&2048&&Lu(t.alternate,t);break;default:Vt(e,t,n,a)}}function Xa(e,t,n,a,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,h=t,v=n,_=a,j=h.flags;switch(h.tag){case 0:case 11:case 15:Xa(o,h,v,_,r),Ji(8,h);break;case 23:break;case 22:var U=h.stateNode;h.memoizedState!==null?U._visibility&2?Xa(o,h,v,_,r):Pi(o,h):(U._visibility|=2,Xa(o,h,v,_,r)),r&&j&2048&&qu(h.alternate,h);break;case 24:Xa(o,h,v,_,r),r&&j&2048&&Lu(h.alternate,h);break;default:Xa(o,h,v,_,r)}t=t.sibling}}function Pi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Pi(n,a),r&2048&&qu(a.alternate,a);break;case 24:Pi(n,a),r&2048&&Lu(a.alternate,a);break;default:Pi(n,a)}t=t.sibling}}var Ii=8192;function Ja(e,t,n){if(e.subtreeFlags&Ii)for(e=e.child;e!==null;)Pd(e,t,n),e=e.sibling}function Pd(e,t,n){switch(e.tag){case 26:Ja(e,t,n),e.flags&Ii&&e.memoizedState!==null&&_v(n,Gt,e.memoizedState,e.memoizedProps);break;case 5:Ja(e,t,n);break;case 3:case 4:var a=Gt;Gt=Ts(e.stateNode.containerInfo),Ja(e,t,n),Gt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ii,Ii=16777216,Ja(e,t,n),Ii=a):Ja(e,t,n));break;default:Ja(e,t,n)}}function Id(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Pe=a,Fd(a,e)}Id(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wd(e),e=e.sibling}function Wd(e){switch(e.tag){case 0:case 11:case 15:Wi(e),e.flags&2048&&zn(9,e,e.return);break;case 3:Wi(e);break;case 12:Wi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hs(e)):Wi(e);break;default:Wi(e)}}function hs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Pe=a,Fd(a,e)}Id(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zn(8,t,t.return),hs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,hs(t));break;default:hs(t)}e=e.sibling}}function Fd(e,t){for(;Pe!==null;){var n=Pe;switch(n.tag){case 0:case 11:case 15:zn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ki(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Pe=a;else e:for(n=e;Pe!==null;){a=Pe;var r=a.sibling,o=a.return;if(Vd(a),a===n){Pe=null;break e}if(r!==null){r.return=o,Pe=r;break e}Pe=o}}}var ky={getCacheForType:function(e){var t=Fe($e),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Fe($e).controller.signal}},My=typeof WeakMap=="function"?WeakMap:Map,pe=0,je=null,fe=null,he=0,we=0,At=null,Un=!1,Za=!1,Bu=!1,mn=0,ke=0,kn=0,ha=0,Hu=0,Tt=0,Pa=0,Fi=null,gt=null,$u=!1,gs=0,eh=0,ms=1/0,ys=null,Mn=null,Qe=0,qn=null,Ia=null,yn=0,Gu=0,Vu=null,th=null,el=0,Yu=null;function Ot(){return(pe&2)!==0&&he!==0?he&-he:z.T!==null?Pu():yc()}function nh(){if(Tt===0)if((he&536870912)===0||me){var e=xl;xl<<=1,(xl&3932160)===0&&(xl=262144),Tt=e}else Tt=536870912;return e=Et.current,e!==null&&(e.flags|=32),Tt}function mt(e,t,n){(e===je&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),Ln(e,he,Tt,!1)),wi(e,n),((pe&2)===0||e!==je)&&(e===je&&((pe&2)===0&&(ha|=n),ke===4&&Ln(e,he,Tt,!1)),It(e))}function ah(e,t,n){if((pe&6)!==0)throw Error(s(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||_i(e,t),r=a?By(e,t):Qu(e,t,!0),o=a;do{if(r===0){Za&&!a&&Ln(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!qy(n)){r=Qu(e,t,!1),o=!1;continue}if(r===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;r=Fi;var _=v.current.memoizedState.isDehydrated;if(_&&(Wa(v,h).flags|=256),h=Qu(v,h,!1),h!==2){if(Bu&&!_){v.errorRecoveryDisabledLanes|=o,ha|=o,r=4;break e}o=gt,gt=r,o!==null&&(gt===null?gt=o:gt.push.apply(gt,o))}r=h}if(o=!1,r!==2)continue}}if(r===1){Wa(e,0),Ln(e,t,0,!0);break}e:{switch(a=e,o=r,o){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Ln(a,t,Tt,!Un);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(r=gs+300-pt(),10<r)){if(Ln(a,t,Tt,!Un),Tl(a,0,!0)!==0)break e;yn=t,a.timeoutHandle=Uh(ih.bind(null,a,n,gt,ys,$u,t,Tt,ha,Pa,Un,o,"Throttled",-0,0),r);break e}ih(a,n,gt,ys,$u,t,Tt,ha,Pa,Un,o,null,-0,0)}}break}while(!0);It(e)}function ih(e,t,n,a,r,o,h,v,_,j,U,q,N,C){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:en},Pd(t,o,q);var Q=(o&62914560)===o?gs-pt():(o&4194048)===o?eh-pt():0;if(Q=wv(q,Q),Q!==null){yn=o,e.cancelPendingCommit=Q(dh.bind(null,e,t,o,n,a,r,h,v,_,U,q,null,N,C)),Ln(e,o,h,!j);return}}dh(e,t,o,n,a,r,h,v,_)}function qy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],o=r.getSnapshot;r=r.value;try{if(!wt(o(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ln(e,t,n,a){t&=~Hu,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var o=31-_t(r),h=1<<o;a[o]=-1,r&=~h}n!==0&&hc(e,n,t)}function vs(){return(pe&6)===0?(tl(0),!1):!0}function Ku(){if(fe!==null){if(we===0)var e=fe.return;else e=fe,ln=ia=null,ru(e),Ga=null,qi=0,e=fe;for(;e!==null;)kd(e.alternate,e),e=e.return;fe=null}}function Wa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,av(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),yn=0,Ku(),je=e,fe=n=nn(e.current,null),he=t,we=0,At=null,Un=!1,Za=_i(e,t),Bu=!1,Pa=Tt=Hu=ha=kn=ke=0,gt=Fi=null,$u=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-_t(a),o=1<<r;t|=e[r],a&=~o}return mn=t,Ll(),n}function lh(e,t){re=null,z.H=Ki,t===$a||t===Ql?(t=wf(),we=3):t===Zr?(t=wf(),we=4):we=t===Eu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,fe===null&&(ke=1,ss(e,Ut(t,e.current)))}function sh(){var e=Et.current;return e===null?!0:(he&4194048)===he?Lt===null:(he&62914560)===he||(he&536870912)!==0?e===Lt:!1}function rh(){var e=z.H;return z.H=Ki,e===null?Ki:e}function uh(){var e=z.A;return z.A=ky,e}function ps(){ke=4,Un||(he&4194048)!==he&&Et.current!==null||(Za=!0),(kn&134217727)===0&&(ha&134217727)===0||je===null||Ln(je,he,Tt,!1)}function Qu(e,t,n){var a=pe;pe|=2;var r=rh(),o=uh();(je!==e||he!==t)&&(ys=null,Wa(e,t)),t=!1;var h=ke;e:do try{if(we!==0&&fe!==null){var v=fe,_=At;switch(we){case 8:Ku(),h=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var j=we;if(we=0,At=null,Fa(e,v,_,j),n&&Za){h=0;break e}break;default:j=we,we=0,At=null,Fa(e,v,_,j)}}Ly(),h=ke;break}catch(U){lh(e,U)}while(!0);return t&&e.shellSuspendCounter++,ln=ia=null,pe=a,z.H=r,z.A=o,fe===null&&(je=null,he=0,Ll()),h}function Ly(){for(;fe!==null;)oh(fe)}function By(e,t){var n=pe;pe|=2;var a=rh(),r=uh();je!==e||he!==t?(ys=null,ms=pt()+500,Wa(e,t)):Za=_i(e,t);e:do try{if(we!==0&&fe!==null){t=fe;var o=At;t:switch(we){case 1:we=0,At=null,Fa(e,t,o,1);break;case 2:case 9:if(bf(o)){we=0,At=null,ch(t);break}t=function(){we!==2&&we!==9||je!==e||(we=7),It(e)},o.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:bf(o)?(we=0,At=null,ch(t)):(we=0,At=null,Fa(e,t,o,7));break;case 5:var h=null;switch(fe.tag){case 26:h=fe.memoizedState;case 5:case 27:var v=fe;if(h?Zh(h):v.stateNode.complete){we=0,At=null;var _=v.sibling;if(_!==null)fe=_;else{var j=v.return;j!==null?(fe=j,bs(j)):fe=null}break t}}we=0,At=null,Fa(e,t,o,5);break;case 6:we=0,At=null,Fa(e,t,o,6);break;case 8:Ku(),ke=6;break e;default:throw Error(s(462))}}Hy();break}catch(U){lh(e,U)}while(!0);return ln=ia=null,z.H=a,z.A=r,pe=n,fe!==null?0:(je=null,he=0,Ll(),ke)}function Hy(){for(;fe!==null&&!o0();)oh(fe)}function oh(e){var t=zd(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?bs(e):fe=t}function ch(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Od(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=Od(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:ru(t);default:kd(n,t),t=fe=uf(t,mn),t=zd(n,t,mn)}e.memoizedProps=e.pendingProps,t===null?bs(e):fe=t}function Fa(e,t,n,a){ln=ia=null,ru(t),Ga=null,qi=0;var r=t.return;try{if(jy(e,r,t,n,he)){ke=1,ss(e,Ut(n,e.current)),fe=null;return}}catch(o){if(r!==null)throw fe=r,o;ke=1,ss(e,Ut(n,e.current)),fe=null;return}t.flags&32768?(me||a===1?e=!0:Za||(he&536870912)!==0?e=!1:(Un=e=!0,(a===2||a===9||a===3||a===6)&&(a=Et.current,a!==null&&a.tag===13&&(a.flags|=16384))),fh(t,e)):bs(t)}function bs(e){var t=e;do{if((t.flags&32768)!==0){fh(t,Un);return}e=t.return;var n=Cy(t.alternate,t,mn);if(n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ke===0&&(ke=5)}function fh(e,t){do{var n=Dy(e.alternate,e);if(n!==null){n.flags&=32767,fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){fe=e;return}fe=e=n}while(e!==null);ke=6,fe=null}function dh(e,t,n,a,r,o,h,v,_){e.cancelPendingCommit=null;do _s();while(Qe!==0);if((pe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,o|=Ur,b0(e,n,o,h,v,_),e===je&&(fe=je=null,he=0),Ia=t,qn=e,yn=n,Gu=o,Vu=r,th=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yy(Sl,function(){return vh(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,r=G.p,G.p=2,h=pe,pe|=4;try{zy(e,t,n)}finally{pe=h,G.p=r,z.T=a}}Qe=1,hh(),gh(),mh()}}function hh(){if(Qe===1){Qe=0;var e=qn,t=Ia,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var a=G.p;G.p=2;var r=pe;pe|=4;try{Xd(t,e);var o=io,h=Wc(e.containerInfo),v=o.focusedElem,_=o.selectionRange;if(h!==v&&v&&v.ownerDocument&&Ic(v.ownerDocument.documentElement,v)){if(_!==null&&Nr(v)){var j=_.start,U=_.end;if(U===void 0&&(U=j),"selectionStart"in v)v.selectionStart=j,v.selectionEnd=Math.min(U,v.value.length);else{var q=v.ownerDocument||document,N=q&&q.defaultView||window;if(N.getSelection){var C=N.getSelection(),Q=v.textContent.length,ee=Math.min(_.start,Q),Te=_.end===void 0?ee:Math.min(_.end,Q);!C.extend&&ee>Te&&(h=Te,Te=ee,ee=h);var x=Pc(v,ee),S=Pc(v,Te);if(x&&S&&(C.rangeCount!==1||C.anchorNode!==x.node||C.anchorOffset!==x.offset||C.focusNode!==S.node||C.focusOffset!==S.offset)){var O=q.createRange();O.setStart(x.node,x.offset),C.removeAllRanges(),ee>Te?(C.addRange(O),C.extend(S.node,S.offset)):(O.setEnd(S.node,S.offset),C.addRange(O))}}}}for(q=[],C=v;C=C.parentNode;)C.nodeType===1&&q.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<q.length;v++){var M=q[v];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Ds=!!ao,io=ao=null}finally{pe=r,G.p=a,z.T=n}}e.current=t,Qe=2}}function gh(){if(Qe===2){Qe=0;var e=qn,t=Ia,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var a=G.p;G.p=2;var r=pe;pe|=4;try{Gd(e,t.alternate,t)}finally{pe=r,G.p=a,z.T=n}}Qe=3}}function mh(){if(Qe===4||Qe===3){Qe=0,c0();var e=qn,t=Ia,n=yn,a=th;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qe=5:(Qe=0,Ia=qn=null,yh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Mn=null),cr(n),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(bi,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=z.T,r=G.p,G.p=2,z.T=null;try{for(var o=e.onRecoverableError,h=0;h<a.length;h++){var v=a[h];o(v.value,{componentStack:v.stack})}}finally{z.T=t,G.p=r}}(yn&3)!==0&&_s(),It(e),r=e.pendingLanes,(n&261930)!==0&&(r&42)!==0?e===Yu?el++:(el=0,Yu=e):el=0,tl(0)}}function yh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ki(t)))}function _s(){return hh(),gh(),mh(),vh()}function vh(){if(Qe!==5)return!1;var e=qn,t=Gu;Gu=0;var n=cr(yn),a=z.T,r=G.p;try{G.p=32>n?32:n,z.T=null,n=Vu,Vu=null;var o=qn,h=yn;if(Qe=0,Ia=qn=null,yn=0,(pe&6)!==0)throw Error(s(331));var v=pe;if(pe|=4,Wd(o.current),Zd(o,o.current,h,n),pe=v,tl(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(bi,o)}catch{}return!0}finally{G.p=r,z.T=a,yh(e,t)}}function ph(e,t,n){t=Ut(n,t),t=Su(e.stateNode,t,2),e=Rn(e,t,2),e!==null&&(wi(e,2),It(e))}function Se(e,t,n){if(e.tag===3)ph(e,e,n);else for(;t!==null;){if(t.tag===3){ph(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Mn===null||!Mn.has(a))){e=Ut(n,e),n=bd(2),a=Rn(t,n,2),a!==null&&(_d(n,a,t,e),wi(a,2),It(a));break}}t=t.return}}function Xu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new My;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(Bu=!0,r.add(n),e=$y.bind(null,e,t,n),t.then(e,e))}function $y(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,je===e&&(he&n)===n&&(ke===4||ke===3&&(he&62914560)===he&&300>pt()-gs?(pe&2)===0&&Wa(e,0):Hu|=n,Pa===he&&(Pa=0)),It(e)}function bh(e,t){t===0&&(t=dc()),e=ta(e,t),e!==null&&(wi(e,t),It(e))}function Gy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bh(e,n)}function Vy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),bh(e,n)}function Yy(e,t){return sr(e,t)}var ws=null,ei=null,Ju=!1,Ss=!1,Zu=!1,Bn=0;function It(e){e!==ei&&e.next===null&&(ei===null?ws=ei=e:ei=ei.next=e),Ss=!0,Ju||(Ju=!0,Qy())}function tl(e,t){if(!Zu&&Ss){Zu=!0;do for(var n=!1,a=ws;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var o=0;else{var h=a.suspendedLanes,v=a.pingedLanes;o=(1<<31-_t(42|e)+1)-1,o&=r&~(h&~v),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Eh(a,o))}else o=he,o=Tl(a,a===je?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(o&3)===0||_i(a,o)||(n=!0,Eh(a,o));a=a.next}while(n);Zu=!1}}function Ky(){_h()}function _h(){Ss=Ju=!1;var e=0;Bn!==0&&nv()&&(e=Bn);for(var t=pt(),n=null,a=ws;a!==null;){var r=a.next,o=wh(a,t);o===0?(a.next=null,n===null?ws=r:n.next=r,r===null&&(ei=n)):(n=a,(e!==0||(o&3)!==0)&&(Ss=!0)),a=r}Qe!==0&&Qe!==5||tl(e),Bn!==0&&(Bn=0)}function wh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-_t(o),v=1<<h,_=r[h];_===-1?((v&n)===0||(v&a)!==0)&&(r[h]=p0(v,t)):_<=t&&(e.expiredLanes|=v),o&=~v}if(t=je,n=he,n=Tl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&rr(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||_i(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&rr(a),cr(n)){case 2:case 8:n=cc;break;case 32:n=Sl;break;case 268435456:n=fc;break;default:n=Sl}return a=Sh.bind(null,e),n=sr(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&rr(a),e.callbackPriority=2,e.callbackNode=null,2}function Sh(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_s()&&e.callbackNode!==n)return null;var a=he;return a=Tl(e,e===je?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(ah(e,a,t),wh(e,pt()),e.callbackNode!=null&&e.callbackNode===n?Sh.bind(null,e):null)}function Eh(e,t){if(_s())return null;ah(e,t,!0)}function Qy(){iv(function(){(pe&6)!==0?sr(oc,Ky):_h()})}function Pu(){if(Bn===0){var e=Ba;e===0&&(e=El,El<<=1,(El&261888)===0&&(El=256)),Bn=e}return Bn}function xh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rl(""+e)}function Ah(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Xy(e,t,n,a,r){if(t==="submit"&&n&&n.stateNode===r){var o=xh((r[ot]||null).action),h=a.submitter;h&&(t=(t=h[ot]||null)?xh(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var v=new Ul("action","action",null,a,r);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Bn!==0){var _=h?Ah(r,h):new FormData(r);yu(n,{pending:!0,data:_,method:r.method,action:o},null,_)}}else typeof o=="function"&&(v.preventDefault(),_=h?Ah(r,h):new FormData(r),yu(n,{pending:!0,data:_,method:r.method,action:o},o,_))},currentTarget:r}]})}}for(var Iu=0;Iu<zr.length;Iu++){var Wu=zr[Iu],Jy=Wu.toLowerCase(),Zy=Wu[0].toUpperCase()+Wu.slice(1);$t(Jy,"on"+Zy)}$t(tf,"onAnimationEnd"),$t(nf,"onAnimationIteration"),$t(af,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(fy,"onTransitionRun"),$t(dy,"onTransitionStart"),$t(hy,"onTransitionCancel"),$t(lf,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Py=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Th(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var h=a.length-1;0<=h;h--){var v=a[h],_=v.instance,j=v.currentTarget;if(v=v.listener,_!==o&&r.isPropagationStopped())break e;o=v,r.currentTarget=j;try{o(r)}catch(U){ql(U)}r.currentTarget=null,o=_}else for(h=0;h<a.length;h++){if(v=a[h],_=v.instance,j=v.currentTarget,v=v.listener,_!==o&&r.isPropagationStopped())break e;o=v,r.currentTarget=j;try{o(r)}catch(U){ql(U)}r.currentTarget=null,o=_}}}}function de(e,t){var n=t[fr];n===void 0&&(n=t[fr]=new Set);var a=e+"__bubble";n.has(a)||(Oh(t,e,2,!1),n.add(a))}function Fu(e,t,n){var a=0;t&&(a|=4),Oh(n,e,a,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[Es]){e[Es]=!0,bc.forEach(function(n){n!=="selectionchange"&&(Py.has(n)||Fu(n,!1,e),Fu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,Fu("selectionchange",!1,t))}}function Oh(e,t,n,a){switch(ng(t)){case 2:var r=xv;break;case 8:r=Av;break;default:r=yo}n=r.bind(null,t,n,e),r=void 0,!_r||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function to(e,t,n,a,r){var o=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var v=a.stateNode.containerInfo;if(v===r)break;if(h===4)for(h=a.return;h!==null;){var _=h.tag;if((_===3||_===4)&&h.stateNode.containerInfo===r)return;h=h.return}for(;v!==null;){if(h=Sa(v),h===null)return;if(_=h.tag,_===5||_===6||_===26||_===27){a=o=h;continue e}v=v.parentNode}}a=a.return}Cc(function(){var j=o,U=pr(n),q=[];e:{var N=sf.get(e);if(N!==void 0){var C=Ul,Q=e;switch(e){case"keypress":if(Dl(n)===0)break e;case"keydown":case"keyup":C=V0;break;case"focusin":Q="focus",C=xr;break;case"focusout":Q="blur",C=xr;break;case"beforeblur":case"afterblur":C=xr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Q0;break;case tf:case nf:case af:C=U0;break;case lf:C=J0;break;case"scroll":case"scrollend":C=N0;break;case"wheel":C=P0;break;case"copy":case"cut":case"paste":C=M0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Mc;break;case"toggle":case"beforetoggle":C=W0}var ee=(t&4)!==0,Te=!ee&&(e==="scroll"||e==="scrollend"),x=ee?N!==null?N+"Capture":null:N;ee=[];for(var S=j,O;S!==null;){var M=S;if(O=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||O===null||x===null||(M=xi(S,x),M!=null&&ee.push(al(S,M,O))),Te)break;S=S.return}0<ee.length&&(N=new C(N,Q,null,n,U),q.push({event:N,listeners:ee}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",N&&n!==vr&&(Q=n.relatedTarget||n.fromElement)&&(Sa(Q)||Q[wa]))break e;if((C||N)&&(N=U.window===U?U:(N=U.ownerDocument)?N.defaultView||N.parentWindow:window,C?(Q=n.relatedTarget||n.toElement,C=j,Q=Q?Sa(Q):null,Q!==null&&(Te=f(Q),ee=Q.tag,Q!==Te||ee!==5&&ee!==27&&ee!==6)&&(Q=null)):(C=null,Q=j),C!==Q)){if(ee=Uc,M="onMouseLeave",x="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Mc,M="onPointerLeave",x="onPointerEnter",S="pointer"),Te=C==null?N:Ei(C),O=Q==null?N:Ei(Q),N=new ee(M,S+"leave",C,n,U),N.target=Te,N.relatedTarget=O,M=null,Sa(U)===j&&(ee=new ee(x,S+"enter",Q,n,U),ee.target=O,ee.relatedTarget=Te,M=ee),Te=M,C&&Q)t:{for(ee=Iy,x=C,S=Q,O=0,M=x;M;M=ee(M))O++;M=0;for(var F=S;F;F=ee(F))M++;for(;0<O-M;)x=ee(x),O--;for(;0<M-O;)S=ee(S),M--;for(;O--;){if(x===S||S!==null&&x===S.alternate){ee=x;break t}x=ee(x),S=ee(S)}ee=null}else ee=null;C!==null&&jh(q,N,C,ee,!1),Q!==null&&Te!==null&&jh(q,Te,Q,ee,!0)}}e:{if(N=j?Ei(j):window,C=N.nodeName&&N.nodeName.toLowerCase(),C==="select"||C==="input"&&N.type==="file")var ye=Yc;else if(Gc(N))if(Kc)ye=uy;else{ye=sy;var Z=ly}else C=N.nodeName,!C||C.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?j&&yr(j.elementType)&&(ye=Yc):ye=ry;if(ye&&(ye=ye(e,j))){Vc(q,ye,n,U);break e}Z&&Z(e,N,j),e==="focusout"&&j&&N.type==="number"&&j.memoizedProps.value!=null&&mr(N,"number",N.value)}switch(Z=j?Ei(j):window,e){case"focusin":(Gc(Z)||Z.contentEditable==="true")&&(Ca=Z,Rr=j,Di=null);break;case"focusout":Di=Rr=Ca=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Fc(q,n,U);break;case"selectionchange":if(cy)break;case"keydown":case"keyup":Fc(q,n,U)}var ue;if(Tr)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ra?Hc(e,n)&&(ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ge="onCompositionStart");ge&&(qc&&n.locale!=="ko"&&(Ra||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ra&&(ue=Dc()):(En=U,wr="value"in En?En.value:En.textContent,Ra=!0)),Z=xs(j,ge),0<Z.length&&(ge=new kc(ge,e,null,n,U),q.push({event:ge,listeners:Z}),ue?ge.data=ue:(ue=$c(n),ue!==null&&(ge.data=ue)))),(ue=ey?ty(e,n):ny(e,n))&&(ge=xs(j,"onBeforeInput"),0<ge.length&&(Z=new kc("onBeforeInput","beforeinput",null,n,U),q.push({event:Z,listeners:ge}),Z.data=ue)),Xy(q,e,j,n,U)}Th(q,t)})}function al(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xs(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,o=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||o===null||(r=xi(e,n),r!=null&&a.unshift(al(e,r,o)),r=xi(e,t),r!=null&&a.push(al(e,r,o))),e.tag===3)return a;e=e.return}return[]}function Iy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jh(e,t,n,a,r){for(var o=t._reactName,h=[];n!==null&&n!==a;){var v=n,_=v.alternate,j=v.stateNode;if(v=v.tag,_!==null&&_===a)break;v!==5&&v!==26&&v!==27||j===null||(_=j,r?(j=xi(n,o),j!=null&&h.unshift(al(n,j,_))):r||(j=xi(n,o),j!=null&&h.push(al(n,j,_)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Wy=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function Nh(e){return(typeof e=="string"?e:""+e).replace(Wy,`
`).replace(Fy,"")}function Rh(e,t){return t=Nh(t),Nh(e)===t}function Ae(e,t,n,a,r,o){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Oa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Oa(e,""+a);break;case"className":jl(e,"class",a);break;case"tabIndex":jl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":jl(e,n,a);break;case"style":Nc(e,a,o);break;case"data":if(t!=="object"){jl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Rl(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Ae(e,t,"name",r.name,r,null),Ae(e,t,"formEncType",r.formEncType,r,null),Ae(e,t,"formMethod",r.formMethod,r,null),Ae(e,t,"formTarget",r.formTarget,r,null)):(Ae(e,t,"encType",r.encType,r,null),Ae(e,t,"method",r.method,r,null),Ae(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Rl(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=en);break;case"onScroll":a!=null&&de("scroll",e);break;case"onScrollEnd":a!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Rl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":de("beforetoggle",e),de("toggle",e),Ol(e,"popover",a);break;case"xlinkActuate":Ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ft(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ft(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ft(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ft(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ol(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=O0.get(n)||n,Ol(e,n,a))}}function no(e,t,n,a,r,o){switch(n){case"style":Nc(e,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Oa(e,a):(typeof a=="number"||typeof a=="bigint")&&Oa(e,""+a);break;case"onScroll":a!=null&&de("scroll",e);break;case"onScrollEnd":a!=null&&de("scrollend",e);break;case"onClick":a!=null&&(e.onclick=en);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_c.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),o=e[ot]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,r),typeof a=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Ol(e,n,a)}}}function tt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var a=!1,r=!1,o;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(h!=null)switch(o){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ae(e,t,o,h,n,null)}}r&&Ae(e,t,"srcSet",n.srcSet,n,null),a&&Ae(e,t,"src",n.src,n,null);return;case"input":de("invalid",e);var v=o=h=r=null,_=null,j=null;for(a in n)if(n.hasOwnProperty(a)){var U=n[a];if(U!=null)switch(a){case"name":r=U;break;case"type":h=U;break;case"checked":_=U;break;case"defaultChecked":j=U;break;case"value":o=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:Ae(e,t,a,U,n,null)}}Ac(e,o,v,_,j,h,r,!1);return;case"select":de("invalid",e),a=h=o=null;for(r in n)if(n.hasOwnProperty(r)&&(v=n[r],v!=null))switch(r){case"value":o=v;break;case"defaultValue":h=v;break;case"multiple":a=v;default:Ae(e,t,r,v,n,null)}t=o,n=h,e.multiple=!!a,t!=null?Ta(e,!!a,t,!1):n!=null&&Ta(e,!!a,n,!0);return;case"textarea":de("invalid",e),o=r=a=null;for(h in n)if(n.hasOwnProperty(h)&&(v=n[h],v!=null))switch(h){case"value":a=v;break;case"defaultValue":r=v;break;case"children":o=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Ae(e,t,h,v,n,null)}Oc(e,a,r,o);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(a=n[_],a!=null))switch(_){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ae(e,t,_,a,n,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(a=0;a<nl.length;a++)de(nl[a],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in n)if(n.hasOwnProperty(j)&&(a=n[j],a!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ae(e,t,j,a,n,null)}return;default:if(yr(t)){for(U in n)n.hasOwnProperty(U)&&(a=n[U],a!==void 0&&no(e,t,U,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&Ae(e,t,v,a,n,null))}function ev(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,h=null,v=null,_=null,j=null,U=null;for(C in n){var q=n[C];if(n.hasOwnProperty(C)&&q!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":_=q;default:a.hasOwnProperty(C)||Ae(e,t,C,null,a,q)}}for(var N in a){var C=a[N];if(q=n[N],a.hasOwnProperty(N)&&(C!=null||q!=null))switch(N){case"type":o=C;break;case"name":r=C;break;case"checked":j=C;break;case"defaultChecked":U=C;break;case"value":h=C;break;case"defaultValue":v=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(137,t));break;default:C!==q&&Ae(e,t,N,C,a,q)}}gr(e,h,v,_,j,U,o,r);return;case"select":C=h=v=N=null;for(o in n)if(_=n[o],n.hasOwnProperty(o)&&_!=null)switch(o){case"value":break;case"multiple":C=_;default:a.hasOwnProperty(o)||Ae(e,t,o,null,a,_)}for(r in a)if(o=a[r],_=n[r],a.hasOwnProperty(r)&&(o!=null||_!=null))switch(r){case"value":N=o;break;case"defaultValue":v=o;break;case"multiple":h=o;default:o!==_&&Ae(e,t,r,o,a,_)}t=v,n=h,a=C,N!=null?Ta(e,!!n,N,!1):!!a!=!!n&&(t!=null?Ta(e,!!n,t,!0):Ta(e,!!n,n?[]:"",!1));return;case"textarea":C=N=null;for(v in n)if(r=n[v],n.hasOwnProperty(v)&&r!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ae(e,t,v,null,a,r)}for(h in a)if(r=a[h],o=n[h],a.hasOwnProperty(h)&&(r!=null||o!=null))switch(h){case"value":N=r;break;case"defaultValue":C=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(s(91));break;default:r!==o&&Ae(e,t,h,r,a,o)}Tc(e,N,C);return;case"option":for(var Q in n)if(N=n[Q],n.hasOwnProperty(Q)&&N!=null&&!a.hasOwnProperty(Q))switch(Q){case"selected":e.selected=!1;break;default:Ae(e,t,Q,null,a,N)}for(_ in a)if(N=a[_],C=n[_],a.hasOwnProperty(_)&&N!==C&&(N!=null||C!=null))switch(_){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ae(e,t,_,N,a,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in n)N=n[ee],n.hasOwnProperty(ee)&&N!=null&&!a.hasOwnProperty(ee)&&Ae(e,t,ee,null,a,N);for(j in a)if(N=a[j],C=n[j],a.hasOwnProperty(j)&&N!==C&&(N!=null||C!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,t));break;default:Ae(e,t,j,N,a,C)}return;default:if(yr(t)){for(var Te in n)N=n[Te],n.hasOwnProperty(Te)&&N!==void 0&&!a.hasOwnProperty(Te)&&no(e,t,Te,void 0,a,N);for(U in a)N=a[U],C=n[U],!a.hasOwnProperty(U)||N===C||N===void 0&&C===void 0||no(e,t,U,N,a,C);return}}for(var x in n)N=n[x],n.hasOwnProperty(x)&&N!=null&&!a.hasOwnProperty(x)&&Ae(e,t,x,null,a,N);for(q in a)N=a[q],C=n[q],!a.hasOwnProperty(q)||N===C||N==null&&C==null||Ae(e,t,q,N,a,C)}function Ch(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],o=r.transferSize,h=r.initiatorType,v=r.duration;if(o&&v&&Ch(h)){for(h=0,v=r.responseEnd,a+=1;a<n.length;a++){var _=n[a],j=_.startTime;if(j>v)break;var U=_.transferSize,q=_.initiatorType;U&&Ch(q)&&(_=_.responseEnd,h+=U*(_<v?1:(v-j)/(_-j)))}if(--a,t+=8*(o+h)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ao=null,io=null;function As(e){return e.nodeType===9?e:e.ownerDocument}function Dh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var so=null;function nv(){var e=window.event;return e&&e.type==="popstate"?e===so?!1:(so=e,!0):(so=null,!1)}var Uh=typeof setTimeout=="function"?setTimeout:void 0,av=typeof clearTimeout=="function"?clearTimeout:void 0,kh=typeof Promise=="function"?Promise:void 0,iv=typeof queueMicrotask=="function"?queueMicrotask:typeof kh<"u"?function(e){return kh.resolve(null).then(e).catch(lv)}:Uh;function lv(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function Mh(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(r),ii(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")il(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,il(n);for(var o=n.firstChild;o;){var h=o.nextSibling,v=o.nodeName;o[Si]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=h}}else n==="body"&&il(e.ownerDocument.body);n=r}while(n);ii(t)}function qh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function ro(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ro(n),dr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function sv(e,t,n,a){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Si])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Bt(e.nextSibling),e===null)break}return null}function rv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bt(e.nextSibling),e===null))return null;return e}function Lh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Bt(e.nextSibling),e===null))return null;return e}function uo(e){return e.data==="$?"||e.data==="$~"}function oo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var co=null;function Bh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Bt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function $h(e,t,n){switch(t=As(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function il(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dr(e)}var Ht=new Map,Gh=new Set;function Ts(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=G.d;G.d={f:ov,r:cv,D:fv,C:dv,L:hv,m:gv,X:yv,S:mv,M:vv};function ov(){var e=vn.f(),t=vs();return e||t}function cv(e){var t=Ea(e);t!==null&&t.tag===5&&t.type==="form"?ld(t):vn.r(e)}var ti=typeof document>"u"?null:document;function Vh(e,t,n){var a=ti;if(a&&typeof t=="string"&&t){var r=Dt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Gh.has(r)||(Gh.add(r),e={rel:e,crossOrigin:n,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),tt(t,"link",e),Ze(t),a.head.appendChild(t)))}}function fv(e){vn.D(e),Vh("dns-prefetch",e,null)}function dv(e,t){vn.C(e,t),Vh("preconnect",e,t)}function hv(e,t,n){vn.L(e,t,n);var a=ti;if(a&&e&&t){var r='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Dt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Dt(n.imageSizes)+'"]')):r+='[href="'+Dt(e)+'"]';var o=r;switch(t){case"style":o=ni(e);break;case"script":o=ai(e)}Ht.has(o)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ht.set(o,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(ll(o))||t==="script"&&a.querySelector(sl(o))||(t=a.createElement("link"),tt(t,"link",e),Ze(t),a.head.appendChild(t)))}}function gv(e,t){vn.m(e,t);var n=ti;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Dt(a)+'"][href="'+Dt(e)+'"]',o=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ai(e)}if(!Ht.has(o)&&(e=w({rel:"modulepreload",href:e},t),Ht.set(o,e),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(sl(o)))return}a=n.createElement("link"),tt(a,"link",e),Ze(a),n.head.appendChild(a)}}}function mv(e,t,n){vn.S(e,t,n);var a=ti;if(a&&e){var r=xa(a).hoistableStyles,o=ni(e);t=t||"default";var h=r.get(o);if(!h){var v={loading:0,preload:null};if(h=a.querySelector(ll(o)))v.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ht.get(o))&&fo(e,n);var _=h=a.createElement("link");Ze(_),tt(_,"link",e),_._p=new Promise(function(j,U){_.onload=j,_.onerror=U}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Os(h,t,a)}h={type:"stylesheet",instance:h,count:1,state:v},r.set(o,h)}}}function yv(e,t){vn.X(e,t);var n=ti;if(n&&e){var a=xa(n).hoistableScripts,r=ai(e),o=a.get(r);o||(o=n.querySelector(sl(r)),o||(e=w({src:e,async:!0},t),(t=Ht.get(r))&&ho(e,t),o=n.createElement("script"),Ze(o),tt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(r,o))}}function vv(e,t){vn.M(e,t);var n=ti;if(n&&e){var a=xa(n).hoistableScripts,r=ai(e),o=a.get(r);o||(o=n.querySelector(sl(r)),o||(e=w({src:e,async:!0,type:"module"},t),(t=Ht.get(r))&&ho(e,t),o=n.createElement("script"),Ze(o),tt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(r,o))}}function Yh(e,t,n,a){var r=(r=ce.current)?Ts(r):null;if(!r)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ni(n.href),n=xa(r).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ni(n.href);var o=xa(r).hoistableStyles,h=o.get(e);if(h||(r=r.ownerDocument||r,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=r.querySelector(ll(e)))&&!o._p&&(h.instance=o,h.state.loading=5),Ht.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ht.set(e,n),o||pv(r,e,n,h.state))),t&&a===null)throw Error(s(528,""));return h}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ai(n),n=xa(r).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ni(e){return'href="'+Dt(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function Kh(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function pv(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),tt(t,"link",n),Ze(t),e.head.appendChild(t))}function ai(e){return'[src="'+Dt(e)+'"]'}function sl(e){return"script[async]"+e}function Qh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Dt(n.href)+'"]');if(a)return t.instance=a,Ze(a),a;var r=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ze(a),tt(a,"style",r),Os(a,n.precedence,e),t.instance=a;case"stylesheet":r=ni(n.href);var o=e.querySelector(ll(r));if(o)return t.state.loading|=4,t.instance=o,Ze(o),o;a=Kh(n),(r=Ht.get(r))&&fo(a,r),o=(e.ownerDocument||e).createElement("link"),Ze(o);var h=o;return h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),tt(o,"link",a),t.state.loading|=4,Os(o,n.precedence,e),t.instance=o;case"script":return o=ai(n.src),(r=e.querySelector(sl(o)))?(t.instance=r,Ze(r),r):(a=n,(r=Ht.get(o))&&(a=w({},n),ho(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ze(r),tt(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Os(a,n.precedence,e));return t.instance}function Os(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,o=r,h=0;h<a.length;h++){var v=a[h];if(v.dataset.precedence===t)o=v;else if(o!==r)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function fo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ho(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var js=null;function Xh(e,t,n){if(js===null){var a=new Map,r=js=new Map;r.set(n,a)}else r=js,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var o=n[r];if(!(o[Si]||o[Ie]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var v=a.get(h);v?v.push(o):a.set(h,[o])}}return a}function Jh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function bv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _v(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var r=ni(a.href),o=t.querySelector(ll(r));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ns.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Ze(o);return}o=t.ownerDocument||t,a=Kh(a),(r=Ht.get(r))&&fo(a,r),o=o.createElement("link"),Ze(o);var h=o;h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),tt(o,"link",a),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ns.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var go=0;function wv(e,t){return e.stylesheets&&e.count===0&&Cs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Cs(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&go===0&&(go=62500*tv());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cs(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>go?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function Ns(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rs=null;function Cs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rs=new Map,t.forEach(Sv,e),Rs=null,Ns.call(e))}function Sv(e,t){if(!(t.state.loading&4)){var n=Rs.get(e);if(n)var a=n.get(null);else{n=new Map,Rs.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var h=r[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),a=h)}a&&n.set(null,a)}r=t.instance,h=r.getAttribute("data-precedence"),o=n.get(h)||a,o===a&&n.set(null,r),n.set(h,r),this.count++,a=Ns.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),o?o.parentNode.insertBefore(r,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var rl={$$typeof:B,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Ev(e,t,n,a,r,o,h,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ph(e,t,n,a,r,o,h,v,_,j,U,q){return e=new Ev(e,t,n,h,_,j,U,q,v),t=1,o===!0&&(t|=24),o=St(3,null,null,t),e.current=o,o.stateNode=e,t=Qr(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:a,isDehydrated:n,cache:t},Pr(o),e}function Ih(e){return e?(e=Ua,e):Ua}function Wh(e,t,n,a,r,o){r=Ih(r),a.context===null?a.context=r:a.pendingContext=r,a=Nn(t),a.payload={element:n},o=o===void 0?null:o,o!==null&&(a.callback=o),n=Rn(e,a,t),n!==null&&(mt(n,e,t),Bi(n,e,t))}function Fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mo(e,t){Fh(e,t),(e=e.alternate)&&Fh(e,t)}function eg(e){if(e.tag===13||e.tag===31){var t=ta(e,67108864);t!==null&&mt(t,e,67108864),mo(e,67108864)}}function tg(e){if(e.tag===13||e.tag===31){var t=Ot();t=or(t);var n=ta(e,t);n!==null&&mt(n,e,t),mo(e,t)}}var Ds=!0;function xv(e,t,n,a){var r=z.T;z.T=null;var o=G.p;try{G.p=2,yo(e,t,n,a)}finally{G.p=o,z.T=r}}function Av(e,t,n,a){var r=z.T;z.T=null;var o=G.p;try{G.p=8,yo(e,t,n,a)}finally{G.p=o,z.T=r}}function yo(e,t,n,a){if(Ds){var r=vo(a);if(r===null)to(e,t,a,zs,n),ag(e,a);else if(Ov(r,e,t,n,a))a.stopPropagation();else if(ag(e,a),t&4&&-1<Tv.indexOf(e)){for(;r!==null;){var o=Ea(r);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=Pn(o.pendingLanes);if(h!==0){var v=o;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var _=1<<31-_t(h);v.entanglements[1]|=_,h&=~_}It(o),(pe&6)===0&&(ms=pt()+500,tl(0))}}break;case 31:case 13:v=ta(o,2),v!==null&&mt(v,o,2),vs(),mo(o,2)}if(o=vo(a),o===null&&to(e,t,a,zs,n),o===r)break;r=o}r!==null&&a.stopPropagation()}else to(e,t,a,null,n)}}function vo(e){return e=pr(e),po(e)}var zs=null;function po(e){if(zs=null,e=Sa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zs=e,null}function ng(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(f0()){case oc:return 2;case cc:return 8;case Sl:case d0:return 32;case fc:return 268435456;default:return 32}default:return 32}}var bo=!1,$n=null,Gn=null,Vn=null,ul=new Map,ol=new Map,Yn=[],Tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ag(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(t.pointerId)}}function cl(e,t,n,a,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[r]},t!==null&&(t=Ea(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Ov(e,t,n,a,r){switch(t){case"focusin":return $n=cl($n,e,t,n,a,r),!0;case"dragenter":return Gn=cl(Gn,e,t,n,a,r),!0;case"mouseover":return Vn=cl(Vn,e,t,n,a,r),!0;case"pointerover":var o=r.pointerId;return ul.set(o,cl(ul.get(o)||null,e,t,n,a,r)),!0;case"gotpointercapture":return o=r.pointerId,ol.set(o,cl(ol.get(o)||null,e,t,n,a,r)),!0}return!1}function ig(e){var t=Sa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,vc(e.priority,function(){tg(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,vc(e.priority,function(){tg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vo(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);vr=a,n.target.dispatchEvent(a),vr=null}else return t=Ea(n),t!==null&&eg(t),e.blockedOn=n,!1;t.shift()}return!0}function lg(e,t,n){Us(e)&&n.delete(t)}function jv(){bo=!1,$n!==null&&Us($n)&&($n=null),Gn!==null&&Us(Gn)&&(Gn=null),Vn!==null&&Us(Vn)&&(Vn=null),ul.forEach(lg),ol.forEach(lg)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,bo||(bo=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,jv)))}var Ms=null;function sg(e){Ms!==e&&(Ms=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Ms===e&&(Ms=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(po(a||n)===null)continue;break}var o=Ea(n);o!==null&&(e.splice(t,3),t-=3,yu(o,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function ii(e){function t(_){return ks(_,e)}$n!==null&&ks($n,e),Gn!==null&&ks(Gn,e),Vn!==null&&ks(Vn,e),ul.forEach(t),ol.forEach(t);for(var n=0;n<Yn.length;n++){var a=Yn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)ig(n),n.blockedOn===null&&Yn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],o=n[a+1],h=r[ot]||null;if(typeof o=="function")h||sg(n);else if(h){var v=null;if(o&&o.hasAttribute("formAction")){if(r=o,h=o[ot]||null)v=h.formAction;else if(po(r)!==null)continue}else v=h.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),sg(n)}}}function rg(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(h){return r=h})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function _o(e){this._internalRoot=e}qs.prototype.render=_o.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,a=Ot();Wh(n,a,e,t,null,null)},qs.prototype.unmount=_o.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wh(e.current,2,null,e,null,null),vs(),t[wa]=null}};function qs(e){this._internalRoot=e}qs.prototype.unstable_scheduleHydration=function(e){if(e){var t=yc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&ig(e)}};var ug=i.version;if(ug!=="19.2.0")throw Error(s(527,ug,"19.2.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Nv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{bi=Ls.inject(Nv),bt=Ls}catch{}}return dl.createRoot=function(e,t){if(!c(e))throw Error(s(299));var n=!1,a="",r=md,o=yd,h=vd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Ph(e,1,!1,null,null,n,a,null,r,o,h,rg),e[wa]=t.current,eo(e),new _o(t)},dl.hydrateRoot=function(e,t,n){if(!c(e))throw Error(s(299));var a=!1,r="",o=md,h=yd,v=vd,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Ph(e,1,!0,t,n??null,a,r,_,o,h,v,rg),t.context=Ih(null),n=t.current,a=Ot(),a=or(a),r=Nn(a),r.callback=null,Rn(n,r,a),n=a,t.current.lanes=n,wi(t,n),It(t),e[wa]=t.current,eo(e),new qs(t)},dl.version="19.2.0",dl}var pg;function $v(){if(pg)return Eo.exports;pg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),Eo.exports=Hv(),Eo.exports}var Gv=$v();const Vv=Po(Gv);var Mo=function(u,i){return Mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(l[c]=s[c])},Mo(u,i)};function Wg(u,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Mo(u,i);function l(){this.constructor=u}u.prototype=i===null?Object.create(i):(l.prototype=i.prototype,new l)}var Js=function(){return Js=Object.assign||function(i){for(var l,s=1,c=arguments.length;s<c;s++){l=arguments[s];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(i[f]=l[f])}return i},Js.apply(this,arguments)};function mi(u,i){var l={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&i.indexOf(s)<0&&(l[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(u);c<s.length;c++)i.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(u,s[c])&&(l[s[c]]=u[s[c]]);return l}function Fg(u,i,l,s){var c=arguments.length,f=c<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,l):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(u,i,l,s);else for(var g=u.length-1;g>=0;g--)(d=u[g])&&(f=(c<3?d(f):c>3?d(i,l,f):d(i,l))||f);return c>3&&f&&Object.defineProperty(i,l,f),f}function em(u,i){return function(l,s){i(l,s,u)}}function tm(u,i,l,s,c,f){function d($){if($!==void 0&&typeof $!="function")throw new TypeError("Function expected");return $}for(var g=s.kind,y=g==="getter"?"get":g==="setter"?"set":"value",m=!i&&u?s.static?u:u.prototype:null,b=i||(m?Object.getOwnPropertyDescriptor(m,s.name):{}),w,A=!1,T=l.length-1;T>=0;T--){var D={};for(var k in s)D[k]=k==="access"?{}:s[k];for(var k in s.access)D.access[k]=s.access[k];D.addInitializer=function($){if(A)throw new TypeError("Cannot add initializers after decoration has completed");f.push(d($||null))};var R=(0,l[T])(g==="accessor"?{get:b.get,set:b.set}:b[y],D);if(g==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(w=d(R.get))&&(b.get=w),(w=d(R.set))&&(b.set=w),(w=d(R.init))&&c.unshift(w)}else(w=d(R))&&(g==="field"?c.unshift(w):b[y]=w)}m&&Object.defineProperty(m,s.name,b),A=!0}function nm(u,i,l){for(var s=arguments.length>2,c=0;c<i.length;c++)l=s?i[c].call(u,l):i[c].call(u);return s?l:void 0}function am(u){return typeof u=="symbol"?u:"".concat(u)}function im(u,i,l){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(u,"name",{configurable:!0,value:l?"".concat(l," ",i):i})}function lm(u,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,i)}function P(u,i,l,s){function c(f){return f instanceof l?f:new l(function(d){d(f)})}return new(l||(l=Promise))(function(f,d){function g(b){try{m(s.next(b))}catch(w){d(w)}}function y(b){try{m(s.throw(b))}catch(w){d(w)}}function m(b){b.done?f(b.value):c(b.value).then(g,y)}m((s=s.apply(u,i||[])).next())})}function sm(u,i){var l={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,c,f,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=g(0),d.throw=g(1),d.return=g(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(b){return y([m,b])}}function y(m){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(l=0)),l;)try{if(s=1,c&&(f=m[0]&2?c.return:m[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,m[1])).done)return f;switch(c=0,f&&(m=[m[0]&2,f.value]),m[0]){case 0:case 1:f=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,c=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(f=l.trys,!(f=f.length>0&&f[f.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!f||m[1]>f[0]&&m[1]<f[3])){l.label=m[1];break}if(m[0]===6&&l.label<f[1]){l.label=f[1],f=m;break}if(f&&l.label<f[2]){l.label=f[2],l.ops.push(m);break}f[2]&&l.ops.pop(),l.trys.pop();continue}m=i.call(u,l)}catch(b){m=[6,b],c=0}finally{s=f=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Fs=Object.create?(function(u,i,l,s){s===void 0&&(s=l);var c=Object.getOwnPropertyDescriptor(i,l);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[l]}}),Object.defineProperty(u,s,c)}):(function(u,i,l,s){s===void 0&&(s=l),u[s]=i[l]});function rm(u,i){for(var l in u)l!=="default"&&!Object.prototype.hasOwnProperty.call(i,l)&&Fs(i,u,l)}function Zs(u){var i=typeof Symbol=="function"&&Symbol.iterator,l=i&&u[i],s=0;if(l)return l.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wo(u,i){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var s=l.call(u),c,f=[],d;try{for(;(i===void 0||i-- >0)&&!(c=s.next()).done;)f.push(c.value)}catch(g){d={error:g}}finally{try{c&&!c.done&&(l=s.return)&&l.call(s)}finally{if(d)throw d.error}}return f}function um(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(Wo(arguments[i]));return u}function om(){for(var u=0,i=0,l=arguments.length;i<l;i++)u+=arguments[i].length;for(var s=Array(u),c=0,i=0;i<l;i++)for(var f=arguments[i],d=0,g=f.length;d<g;d++,c++)s[c]=f[d];return s}function cm(u,i,l){if(l||arguments.length===2)for(var s=0,c=i.length,f;s<c;s++)(f||!(s in i))&&(f||(f=Array.prototype.slice.call(i,0,s)),f[s]=i[s]);return u.concat(f||Array.prototype.slice.call(i))}function hi(u){return this instanceof hi?(this.v=u,this):new hi(u)}function fm(u,i,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=l.apply(u,i||[]),c,f=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",d),c[Symbol.asyncIterator]=function(){return this},c;function d(T){return function(D){return Promise.resolve(D).then(T,w)}}function g(T,D){s[T]&&(c[T]=function(k){return new Promise(function(R,$){f.push([T,k,R,$])>1||y(T,k)})},D&&(c[T]=D(c[T])))}function y(T,D){try{m(s[T](D))}catch(k){A(f[0][3],k)}}function m(T){T.value instanceof hi?Promise.resolve(T.value.v).then(b,w):A(f[0][2],T)}function b(T){y("next",T)}function w(T){y("throw",T)}function A(T,D){T(D),f.shift(),f.length&&y(f[0][0],f[0][1])}}function dm(u){var i,l;return i={},s("next"),s("throw",function(c){throw c}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(c,f){i[c]=u[c]?function(d){return(l=!l)?{value:hi(u[c](d)),done:!1}:f?f(d):d}:f}}function hm(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=u[Symbol.asyncIterator],l;return i?i.call(u):(u=typeof Zs=="function"?Zs(u):u[Symbol.iterator](),l={},s("next"),s("throw"),s("return"),l[Symbol.asyncIterator]=function(){return this},l);function s(f){l[f]=u[f]&&function(d){return new Promise(function(g,y){d=u[f](d),c(g,y,d.done,d.value)})}}function c(f,d,g,y){Promise.resolve(y).then(function(m){f({value:m,done:g})},d)}}function gm(u,i){return Object.defineProperty?Object.defineProperty(u,"raw",{value:i}):u.raw=i,u}var Yv=Object.create?(function(u,i){Object.defineProperty(u,"default",{enumerable:!0,value:i})}):function(u,i){u.default=i},qo=function(u){return qo=Object.getOwnPropertyNames||function(i){var l=[];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(l[l.length]=s);return l},qo(u)};function mm(u){if(u&&u.__esModule)return u;var i={};if(u!=null)for(var l=qo(u),s=0;s<l.length;s++)l[s]!=="default"&&Fs(i,u,l[s]);return Yv(i,u),i}function ym(u){return u&&u.__esModule?u:{default:u}}function vm(u,i,l,s){if(l==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?u!==i||!s:!i.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?s:l==="a"?s.call(u):s?s.value:i.get(u)}function pm(u,i,l,s,c){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?u!==i||!c:!i.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?c.call(u,l):c?c.value=l:i.set(u,l),l}function bm(u,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof u=="function"?i===u:u.has(i)}function _m(u,i,l){if(i!=null){if(typeof i!="object"&&typeof i!="function")throw new TypeError("Object expected.");var s,c;if(l){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=i[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=i[Symbol.dispose],l&&(c=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");c&&(s=function(){try{c.call(this)}catch(f){return Promise.reject(f)}}),u.stack.push({value:i,dispose:s,async:l})}else l&&u.stack.push({async:!0});return i}var Kv=typeof SuppressedError=="function"?SuppressedError:function(u,i,l){var s=new Error(l);return s.name="SuppressedError",s.error=u,s.suppressed=i,s};function wm(u){function i(f){u.error=u.hasError?new Kv(f,u.error,"An error was suppressed during disposal."):f,u.hasError=!0}var l,s=0;function c(){for(;l=u.stack.pop();)try{if(!l.async&&s===1)return s=0,u.stack.push(l),Promise.resolve().then(c);if(l.dispose){var f=l.dispose.call(l.value);if(l.async)return s|=2,Promise.resolve(f).then(c,function(d){return i(d),c()})}else s|=1}catch(d){i(d)}if(s===1)return u.hasError?Promise.reject(u.error):Promise.resolve();if(u.hasError)throw u.error}return c()}function Sm(u,i){return typeof u=="string"&&/^\.\.?\//.test(u)?u.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(l,s,c,f,d){return s?i?".jsx":".js":c&&(!f||!d)?l:c+f+"."+d.toLowerCase()+"js"}):u}const Qv={__extends:Wg,__assign:Js,__rest:mi,__decorate:Fg,__param:em,__esDecorate:tm,__runInitializers:nm,__propKey:am,__setFunctionName:im,__metadata:lm,__awaiter:P,__generator:sm,__createBinding:Fs,__exportStar:rm,__values:Zs,__read:Wo,__spread:um,__spreadArrays:om,__spreadArray:cm,__await:hi,__asyncGenerator:fm,__asyncDelegator:dm,__asyncValues:hm,__makeTemplateObject:gm,__importStar:mm,__importDefault:ym,__classPrivateFieldGet:vm,__classPrivateFieldSet:pm,__classPrivateFieldIn:bm,__addDisposableResource:_m,__disposeResources:wm,__rewriteRelativeImportExtension:Sm},Xv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_m,get __assign(){return Js},__asyncDelegator:dm,__asyncGenerator:fm,__asyncValues:hm,__await:hi,__awaiter:P,__classPrivateFieldGet:vm,__classPrivateFieldIn:bm,__classPrivateFieldSet:pm,__createBinding:Fs,__decorate:Fg,__disposeResources:wm,__esDecorate:tm,__exportStar:rm,__extends:Wg,__generator:sm,__importDefault:ym,__importStar:mm,__makeTemplateObject:gm,__metadata:lm,__param:em,__propKey:am,__read:Wo,__rest:mi,__rewriteRelativeImportExtension:Sm,__runInitializers:nm,__setFunctionName:im,__spread:um,__spreadArray:cm,__spreadArrays:om,__values:Zs,default:Qv},Symbol.toStringTag,{value:"Module"})),Jv="modulepreload",Zv=function(u){return"/"+u},bg={},yi=function(i,l,s){let c=Promise.resolve();if(l&&l.length>0){let d=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));c=d(l.map(m=>{if(m=Zv(m),m in bg)return;bg[m]=!0;const b=m.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const A=document.createElement("link");if(A.rel=b?"stylesheet":Jv,b||(A.as="script"),A.crossOrigin="",A.href=m,y&&A.setAttribute("nonce",y),document.head.appendChild(A),b)return new Promise((T,D)=>{A.addEventListener("load",T),A.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${m}`)))})}))}function f(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return c.then(d=>{for(const g of d||[])g.status==="rejected"&&f(g.reason);return i().catch(f)})},Pv=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...l)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>_a);return{default:s}},void 0).then(({default:s})=>s(...l)):i=fetch,(...l)=>i(...l)};class Fo extends Error{constructor(i,l="FunctionsError",s){super(i),this.name=l,this.context=s}}class _g extends Fo{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class wg extends Fo{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class Sg extends Fo{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var Lo;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Lo||(Lo={}));class Iv{constructor(i,{headers:l={},customFetch:s,region:c=Lo.Any}={}){this.url=i,this.headers=l,this.region=c,this.fetch=Pv(s)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i){return P(this,arguments,void 0,function*(l,s={}){var c;try{const{headers:f,method:d,body:g,signal:y}=s;let m={},{region:b}=s;b||(b=this.region);const w=new URL(`${this.url}/${l}`);b&&b!=="any"&&(m["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let A;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",A=g):typeof g=="string"?(m["Content-Type"]="text/plain",A=g):typeof FormData<"u"&&g instanceof FormData?A=g:(m["Content-Type"]="application/json",A=JSON.stringify(g)):A=g;const T=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),f),body:A,signal:y}).catch($=>{throw $.name==="AbortError"?$:new _g($)}),D=T.headers.get("x-relay-error");if(D&&D==="true")throw new wg(T);if(!T.ok)throw new Sg(T);let k=((c=T.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),R;return k==="application/json"?R=yield T.json():k==="application/octet-stream"||k==="application/pdf"?R=yield T.blob():k==="text/event-stream"?R=T:k==="multipart/form-data"?R=yield T.formData():R=yield T.text(),{data:R,error:null,response:T}}catch(f){return f instanceof Error&&f.name==="AbortError"?{data:null,error:new _g(f)}:{data:null,error:f,response:f instanceof Sg||f instanceof wg?f.context:void 0}}})}}var lt={};const vi=Ig(Xv);var Bs={},Hs={},$s={},Gs={},Vs={},Wv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gi=Wv();const Fv=gi.fetch,Em=gi.fetch.bind(gi),xm=gi.Headers,ep=gi.Request,tp=gi.Response,_a=Object.freeze(Object.defineProperty({__proto__:null,Headers:xm,Request:ep,Response:tp,default:Em,fetch:Fv},Symbol.toStringTag,{value:"Module"})),np=Ig(_a);var Ys={},Eg;function Am(){if(Eg)return Ys;Eg=1,Object.defineProperty(Ys,"__esModule",{value:!0});class u extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return Ys.default=u,Ys}var xg;function Tm(){if(xg)return Vs;xg=1,Object.defineProperty(Vs,"__esModule",{value:!0});const u=vi,i=u.__importDefault(np),l=u.__importDefault(Am());class s{constructor(f){var d,g;this.shouldThrowOnError=!1,this.method=f.method,this.url=f.url,this.headers=new Headers(f.headers),this.schema=f.schema,this.body=f.body,this.shouldThrowOnError=(d=f.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=f.signal,this.isMaybeSingle=(g=f.isMaybeSingle)!==null&&g!==void 0?g:!1,f.fetch?this.fetch=f.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(f,d){return this.headers=new Headers(this.headers),this.headers.set(f,d),this}then(f,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let y=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var b,w,A,T;let D=null,k=null,R=null,$=m.status,H=m.statusText;if(m.ok){if(this.method!=="HEAD"){const Y=await m.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?k=Y:k=JSON.parse(Y))}const K=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),ie=(A=m.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");K&&ie&&ie.length>1&&(R=parseInt(ie[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(D={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,R=null,$=406,H="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const K=await m.text();try{D=JSON.parse(K),Array.isArray(D)&&m.status===404&&(k=[],D=null,$=200,H="OK")}catch{m.status===404&&K===""?($=204,H="No Content"):D={message:K}}if(D&&this.isMaybeSingle&&(!((T=D==null?void 0:D.details)===null||T===void 0)&&T.includes("0 rows"))&&(D=null,$=200,H="OK"),D&&this.shouldThrowOnError)throw new l.default(D)}return{error:D,data:k,count:R,status:$,statusText:H}});return this.shouldThrowOnError||(y=y.catch(m=>{var b,w,A;return{error:{message:`${(b=m==null?void 0:m.name)!==null&&b!==void 0?b:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(w=m==null?void 0:m.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(A=m==null?void 0:m.code)!==null&&A!==void 0?A:""}`},data:null,count:null,status:0,statusText:""}})),y.then(f,d)}returns(){return this}overrideTypes(){return this}}return Vs.default=s,Vs}var Ag;function Om(){if(Ag)return Gs;Ag=1,Object.defineProperty(Gs,"__esModule",{value:!0});const i=vi.__importDefault(Tm());class l extends i.default{select(c){let f=!1;const d=(c??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:f=!0,nullsFirst:d,foreignTable:g,referencedTable:y=g}={}){const m=y?`${y}.order`:"order",b=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${b?`${b},`:""}${c}.${f?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:f,referencedTable:d=f}={}){const g=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${c}`),this}range(c,f,{foreignTable:d,referencedTable:g=d}={}){const y=typeof g>"u"?"offset":`${g}.offset`,m=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(y,`${c}`),this.url.searchParams.set(m,`${f-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:f=!1,settings:d=!1,buffers:g=!1,wal:y=!1,format:m="text"}={}){var b;const w=[c?"analyze":null,f?"verbose":null,d?"settings":null,g?"buffers":null,y?"wal":null].filter(Boolean).join("|"),A=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${A}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return Gs.default=l,Gs}var Tg;function ec(){if(Tg)return $s;Tg=1,Object.defineProperty($s,"__esModule",{value:!0});const i=vi.__importDefault(Om()),l=new RegExp("[,()]");class s extends i.default{eq(f,d){return this.url.searchParams.append(f,`eq.${d}`),this}neq(f,d){return this.url.searchParams.append(f,`neq.${d}`),this}gt(f,d){return this.url.searchParams.append(f,`gt.${d}`),this}gte(f,d){return this.url.searchParams.append(f,`gte.${d}`),this}lt(f,d){return this.url.searchParams.append(f,`lt.${d}`),this}lte(f,d){return this.url.searchParams.append(f,`lte.${d}`),this}like(f,d){return this.url.searchParams.append(f,`like.${d}`),this}likeAllOf(f,d){return this.url.searchParams.append(f,`like(all).{${d.join(",")}}`),this}likeAnyOf(f,d){return this.url.searchParams.append(f,`like(any).{${d.join(",")}}`),this}ilike(f,d){return this.url.searchParams.append(f,`ilike.${d}`),this}ilikeAllOf(f,d){return this.url.searchParams.append(f,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(f,d){return this.url.searchParams.append(f,`ilike(any).{${d.join(",")}}`),this}is(f,d){return this.url.searchParams.append(f,`is.${d}`),this}in(f,d){const g=Array.from(new Set(d)).map(y=>typeof y=="string"&&l.test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(f,`in.(${g})`),this}contains(f,d){return typeof d=="string"?this.url.searchParams.append(f,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(f,`cs.{${d.join(",")}}`):this.url.searchParams.append(f,`cs.${JSON.stringify(d)}`),this}containedBy(f,d){return typeof d=="string"?this.url.searchParams.append(f,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(f,`cd.{${d.join(",")}}`):this.url.searchParams.append(f,`cd.${JSON.stringify(d)}`),this}rangeGt(f,d){return this.url.searchParams.append(f,`sr.${d}`),this}rangeGte(f,d){return this.url.searchParams.append(f,`nxl.${d}`),this}rangeLt(f,d){return this.url.searchParams.append(f,`sl.${d}`),this}rangeLte(f,d){return this.url.searchParams.append(f,`nxr.${d}`),this}rangeAdjacent(f,d){return this.url.searchParams.append(f,`adj.${d}`),this}overlaps(f,d){return typeof d=="string"?this.url.searchParams.append(f,`ov.${d}`):this.url.searchParams.append(f,`ov.{${d.join(",")}}`),this}textSearch(f,d,{config:g,type:y}={}){let m="";y==="plain"?m="pl":y==="phrase"?m="ph":y==="websearch"&&(m="w");const b=g===void 0?"":`(${g})`;return this.url.searchParams.append(f,`${m}fts${b}.${d}`),this}match(f){return Object.entries(f).forEach(([d,g])=>{this.url.searchParams.append(d,`eq.${g}`)}),this}not(f,d,g){return this.url.searchParams.append(f,`not.${d}.${g}`),this}or(f,{foreignTable:d,referencedTable:g=d}={}){const y=g?`${g}.or`:"or";return this.url.searchParams.append(y,`(${f})`),this}filter(f,d,g){return this.url.searchParams.append(f,`${d}.${g}`),this}}return $s.default=s,$s}var Og;function jm(){if(Og)return Hs;Og=1,Object.defineProperty(Hs,"__esModule",{value:!0});const i=vi.__importDefault(ec());class l{constructor(c,{headers:f={},schema:d,fetch:g}){this.url=c,this.headers=new Headers(f),this.schema=d,this.fetch=g}select(c,f){const{head:d=!1,count:g}=f??{},y=d?"HEAD":"GET";let m=!1;const b=(c??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",b),g&&this.headers.append("Prefer",`count=${g}`),new i.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:f,defaultToNull:d=!0}={}){var g;const y="POST";if(f&&this.headers.append("Prefer",`count=${f}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const m=c.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(m.length>0){const b=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new i.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(c,{onConflict:f,ignoreDuplicates:d=!1,count:g,defaultToNull:y=!0}={}){var m;const b="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),f!==void 0&&this.url.searchParams.set("on_conflict",f),g&&this.headers.append("Prefer",`count=${g}`),y||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const w=c.reduce((A,T)=>A.concat(Object.keys(T)),[]);if(w.length>0){const A=[...new Set(w)].map(T=>`"${T}"`);this.url.searchParams.set("columns",A.join(","))}}return new i.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(c,{count:f}={}){var d;const g="PATCH";return f&&this.headers.append("Prefer",`count=${f}`),new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:c}={}){var f;const d="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new i.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Hs.default=l,Hs}var jg;function ap(){if(jg)return Bs;jg=1,Object.defineProperty(Bs,"__esModule",{value:!0});const u=vi,i=u.__importDefault(jm()),l=u.__importDefault(ec());class s{constructor(f,{headers:d={},schema:g,fetch:y}={}){this.url=f,this.headers=new Headers(d),this.schemaName=g,this.fetch=y}from(f){const d=new URL(`${this.url}/${f}`);return new i.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new s(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,d={},{head:g=!1,get:y=!1,count:m}={}){var b;let w;const A=new URL(`${this.url}/rpc/${f}`);let T;g||y?(w=g?"HEAD":"GET",Object.entries(d).filter(([k,R])=>R!==void 0).map(([k,R])=>[k,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([k,R])=>{A.searchParams.append(k,R)})):(w="POST",T=d);const D=new Headers(this.headers);return m&&D.set("Prefer",`count=${m}`),new l.default({method:w,url:A,headers:D,schema:this.schemaName,body:T,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return Bs.default=s,Bs}var Ng;function ip(){if(Ng)return lt;Ng=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const u=vi,i=u.__importDefault(ap());lt.PostgrestClient=i.default;const l=u.__importDefault(jm());lt.PostgrestQueryBuilder=l.default;const s=u.__importDefault(ec());lt.PostgrestFilterBuilder=s.default;const c=u.__importDefault(Om());lt.PostgrestTransformBuilder=c.default;const f=u.__importDefault(Tm());lt.PostgrestBuilder=f.default;const d=u.__importDefault(Am());return lt.PostgrestError=d.default,lt.default={PostgrestClient:i.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:f.default,PostgrestError:d.default},lt}var Nm=ip();const Rm=Po(Nm),lp=Cv({__proto__:null,default:Rm},[Nm]),{PostgrestClient:sp,PostgrestQueryBuilder:sw,PostgrestFilterBuilder:rw,PostgrestTransformBuilder:uw,PostgrestBuilder:ow,PostgrestError:cw}=Rm||lp;class rp{static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const s=l.node,c=parseInt(s.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let l=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(l+=`

Suggested solution: ${i.workaround}`),new Error(l)}static createWebSocket(i,l){const s=this.getWebSocketConstructor();return new s(i,l)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const up="2.78.0",op=`realtime-js/${up}`,cp="1.0.0",Bo=1e4,fp=1e3,dp=100;var gl;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(gl||(gl={}));var Xe;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Xe||(Xe={}));var Xt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Xt||(Xt={}));var Ho;(function(u){u.websocket="websocket"})(Ho||(Ho={}));var va;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(va||(va={}));class hp{constructor(){this.HEADER_LENGTH=1}decode(i,l){return i.constructor===ArrayBuffer?l(this._binaryDecode(i)):l(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const l=new DataView(i),s=new TextDecoder;return this._decodeBroadcast(i,l,s)}_decodeBroadcast(i,l,s){const c=l.getUint8(1),f=l.getUint8(2);let d=this.HEADER_LENGTH+2;const g=s.decode(i.slice(d,d+c));d=d+c;const y=s.decode(i.slice(d,d+f));d=d+f;const m=JSON.parse(s.decode(i.slice(d,i.byteLength)));return{ref:null,topic:g,event:y,payload:m}}}class Cm{constructor(i,l){this.callback=i,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(Ne||(Ne={}));const Rg=(u,i,l={})=>{var s;const c=(s=l.skipTypes)!==null&&s!==void 0?s:[];return i?Object.keys(i).reduce((f,d)=>(f[d]=gp(d,u,i,c),f),{}):{}},gp=(u,i,l,s)=>{const c=i.find(g=>g.name===u),f=c==null?void 0:c.type,d=l[u];return f&&!s.includes(f)?Dm(f,d):$o(d)},Dm=(u,i)=>{if(u.charAt(0)==="_"){const l=u.slice(1,u.length);return pp(i,l)}switch(u){case Ne.bool:return mp(i);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return yp(i);case Ne.json:case Ne.jsonb:return vp(i);case Ne.timestamp:return bp(i);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return $o(i);default:return $o(i)}},$o=u=>u,mp=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},yp=u=>{if(typeof u=="string"){const i=parseFloat(u);if(!Number.isNaN(i))return i}return u},vp=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(i){return console.log(`JSON parse error: ${i}`),u}return u},pp=(u,i)=>{if(typeof u!="string")return u;const l=u.length-1,s=u[l];if(u[0]==="{"&&s==="}"){let f;const d=u.slice(1,l);try{f=JSON.parse("["+d+"]")}catch{f=d?d.split(","):[]}return f.map(g=>Dm(i,g))}return u},bp=u=>typeof u=="string"?u.replace(" ","T"):u,zm=u=>{const i=new URL(u);return i.protocol=i.protocol.replace(/^ws/i,"http"),i.pathname=i.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),i.pathname===""||i.pathname==="/"?i.pathname="/api/broadcast":i.pathname=i.pathname+"/api/broadcast",i.href};class Oo{constructor(i,l,s={},c=Bo){this.channel=i,this.event=l,this.payload=s,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,l){var s;return this._hasReceived(i)&&l((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:i,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:l}){this.recHooks.filter(s=>s.status===i).forEach(s=>s.callback(l))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var Cg;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(Cg||(Cg={}));class ml{constructor(i,l){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},c=>{const{onJoin:f,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ml.syncState(this.state,c,f,d),this.pendingDiffs.forEach(y=>{this.state=ml.syncDiff(this.state,y,f,d)}),this.pendingDiffs=[],g()}),this.channel._on(s.diff,{},c=>{const{onJoin:f,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ml.syncDiff(this.state,c,f,d),g())}),this.onJoin((c,f,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:d})}),this.onLeave((c,f,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,l,s,c){const f=this.cloneDeep(i),d=this.transformState(l),g={},y={};return this.map(f,(m,b)=>{d[m]||(y[m]=b)}),this.map(d,(m,b)=>{const w=f[m];if(w){const A=b.map(R=>R.presence_ref),T=w.map(R=>R.presence_ref),D=b.filter(R=>T.indexOf(R.presence_ref)<0),k=w.filter(R=>A.indexOf(R.presence_ref)<0);D.length>0&&(g[m]=D),k.length>0&&(y[m]=k)}else g[m]=b}),this.syncDiff(f,{joins:g,leaves:y},s,c)}static syncDiff(i,l,s,c){const{joins:f,leaves:d}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return s||(s=()=>{}),c||(c=()=>{}),this.map(f,(g,y)=>{var m;const b=(m=i[g])!==null&&m!==void 0?m:[];if(i[g]=this.cloneDeep(y),b.length>0){const w=i[g].map(T=>T.presence_ref),A=b.filter(T=>w.indexOf(T.presence_ref)<0);i[g].unshift(...A)}s(g,b,y)}),this.map(d,(g,y)=>{let m=i[g];if(!m)return;const b=y.map(w=>w.presence_ref);m=m.filter(w=>b.indexOf(w.presence_ref)<0),i[g]=m,c(g,m,y),m.length===0&&delete i[g]}),i}static map(i,l){return Object.getOwnPropertyNames(i).map(s=>l(s,i[s]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((l,s)=>{const c=i[s];return"metas"in c?l[s]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):l[s]=c,l},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dg;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(Dg||(Dg={}));var yl;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(yl||(yl={}));var pn;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class tc{constructor(i,l={config:{}},s){var c,f;if(this.topic=i,this.params=l,this.socket=s,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Oo(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new Cm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(d,g)=>{this._trigger(this._replyEventName(g),d)}),this.presence=new ml(this),this.broadcastEndpointURL=zm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(i,l=this.timeout){var s,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Xe.closed){const{config:{broadcast:d,presence:g,private:y}}=this.params,m=(c=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(T=>T.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[yl.PRESENCE]&&this.bindings[yl.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,w={},A={broadcast:d,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:m,private:y};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(T=>i==null?void 0:i(pn.CHANNEL_ERROR,T)),this._onClose(()=>i==null?void 0:i(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:A},w)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:T})=>{var D;if(this.socket.setAuth(),T===void 0){i==null||i(pn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,R=(D=k==null?void 0:k.length)!==null&&D!==void 0?D:0,$=[];for(let H=0;H<R;H++){const B=k[H],{filter:{event:K,schema:ie,table:Y,filter:I}}=B,ae=T&&T[H];if(ae&&ae.event===K&&ae.schema===ie&&ae.table===Y&&ae.filter===I)$.push(Object.assign(Object.assign({},B),{id:ae.id}));else{this.unsubscribe(),this.state=Xe.errored,i==null||i(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,i&&i(pn.SUBSCRIBED);return}}).receive("error",T=>{this.state=Xe.errored,i==null||i(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{i==null||i(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,l={}){return await this.send({type:"presence",event:"track",payload:i},l.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,l,s){return this.state===Xe.joined&&i===yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(i,l,s)}async httpSend(i,l,s={}){var c;const f=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(l==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:f,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=s.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let y=g.statusText;try{const m=await g.json();y=m.error||m.message||y}catch{}return Promise.reject(new Error(y))}async send(i,l={}){var s,c;if(!this._canPush()&&i.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:d}=i,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(s=l.timeout)!==null&&s!==void 0?s:this.timeout);return await((c=m.body)===null||c===void 0?void 0:c.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var d,g,y;const m=this._push(i.type,i,l.timeout||this.timeout);i.type==="broadcast"&&!(!((y=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||y===void 0)&&y.ack)&&f("ok"),m.receive("ok",()=>f("ok")),m.receive("error",()=>f("error")),m.receive("timeout",()=>f("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Xe.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(c=>{s=new Oo(this,Xt.leave,{},i),s.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xe.closed,this.bindings={}}async _fetchWithTimeout(i,l,s){const c=new AbortController,f=setTimeout(()=>c.abort(),s),d=await this.socket.fetch(i,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(f),d}_push(i,l,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Oo(this,i,l,s);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>dp){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(i,l,s){return l}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,l,s){var c,f;const d=i.toLocaleLowerCase(),{close:g,error:y,leave:m,join:b}=Xt;if(s&&[g,y,m,b].indexOf(d)>=0&&s!==this._joinRef())return;let A=this._onMessage(d,l,s);if(l&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var D,k,R;return((D=T.filter)===null||D===void 0?void 0:D.event)==="*"||((R=(k=T.filter)===null||k===void 0?void 0:k.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===d}).map(T=>T.callback(A,s)):(f=this.bindings[d])===null||f===void 0||f.filter(T=>{var D,k,R,$,H,B;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in T){const K=T.id,ie=(D=T.filter)===null||D===void 0?void 0:D.event;return K&&((k=l.ids)===null||k===void 0?void 0:k.includes(K))&&(ie==="*"||(ie==null?void 0:ie.toLocaleLowerCase())===((R=l.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const K=(H=($=T==null?void 0:T.filter)===null||$===void 0?void 0:$.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return K==="*"||K===((B=l==null?void 0:l.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===d}).map(T=>{if(typeof A=="object"&&"ids"in A){const D=A.data,{schema:k,table:R,commit_timestamp:$,type:H,errors:B}=D;A=Object.assign(Object.assign({},{schema:k,table:R,commit_timestamp:$,eventType:H,new:{},old:{},errors:B}),this._getPayloadRecords(D))}T.callback(A,s)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,l,s){const c=i.toLocaleLowerCase(),f={type:c,filter:l,callback:s};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(i,l){const s=i.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===s&&tc.isEqual(c.filter,l))})),this}static isEqual(i,l){if(Object.keys(i).length!==Object.keys(l).length)return!1;for(const s in i)if(i[s]!==l[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Xt.close,{},i)}_onError(i){this._on(Xt.error,{},l=>i(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const l={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(l.new=Rg(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(l.old=Rg(i.columns,i.old_record)),l}}const jo=()=>{},Ks={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_p=[1e3,2e3,5e3,1e4],wp=1e4,Sp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ep{constructor(i,l){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bo,this.transport=null,this.heartbeatIntervalMs=Ks.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jo,this.ref=0,this.reconnectTimer=null,this.logger=jo,this.conn=null,this.sendBuffer=[],this.serializer=new hp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let f;return c?f=c:typeof fetch>"u"?f=(...d)=>yi(async()=>{const{default:g}=await Promise.resolve().then(()=>_a);return{default:g}},void 0).then(({default:g})=>g(...d)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):f=fetch,(...d)=>f(...d)},!(!((s=l==null?void 0:l.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${i}/${Ho.websocket}`,this.httpEndpoint=zm(i),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rp.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const l=i.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cp}))}disconnect(i,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},i?this.conn.close(i,l??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const l=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const i=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,l,s){this.logger(i,l,s)}connectionState(){switch(this.conn&&this.conn.readyState){case gl.connecting:return va.Connecting;case gl.open:return va.Open;case gl.closing:return va.Closing;default:return va.Closed}}isConnected(){return this.connectionState()===va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,l={config:{}}){const s=`realtime:${i}`,c=this.getChannels().find(f=>f.topic===s);if(c)return c;{const f=new tc(`realtime:${i}`,l,this);return this.channels.push(f),f}}push(i){const{topic:l,event:s,payload:c,ref:f}=i,d=()=>{this.encode(i,g=>{var y;(y=this.conn)===null||y===void 0||y.send(g)})};this.log("push",`${l} ${s} (${f})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var i;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(fp,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Ks.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let l=this.channels.find(s=>s.topic===i&&(s._isJoined()||s._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${i}"`),l.unsubscribe())}_remove(i){this.channels=this.channels.filter(l=>l.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:c,payload:f,ref:d}=l,g=d?`(${d})`:"",y=f.status||"";this.log("receive",`${y} ${s} ${c} ${g}`.trim(),f),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(c,f,d)),this._triggerStateCallbacks("message",l)})}_clearTimer(i){var l;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){var l;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger(Xt.error))}_appendParams(i,l){if(Object.keys(l).length===0)return i;const s=i.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${i}${s}${c}`}_workerObjectUrl(i){let l;if(i)l=i;else{const s=new Blob([Sp],{type:"application/javascript"});l=URL.createObjectURL(s)}return l}_setConnectionState(i,l=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(i=null){let l;i?l=i:this.accessToken?l=await this.accessToken():l=this.accessTokenValue,this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(s=>{const c={access_token:l,version:op};l&&s.updateJoinPayload(c),s.joinedOnce&&s._isJoined()&&s._push(Xt.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this.setAuth().catch(l=>{this.log("error",`error setting auth in ${i}`,l)})}_triggerStateCallbacks(i,l){try{this.stateChangeCallbacks[i].forEach(s=>{try{s(l)}catch(c){this.log("error",`error in ${i} callback`,c)}})}catch(s){this.log("error",`error triggering ${i} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Cm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ks.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var l,s,c,f,d,g,y,m,b;if(this.transport=(l=i==null?void 0:i.transport)!==null&&l!==void 0?l:null,this.timeout=(s=i==null?void 0:i.timeout)!==null&&s!==void 0?s:Bo,this.heartbeatIntervalMs=(c=i==null?void 0:i.heartbeatIntervalMs)!==null&&c!==void 0?c:Ks.HEARTBEAT_INTERVAL,this.worker=(f=i==null?void 0:i.worker)!==null&&f!==void 0?f:!1,this.accessToken=(d=i==null?void 0:i.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(g=i==null?void 0:i.heartbeatCallback)!==null&&g!==void 0?g:jo,i!=null&&i.params&&(this.params=i.params),i!=null&&i.logger&&(this.logger=i.logger),(i!=null&&i.logLevel||i!=null&&i.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=i==null?void 0:i.reconnectAfterMs)!==null&&y!==void 0?y:(w=>_p[w-1]||wp),this.encode=(m=i==null?void 0:i.encode)!==null&&m!==void 0?m:((w,A)=>A(JSON.stringify(w))),this.decode=(b=i==null?void 0:i.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i==null?void 0:i.workerUrl}}}class nc extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function ze(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class xp extends nc{constructor(i,l,s){super(i),this.name="StorageApiError",this.status=l,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Go extends nc{constructor(i,l){super(i),this.name="StorageUnknownError",this.originalError=l}}const ac=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...l)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>_a);return{default:s}},void 0).then(({default:s})=>s(...l)):i=fetch,(...l)=>i(...l)},Ap=()=>P(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yi(()=>Promise.resolve().then(()=>_a),void 0)).Response:Response}),Vo=u=>{if(Array.isArray(u))return u.map(l=>Vo(l));if(typeof u=="function"||u!==Object(u))return u;const i={};return Object.entries(u).forEach(([l,s])=>{const c=l.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));i[c]=Vo(s)}),i},Tp=u=>{if(typeof u!="object"||u===null)return!1;const i=Object.getPrototypeOf(u);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},No=u=>{var i;return u.msg||u.message||u.error_description||(typeof u.error=="string"?u.error:(i=u.error)===null||i===void 0?void 0:i.message)||JSON.stringify(u)},Op=(u,i,l)=>P(void 0,void 0,void 0,function*(){const s=yield Ap();u instanceof s&&!(l!=null&&l.noResolveJson)?u.json().then(c=>{const f=u.status||500,d=(c==null?void 0:c.statusCode)||f+"";i(new xp(No(c),f,d))}).catch(c=>{i(new Go(No(c),c))}):i(new Go(No(u),u))}),jp=(u,i,l,s)=>{const c={method:u,headers:(i==null?void 0:i.headers)||{}};return u==="GET"||!s?c:(Tp(s)?(c.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),c.body=JSON.stringify(s)):c.body=s,i!=null&&i.duplex&&(c.duplex=i.duplex),Object.assign(Object.assign({},c),l))};function _l(u,i,l,s,c,f){return P(this,void 0,void 0,function*(){return new Promise((d,g)=>{u(l,jp(i,s,c,f)).then(y=>{if(!y.ok)throw y;return s!=null&&s.noResolveJson?y:y.json()}).then(y=>d(y)).catch(y=>Op(y,g,s))})})}function vl(u,i,l,s){return P(this,void 0,void 0,function*(){return _l(u,"GET",i,l,s)})}function Qt(u,i,l,s,c){return P(this,void 0,void 0,function*(){return _l(u,"POST",i,s,c,l)})}function Yo(u,i,l,s,c){return P(this,void 0,void 0,function*(){return _l(u,"PUT",i,s,c,l)})}function Np(u,i,l,s){return P(this,void 0,void 0,function*(){return _l(u,"HEAD",i,Object.assign(Object.assign({},l),{noResolveJson:!0}),s)})}function ic(u,i,l,s,c){return P(this,void 0,void 0,function*(){return _l(u,"DELETE",i,s,c,l)})}class Rp{constructor(i,l){this.downloadFn=i,this.shouldThrowOnError=l}then(i,l){return this.execute().then(i,l)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}}var Um;class Cp{constructor(i,l){this.downloadFn=i,this.shouldThrowOnError=l,this[Um]="BlobDownloadBuilder",this.promise=null}asStream(){return new Rp(this.downloadFn,this.shouldThrowOnError)}then(i,l){return this.getPromise().then(i,l)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}}Um=Symbol.toStringTag;const Dp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zp{constructor(i,l={},s,c){this.shouldThrowOnError=!1,this.url=i,this.headers=l,this.bucketId=s,this.fetch=ac(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(i,l,s,c){return P(this,void 0,void 0,function*(){try{let f;const d=Object.assign(Object.assign({},zg),c);let g=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(d.upsert)});const y=d.metadata;typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),y&&f.append("metadata",this.encodeMetadata(y)),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",d.cacheControl),y&&f.append("metadata",this.encodeMetadata(y))):(f=s,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,y&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),c!=null&&c.headers&&(g=Object.assign(Object.assign({},g),c.headers));const m=this._removeEmptyFolders(l),b=this._getFinalPath(m),w=yield(i=="PUT"?Yo:Qt)(this.fetch,`${this.url}/object/${b}`,f,Object.assign({headers:g},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ze(f))return{data:null,error:f};throw f}})}upload(i,l,s){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,l,s)})}uploadToSignedUrl(i,l,s,c){return P(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(i),d=this._getFinalPath(f),g=new URL(this.url+`/object/upload/sign/${d}`);g.searchParams.set("token",l);try{let y;const m=Object.assign({upsert:zg.upsert},c),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(y=new FormData,y.append("cacheControl",m.cacheControl),y.append("",s)):typeof FormData<"u"&&s instanceof FormData?(y=s,y.append("cacheControl",m.cacheControl)):(y=s,b["cache-control"]=`max-age=${m.cacheControl}`,b["content-type"]=m.contentType);const w=yield Yo(this.fetch,g.toString(),y,{headers:b});return{data:{path:f,fullPath:w.Key},error:null}}catch(y){if(this.shouldThrowOnError)throw y;if(ze(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(i,l){return P(this,void 0,void 0,function*(){try{let s=this._getFinalPath(i);const c=Object.assign({},this.headers);l!=null&&l.upsert&&(c["x-upsert"]="true");const f=yield Qt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:c}),d=new URL(this.url+f.url),g=d.searchParams.get("token");if(!g)throw new nc("No token returned by API");return{data:{signedUrl:d.toString(),path:i,token:g},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}update(i,l,s){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,l,s)})}move(i,l,s){return P(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:l,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}copy(i,l,s){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:l,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}createSignedUrl(i,l,s){return P(this,void 0,void 0,function*(){try{let c=this._getFinalPath(i),f=yield Qt(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:l},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${d}`)},{data:f,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}createSignedUrls(i,l,s){return P(this,void 0,void 0,function*(){try{const c=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:i},{headers:this.headers}),f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${f}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}download(i,l){const c=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),d=f?`?${f}`:"",g=this._getFinalPath(i),y=()=>vl(this.fetch,`${this.url}/${c}/${g}${d}`,{headers:this.headers,noResolveJson:!0});return new Cp(y,this.shouldThrowOnError)}info(i){return P(this,void 0,void 0,function*(){const l=this._getFinalPath(i);try{const s=yield vl(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:Vo(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}exists(i){return P(this,void 0,void 0,function*(){const l=this._getFinalPath(i);try{return yield Np(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s)&&s instanceof Go){const c=s.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:s}}throw s}})}getPublicUrl(i,l){const s=this._getFinalPath(i),c=[],f=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";f!==""&&c.push(f);const g=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});y!==""&&c.push(y);let m=c.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${s}${m}`)}}}remove(i){return P(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}list(i,l,s){return P(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Dp),l),{prefix:i||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},s),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}listV2(i,l){return P(this,void 0,void 0,function*(){try{const s=Object.assign({},i);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},l),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const l=[];return i.width&&l.push(`width=${i.width}`),i.height&&l.push(`height=${i.height}`),i.resize&&l.push(`resize=${i.resize}`),i.format&&l.push(`format=${i.format}`),i.quality&&l.push(`quality=${i.quality}`),l.join("&")}}const km="2.78.0",Mm={"X-Client-Info":`storage-js/${km}`};class Up{constructor(i,l={},s,c){this.shouldThrowOnError=!1;const f=new URL(i);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(f.hostname)&&!f.hostname.includes("storage.supabase.")&&(f.hostname=f.hostname.replace("supabase.","storage.supabase.")),this.url=f.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mm),l),this.fetch=ac(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(i){return P(this,void 0,void 0,function*(){try{const l=this.listBucketOptionsToQueryString(i);return{data:yield vl(this.fetch,`${this.url}/bucket${l}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}getBucket(i){return P(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}createBucket(i){return P(this,arguments,void 0,function*(l,s={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}updateBucket(i,l){return P(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}emptyBucket(i){return P(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}deleteBucket(i){return P(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(i){const l={};return i&&("limit"in i&&(l.limit=String(i.limit)),"offset"in i&&(l.offset=String(i.offset)),i.search&&(l.search=i.search),i.sortColumn&&(l.sortColumn=i.sortColumn),i.sortOrder&&(l.sortOrder=i.sortOrder)),Object.keys(l).length>0?"?"+new URLSearchParams(l).toString():""}}class kp{constructor(i,l={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mm),l),this.fetch=ac(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(i){return P(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{name:i},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}listBuckets(i){return P(this,void 0,void 0,function*(){try{const l=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&l.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&l.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&l.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&l.set("sortOrder",i.sortOrder),i!=null&&i.search&&l.set("search",i.search);const s=l.toString(),c=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield vl(this.fetch,c,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}deleteBucket(i){return P(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}}const lc={"X-Client-Info":`storage-js/${km}`,"Content-Type":"application/json"};class qm extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jt(u){return typeof u=="object"&&u!==null&&"__isStorageVectorsError"in u}class Ro extends qm{constructor(i,l,s){super(i),this.name="StorageVectorsApiError",this.status=l,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mp extends qm{constructor(i,l){super(i),this.name="StorageVectorsUnknownError",this.originalError=l}}var Ug;(function(u){u.InternalError="InternalError",u.S3VectorConflictException="S3VectorConflictException",u.S3VectorNotFoundException="S3VectorNotFoundException",u.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",u.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",u.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ug||(Ug={}));const sc=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...l)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>_a);return{default:s}},void 0).then(({default:s})=>s(...l)):i=fetch,(...l)=>i(...l)},qp=u=>{if(typeof u!="object"||u===null)return!1;const i=Object.getPrototypeOf(u);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},kg=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Lp=(u,i,l)=>P(void 0,void 0,void 0,function*(){if(u&&typeof u=="object"&&"status"in u&&"ok"in u&&typeof u.status=="number"&&!(l!=null&&l.noResolveJson)){const c=u.status||500,f=u;if(typeof f.json=="function")f.json().then(d=>{const g=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||c+"";i(new Ro(kg(d),c,g))}).catch(()=>{const d=c+"",g=f.statusText||`HTTP ${c} error`;i(new Ro(g,c,d))});else{const d=c+"",g=f.statusText||`HTTP ${c} error`;i(new Ro(g,c,d))}}else i(new Mp(kg(u),u))}),Bp=(u,i,l,s)=>{const c={method:u,headers:(i==null?void 0:i.headers)||{}};return s?(qp(s)?(c.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),c.body=JSON.stringify(s)):c.body=s,Object.assign(Object.assign({},c),l)):c};function Hp(u,i,l,s,c,f){return P(this,void 0,void 0,function*(){return new Promise((d,g)=>{u(l,Bp(i,s,c,f)).then(y=>{if(!y.ok)throw y;if(s!=null&&s.noResolveJson)return y;const m=y.headers.get("content-type");return!m||!m.includes("application/json")?{}:y.json()}).then(y=>d(y)).catch(y=>Lp(y,g,s))})})}function Nt(u,i,l,s,c){return P(this,void 0,void 0,function*(){return Hp(u,"POST",i,s,c,l)})}class $p{constructor(i,l={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lc),l),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(i){return P(this,void 0,void 0,function*(){try{return{data:(yield Nt(this.fetch,`${this.url}/CreateIndex`,i,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}getIndex(i,l){return P(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:i,indexName:l},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}listIndexes(i){return P(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/ListIndexes`,i,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}deleteIndex(i,l){return P(this,void 0,void 0,function*(){try{return{data:(yield Nt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:i,indexName:l},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}}class Gp{constructor(i,l={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lc),l),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(i){return P(this,void 0,void 0,function*(){try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Nt(this.fetch,`${this.url}/PutVectors`,i,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}getVectors(i){return P(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/GetVectors`,i,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}listVectors(i){return P(this,void 0,void 0,function*(){try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:yield Nt(this.fetch,`${this.url}/ListVectors`,i,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}queryVectors(i){return P(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/QueryVectors`,i,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}deleteVectors(i){return P(this,void 0,void 0,function*(){try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Nt(this.fetch,`${this.url}/DeleteVectors`,i,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}}class Vp{constructor(i,l={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lc),l),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(i){return P(this,void 0,void 0,function*(){try{return{data:(yield Nt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}getBucket(i){return P(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:i},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}listBuckets(){return P(this,arguments,void 0,function*(i={}){try{return{data:yield Nt(this.fetch,`${this.url}/ListVectorBuckets`,i,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}deleteBucket(i){return P(this,void 0,void 0,function*(){try{return{data:(yield Nt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}}class Yp extends Vp{constructor(i,l={}){super(i,l.headers||{},l.fetch)}from(i){return new Kp(this.url,this.headers,i,this.fetch)}}class Kp extends $p{constructor(i,l,s,c){super(i,l,c),this.vectorBucketName=s}createIndex(i){const l=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return l.createIndex.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const i=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(l={}){return i.listIndexes.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName}))})}getIndex(i){const l=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return l.getIndex.call(this,this.vectorBucketName,i)})}deleteIndex(i){const l=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return l.deleteIndex.call(this,this.vectorBucketName,i)})}index(i){return new Qp(this.url,this.headers,this.vectorBucketName,i,this.fetch)}}class Qp extends Gp{constructor(i,l,s,c,f){super(i,l,f),this.vectorBucketName=s,this.indexName=c}putVectors(i){const l=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return l.putVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(i){const l=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return l.getVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const i=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(l={}){return i.listVectors.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(i){const l=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return l.queryVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(i){const l=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return l.deleteVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Xp extends Up{constructor(i,l={},s,c){super(i,l,s,c)}from(i){return new zp(this.url,this.headers,i,this.fetch)}get vectors(){return new Yp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kp(this.url+"/iceberg",this.headers,this.fetch)}}const Jp="2.78.0";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const Zp={"X-Client-Info":`supabase-js-${hl}/${Jp}`},Pp={headers:Zp},Ip={schema:"public"},Wp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fp={},eb=u=>{let i;return u?i=u:typeof fetch>"u"?i=Em:i=fetch,(...l)=>i(...l)},tb=()=>typeof Headers>"u"?xm:Headers,nb=(u,i,l)=>{const s=eb(l),c=tb();return async(f,d)=>{var g;const y=(g=await i())!==null&&g!==void 0?g:u;let m=new c(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",u),m.has("Authorization")||m.set("Authorization",`Bearer ${y}`),s(f,Object.assign(Object.assign({},d),{headers:m}))}};function ab(u){return u.endsWith("/")?u:u+"/"}function ib(u,i){var l,s;const{db:c,auth:f,realtime:d,global:g}=u,{db:y,auth:m,realtime:b,global:w}=i,A={db:Object.assign(Object.assign({},y),c),auth:Object.assign(Object.assign({},m),f),realtime:Object.assign(Object.assign({},b),d),storage:{},global:Object.assign(Object.assign(Object.assign({},w),g),{headers:Object.assign(Object.assign({},(l=w==null?void 0:w.headers)!==null&&l!==void 0?l:{}),(s=g==null?void 0:g.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return u.accessToken?A.accessToken=u.accessToken:delete A.accessToken,A}function lb(u){const i=u==null?void 0:u.trim();if(!i)throw new Error("supabaseUrl is required.");if(!i.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ab(i))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lm="2.78.0",ci=30*1e3,Ko=3,Co=Ko*ci,sb="http://localhost:9999",rb="supabase.auth.token",ub={"X-Client-Info":`gotrue-js/${Lm}`},Qo="X-Supabase-Api-Version",Bm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ob=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cb=600*1e3;class pl extends Error{constructor(i,l,s){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=s}}function W(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class fb extends pl{constructor(i,l,s){super(i,l,s),this.name="AuthApiError",this.status=l,this.code=s}}function db(u){return W(u)&&u.name==="AuthApiError"}class pa extends pl{constructor(i,l){super(i),this.name="AuthUnknownError",this.originalError=l}}class Jn extends pl{constructor(i,l,s,c){super(i,s,c),this.name=l,this.status=s}}class Yt extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hb(u){return W(u)&&u.name==="AuthSessionMissingError"}class li extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qs extends Jn{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class Xs extends Jn{constructor(i,l=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gb(u){return W(u)&&u.name==="AuthImplicitGrantRedirectError"}class Mg extends Jn{constructor(i,l=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xo extends Jn{constructor(i,l){super(i,"AuthRetryableFetchError",l,void 0)}}function Do(u){return W(u)&&u.name==="AuthRetryableFetchError"}class qg extends Jn{constructor(i,l,s){super(i,"AuthWeakPasswordError",l,"weak_password"),this.reasons=s}}class Jo extends Jn{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ps="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lg=` 	
\r=`.split(""),mb=(()=>{const u=new Array(128);for(let i=0;i<u.length;i+=1)u[i]=-1;for(let i=0;i<Lg.length;i+=1)u[Lg[i].charCodeAt(0)]=-2;for(let i=0;i<Ps.length;i+=1)u[Ps[i].charCodeAt(0)]=i;return u})();function Bg(u,i,l){if(u!==null)for(i.queue=i.queue<<8|u,i.queuedBits+=8;i.queuedBits>=6;){const s=i.queue>>i.queuedBits-6&63;l(Ps[s]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const s=i.queue>>i.queuedBits-6&63;l(Ps[s]),i.queuedBits-=6}}function Hm(u,i,l){const s=mb[u];if(s>-1)for(i.queue=i.queue<<6|s,i.queuedBits+=6;i.queuedBits>=8;)l(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Hg(u){const i=[],l=d=>{i.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=d=>{pb(d,s,l)};for(let d=0;d<u.length;d+=1)Hm(u.charCodeAt(d),c,f);return i.join("")}function yb(u,i){if(u<=127){i(u);return}else if(u<=2047){i(192|u>>6),i(128|u&63);return}else if(u<=65535){i(224|u>>12),i(128|u>>6&63),i(128|u&63);return}else if(u<=1114111){i(240|u>>18),i(128|u>>12&63),i(128|u>>6&63),i(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function vb(u,i){for(let l=0;l<u.length;l+=1){let s=u.charCodeAt(l);if(s>55295&&s<=56319){const c=(s-55296)*1024&65535;s=(u.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}yb(s,i)}}function pb(u,i,l){if(i.utf8seq===0){if(u<=127){l(u);return}for(let s=1;s<6;s+=1)if((u>>7-s&1)===0){i.utf8seq=s;break}if(i.utf8seq===2)i.codepoint=u&31;else if(i.utf8seq===3)i.codepoint=u&15;else if(i.utf8seq===4)i.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|u&63,i.utf8seq-=1,i.utf8seq===0&&l(i.codepoint)}}function di(u){const i=[],l={queue:0,queuedBits:0},s=c=>{i.push(c)};for(let c=0;c<u.length;c+=1)Hm(u.charCodeAt(c),l,s);return new Uint8Array(i)}function bb(u){const i=[];return vb(u,l=>i.push(l)),new Uint8Array(i)}function ba(u){const i=[],l={queue:0,queuedBits:0},s=c=>{i.push(c)};return u.forEach(c=>Bg(c,l,s)),Bg(null,l,s),i.join("")}function _b(u){return Math.round(Date.now()/1e3)+u}function wb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const i=Math.random()*16|0;return(u=="x"?i:i&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",ga={tested:!1,writable:!1},$m=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ga.tested)return ga.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),ga.tested=!0,ga.writable=!0}catch{ga.tested=!0,ga.writable=!1}return ga.writable};function Sb(u){const i={},l=new URL(u);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,f)=>{i[f]=c})}catch{}return l.searchParams.forEach((s,c)=>{i[c]=s}),i}const Gm=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...l)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>_a);return{default:s}},void 0).then(({default:s})=>s(...l)):i=fetch,(...l)=>i(...l)},Eb=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",fi=async(u,i,l)=>{await u.setItem(i,JSON.stringify(l))},ma=async(u,i)=>{const l=await u.getItem(i);if(!l)return null;try{return JSON.parse(l)}catch{return l}},Qn=async(u,i)=>{await u.removeItem(i)};class er{constructor(){this.promise=new er.promiseConstructor((i,l)=>{this.resolve=i,this.reject=l})}}er.promiseConstructor=Promise;function zo(u){const i=u.split(".");if(i.length!==3)throw new Jo("Invalid JWT structure");for(let s=0;s<i.length;s++)if(!ob.test(i[s]))throw new Jo("JWT not in base64url format");return{header:JSON.parse(Hg(i[0])),payload:JSON.parse(Hg(i[1])),signature:di(i[2]),raw:{header:i[0],payload:i[1]}}}async function xb(u){return await new Promise(i=>{setTimeout(()=>i(null),u)})}function Ab(u,i){return new Promise((s,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const d=await u(f);if(!i(f,null,d)){s(d);return}}catch(d){if(!i(f,d)){c(d);return}}})()})}function Tb(u){return("0"+u.toString(16)).substr(-2)}function Ob(){const i=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=l.length;let c="";for(let f=0;f<56;f++)c+=l.charAt(Math.floor(Math.random()*s));return c}return crypto.getRandomValues(i),Array.from(i,Tb).join("")}async function jb(u){const l=new TextEncoder().encode(u),s=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(s);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function Nb(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const l=await jb(u);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function si(u,i,l=!1){const s=Ob();let c=s;l&&(c+="/PASSWORD_RECOVERY"),await fi(u,`${i}-code-verifier`,c);const f=await Nb(s);return[f,s===f?"plain":"s256"]}const Rb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cb(u){const i=u.headers.get(Qo);if(!i||!i.match(Rb))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function Db(u){if(!u)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(u<=i)throw new Error("JWT has expired")}function zb(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ub=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ri(u){if(!Ub.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uo(){const u={};return new Proxy(u,{get:(i,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const s=l.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kb(u,i){return new Proxy(u,{get:(l,s,c)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const f=s.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,s,c)}return!i.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i.value=!0),Reflect.get(l,s,c)}})}function $g(u){return JSON.parse(JSON.stringify(u))}const ya=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Mb=[502,503,504];async function Gg(u){var i;if(!Eb(u))throw new Xo(ya(u),0);if(Mb.includes(u.status))throw new Xo(ya(u),u.status);let l;try{l=await u.json()}catch(f){throw new pa(ya(f),f)}let s;const c=Cb(u);if(c&&c.getTime()>=Bm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?s=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(s=l.error_code),s){if(s==="weak_password")throw new qg(ya(l),u.status,((i=l.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(s==="session_not_found")throw new Yt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((f,d)=>f&&typeof d=="string",!0))throw new qg(ya(l),u.status,l.weak_password.reasons);throw new fb(ya(l),u.status||500,s)}const qb=(u,i,l,s)=>{const c={method:u,headers:(i==null?void 0:i.headers)||{}};return u==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i==null?void 0:i.headers),c.body=JSON.stringify(s),Object.assign(Object.assign({},c),l))};async function ne(u,i,l,s){var c;const f=Object.assign({},s==null?void 0:s.headers);f[Qo]||(f[Qo]=Bm["2024-01-01"].name),s!=null&&s.jwt&&(f.Authorization=`Bearer ${s.jwt}`);const d=(c=s==null?void 0:s.query)!==null&&c!==void 0?c:{};s!=null&&s.redirectTo&&(d.redirect_to=s.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",y=await Lb(u,i,l+g,{headers:f,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(y):{data:Object.assign({},y),error:null}}async function Lb(u,i,l,s,c,f){const d=qb(i,s,c,f);let g;try{g=await u(l,Object.assign({},d))}catch(y){throw console.error(y),new Xo(ya(y),0)}if(g.ok||await Gg(g),s!=null&&s.noResolveJson)return g;try{return await g.json()}catch(y){await Gg(y)}}function Kt(u){var i;let l=null;$b(u)&&(l=Object.assign({},u),u.expires_at||(l.expires_at=_b(u.expires_in)));const s=(i=u.user)!==null&&i!==void 0?i:u;return{data:{session:l,user:s},error:null}}function Vg(u){const i=Kt(u);return!i.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((l,s)=>l&&typeof s=="string",!0)&&(i.data.weak_password=u.weak_password),i}function Xn(u){var i;return{data:{user:(i=u.user)!==null&&i!==void 0?i:u},error:null}}function Bb(u){return{data:u,error:null}}function Hb(u){const{action_link:i,email_otp:l,hashed_token:s,redirect_to:c,verification_type:f}=u,d=mi(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:i,email_otp:l,hashed_token:s,redirect_to:c,verification_type:f},y=Object.assign({},d);return{data:{properties:g,user:y},error:null}}function Yg(u){return u}function $b(u){return u.access_token&&u.refresh_token&&u.expires_in}const ko=["global","local","others"];class Gb{constructor({url:i="",headers:l={},fetch:s}){this.url=i,this.headers=l,this.fetch=Gm(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(i,l=ko[0]){if(ko.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ko.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async inviteUserByEmail(i,l={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Xn})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async generateLink(i){try{const{options:l}=i,s=mi(i,["options"]),c=Object.assign(Object.assign({},s),l);return"newEmail"in s&&(c.new_email=s==null?void 0:s.newEmail,delete c.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Hb,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(W(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(i){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Xn})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async listUsers(i){var l,s,c,f,d,g,y;try{const m={nextPage:null,lastPage:0,total:0},b=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=i==null?void 0:i.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(f=(c=i==null?void 0:i.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Yg});if(b.error)throw b.error;const w=await b.json(),A=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(y=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return T.length>0&&(T.forEach(D=>{const k=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(D.split(";")[1].split("=")[1]);m[`${R}Page`]=k}),m.total=parseInt(A)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(W(m))return{data:{users:[]},error:m};throw m}}async getUserById(i){ri(i);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Xn})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async updateUserById(i,l){ri(i);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:l,headers:this.headers,xform:Xn})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async deleteUser(i,l=!1){ri(i);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:l},xform:Xn})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async _listFactors(i){ri(i.userId);try{const{data:l,error:s}=await ne(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:s}}catch(l){if(W(l))return{data:null,error:l};throw l}}async _deleteFactor(i){ri(i.userId),ri(i.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(l){if(W(l))return{data:null,error:l};throw l}}async _listOAuthClients(i){var l,s,c,f,d,g,y;try{const m={nextPage:null,lastPage:0,total:0},b=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(l=i==null?void 0:i.page)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:"",per_page:(f=(c=i==null?void 0:i.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Yg});if(b.error)throw b.error;const w=await b.json(),A=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(y=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return T.length>0&&(T.forEach(D=>{const k=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(D.split(";")[1].split("=")[1]);m[`${R}Page`]=k}),m.total=parseInt(A)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(W(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(i){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _getOAuthClient(i){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${i}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _updateOAuthClient(i,l){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${i}`,{body:l,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(i){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${i}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(W(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(i){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${i}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}}function Kg(u={}){return{getItem:i=>u[i]||null,setItem:(i,l)=>{u[i]=l},removeItem:i=>{delete u[i]}}}const ui={debug:!!(globalThis&&$m()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vm extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class Vb extends Vm{}async function Yb(u,i,l){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,i);const s=new globalThis.AbortController;return i>0&&setTimeout(()=>{s.abort(),ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async c=>{if(c){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,c.name);try{return await l()}finally{ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,c.name)}}else{if(i===0)throw ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new Vb(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(ui.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function Kb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ym(u){if(!/^0x[a-fA-F0-9]{40}$/.test(u))throw new Error(`@supabase/auth-js: Address "${u}" is invalid.`);return u.toLowerCase()}function Qb(u){return parseInt(u,16)}function Xb(u){const i=new TextEncoder().encode(u);return"0x"+Array.from(i,s=>s.toString(16).padStart(2,"0")).join("")}function Jb(u){var i;const{chainId:l,domain:s,expirationTime:c,issuedAt:f=new Date,nonce:d,notBefore:g,requestId:y,resources:m,scheme:b,uri:w,version:A}=u;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((i=u.statement)===null||i===void 0)&&i.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${u.statement}`)}const T=Ym(u.address),D=b?`${b}://${s}`:s,k=u.statement?`${u.statement}
`:"",R=`${D} wants you to sign in with your Ethereum account:
${T}

${k}`;let $=`URI: ${w}
Version: ${A}
Chain ID: ${l}${d?`
Nonce: ${d}`:""}
Issued At: ${f.toISOString()}`;if(c&&($+=`
Expiration Time: ${c.toISOString()}`),g&&($+=`
Not Before: ${g.toISOString()}`),y&&($+=`
Request ID: ${y}`),m){let H=`
Resources:`;for(const B of m){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);H+=`
- ${B}`}$+=H}return`${R}
${$}`}class Ke extends Error{constructor({message:i,code:l,cause:s,name:c}){var f;super(i,{cause:s}),this.__isWebAuthnError=!0,this.name=(f=c??(s instanceof Error?s.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=l}}class Is extends Ke{constructor(i,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:i}),this.name="WebAuthnUnknownError",this.originalError=l}}function Zb({error:u,options:i}){var l,s,c;const{publicKey:f}=i;if(!f)throw Error("options was missing required publicKey property");if(u.name==="AbortError"){if(i.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:u})}else if(u.name==="ConstraintError"){if(((l=f.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:u});if(i.mediation==="conditional"&&((s=f.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:u});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:u})}else{if(u.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:u});if(u.name==="NotAllowedError")return new Ke({message:u.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u});if(u.name==="NotSupportedError")return f.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:u}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:u});if(u.name==="SecurityError"){const d=window.location.hostname;if(Km(d)){if(f.rp.id!==d)return new Ke({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:u})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:u})}else if(u.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:u})}else if(u.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:u})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u})}function Pb({error:u,options:i}){const{publicKey:l}=i;if(!l)throw Error("options was missing required publicKey property");if(u.name==="AbortError"){if(i.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:u})}else{if(u.name==="NotAllowedError")return new Ke({message:u.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u});if(u.name==="SecurityError"){const s=window.location.hostname;if(Km(s)){if(l.rpId!==s)return new Ke({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:u})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:u})}else if(u.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:u})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u})}class Ib{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const i=new AbortController;return this.controller=i,i.signal}cancelCeremony(){if(this.controller){const i=new Error("Manually cancelling existing WebAuthn API call");i.name="AbortError",this.controller.abort(i),this.controller=void 0}}}const Wb=new Ib;function Fb(u){if(!u)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(u);const{challenge:i,user:l,excludeCredentials:s}=u,c=mi(u,["challenge","user","excludeCredentials"]),f=di(i).buffer,d=Object.assign(Object.assign({},l),{id:di(l.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:f,user:d});if(s&&s.length>0){g.excludeCredentials=new Array(s.length);for(let y=0;y<s.length;y++){const m=s[y];g.excludeCredentials[y]=Object.assign(Object.assign({},m),{id:di(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return g}function e_(u){if(!u)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(u);const{challenge:i,allowCredentials:l}=u,s=mi(u,["challenge","allowCredentials"]),c=di(i).buffer,f=Object.assign(Object.assign({},s),{challenge:c});if(l&&l.length>0){f.allowCredentials=new Array(l.length);for(let d=0;d<l.length;d++){const g=l[d];f.allowCredentials[d]=Object.assign(Object.assign({},g),{id:di(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function t_(u){var i;if("toJSON"in u&&typeof u.toJSON=="function")return u.toJSON();const l=u;return{id:u.id,rawId:u.id,response:{attestationObject:ba(new Uint8Array(u.response.attestationObject)),clientDataJSON:ba(new Uint8Array(u.response.clientDataJSON))},type:"public-key",clientExtensionResults:u.getClientExtensionResults(),authenticatorAttachment:(i=l.authenticatorAttachment)!==null&&i!==void 0?i:void 0}}function n_(u){var i;if("toJSON"in u&&typeof u.toJSON=="function")return u.toJSON();const l=u,s=u.getClientExtensionResults(),c=u.response;return{id:u.id,rawId:u.id,response:{authenticatorData:ba(new Uint8Array(c.authenticatorData)),clientDataJSON:ba(new Uint8Array(c.clientDataJSON)),signature:ba(new Uint8Array(c.signature)),userHandle:c.userHandle?ba(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(i=l.authenticatorAttachment)!==null&&i!==void 0?i:void 0}}function Km(u){return u==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(u)}function Qg(){var u,i;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((u=navigator==null?void 0:navigator.credentials)===null||u===void 0?void 0:u.create)=="function"&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.get)=="function")}async function a_(u){try{const i=await navigator.credentials.create(u);return i?i instanceof PublicKeyCredential?{data:i,error:null}:{data:null,error:new Is("Browser returned unexpected credential type",i)}:{data:null,error:new Is("Empty credential response",i)}}catch(i){return{data:null,error:Zb({error:i,options:u})}}}async function i_(u){try{const i=await navigator.credentials.get(u);return i?i instanceof PublicKeyCredential?{data:i,error:null}:{data:null,error:new Is("Browser returned unexpected credential type",i)}:{data:null,error:new Is("Empty credential response",i)}}catch(i){return{data:null,error:Pb({error:i,options:u})}}}const l_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},s_={userVerification:"preferred",hints:["security-key"]};function Ws(...u){const i=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),s={};for(const c of u)if(c)for(const f in c){const d=c[f];if(d!==void 0)if(Array.isArray(d))s[f]=d;else if(l(d))s[f]=d;else if(i(d)){const g=s[f];i(g)?s[f]=Ws(g,d):s[f]=Ws(d)}else s[f]=d}return s}function r_(u,i){return Ws(l_,u,i||{})}function u_(u,i){return Ws(s_,u,i||{})}class o_{constructor(i){this.client=i,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(i){return this.client.mfa.enroll(Object.assign(Object.assign({},i),{factorType:"webauthn"}))}async _challenge({factorId:i,webauthn:l,friendlyName:s,signal:c},f){try{const{data:d,error:g}=await this.client.mfa.challenge({factorId:i,webauthn:l});if(!d)return{data:null,error:g};const y=c??Wb.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=r_(d.webauthn.credential_options.publicKey,f==null?void 0:f.create),{data:b,error:w}=await a_({publicKey:m,signal:y});return b?{data:{factorId:i,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const m=u_(d.webauthn.credential_options.publicKey,f==null?void 0:f.request),{data:b,error:w}=await i_(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:y}));return b?{data:{factorId:i,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new pa("Unexpected error in challenge",d)}}}async _verify({challengeId:i,factorId:l,webauthn:s}){return this.client.mfa.verify({factorId:l,challengeId:i,webauthn:s})}async _authenticate({factorId:i,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}},f){if(!l)return{data:null,error:new pl("rpId is required for WebAuthn authentication")};try{if(!Qg())return{data:null,error:new pa("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this.challenge({factorId:i,webauthn:{rpId:l,rpOrigins:s},signal:c},{request:f});if(!d)return{data:null,error:g};const{webauthn:y}=d;return this._verify({factorId:i,challengeId:d.challengeId,webauthn:{type:y.type,rpId:l,rpOrigins:s,credential_response:y.credential_response}})}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new pa("Unexpected error in authenticate",d)}}}async _register({friendlyName:i,rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c},f){if(!l)return{data:null,error:new pl("rpId is required for WebAuthn registration")};try{if(!Qg())return{data:null,error:new pa("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this._enroll({friendlyName:i});if(!d)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===i&&A.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:g};const{data:y,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:l,rpOrigins:s},signal:c},{create:f});return y?this._verify({factorId:d.id,challengeId:y.challengeId,webauthn:{rpId:l,rpOrigins:s,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:m}}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new pa("Unexpected error in register",d)}}}}Kb();const c_={url:sb,storageKey:rb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ub,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xg(u,i,l){return await l()}const oi={};class bl{get jwks(){var i,l;return(l=(i=oi[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(i){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,l;return(l=(i=oi[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{cachedAt:i})}constructor(i){var l,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bl.nextInstanceID,bl.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},c_),i);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Gb({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Gm(c.fetch),this.lock=c.lock||Xg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:ut()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=Yb:this.lock=Xg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new o_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:$m()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Kg(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lm}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const l=Sb(window.location.href);let s="none";if(this._isImplicitGrantCallback(l)?s="implicit":await this._isPKCECallback(l)&&(s="pkce"),ut()&&this.detectSessionInUrl&&s!=="none"){const{data:c,error:f}=await this._getSessionFromURL(l,s);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),gb(f)){const y=(i=f.details)===null||i===void 0?void 0:i.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:d,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return W(l)?{error:l}:{error:new pa("Unexpected error during initialization",l)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var l,s,c;try{const f=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(l=i==null?void 0:i.options)===null||l===void 0?void 0:l.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(c=i==null?void 0:i.options)===null||c===void 0?void 0:c.captchaToken}},xform:Kt}),{data:d,error:g}=f;if(g||!d)return{data:{user:null,session:null},error:g};const y=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:m,session:y},error:null}}catch(f){if(W(f))return{data:{user:null,session:null},error:f};throw f}}async signUp(i){var l,s,c;try{let f;if("email"in i){const{email:b,password:w,options:A}=i;let T=null,D=null;this.flowType==="pkce"&&([T,D]=await si(this.storage,this.storageKey)),f=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:b,password:w,data:(l=A==null?void 0:A.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:T,code_challenge_method:D},xform:Kt})}else if("phone"in i){const{phone:b,password:w,options:A}=i;f=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(s=A==null?void 0:A.data)!==null&&s!==void 0?s:{},channel:(c=A==null?void 0:A.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Kt})}else throw new Qs("You must provide either an email or phone number and a password");const{data:d,error:g}=f;if(g||!d)return{data:{user:null,session:null},error:g};const y=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:m,session:y},error:null}}catch(f){if(W(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(i){try{let l;if("email"in i){const{email:f,password:d,options:g}=i;l=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Vg})}else if("phone"in i){const{phone:f,password:d,options:g}=i;l=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Vg})}else throw new Qs("You must provide either an email or phone number and a password");const{data:s,error:c}=l;return c?{data:{user:null,session:null},error:c}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new li}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:c})}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOAuth(i){var l,s,c,f;return await this._handleProviderSignIn(i.provider,{redirectTo:(l=i.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=i.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=i.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=i.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:l}=i;switch(l){case"ethereum":return await this.signInWithEthereum(i);case"solana":return await this.signInWithSolana(i);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(i){var l,s,c,f,d,g,y,m,b,w,A;let T,D;if("message"in i)T=i.message,D=i.signature;else{const{chain:k,wallet:R,statement:$,options:H}=i;let B;if(ut())if(typeof R=="object")B=R;else{const be=window;if("ethereum"in be&&typeof be.ethereum=="object"&&"request"in be.ethereum&&typeof be.ethereum.request=="function")B=be.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=R}const K=new URL((l=H==null?void 0:H.url)!==null&&l!==void 0?l:window.location.href),ie=await B.request({method:"eth_requestAccounts"}).then(be=>be).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=Ym(ie[0]);let I=(s=H==null?void 0:H.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!I){const be=await B.request({method:"eth_chainId"});I=Qb(be)}const ae={domain:K.host,address:Y,statement:$,uri:K.href,version:"1",chainId:I,nonce:(c=H==null?void 0:H.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(f=H==null?void 0:H.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(g=H==null?void 0:H.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(y=H==null?void 0:H.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(m=H==null?void 0:H.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(b=H==null?void 0:H.signInWithEthereum)===null||b===void 0?void 0:b.resources};T=Jb(ae),D=await B.request({method:"personal_sign",params:[Xb(T),Y]})}try{const{data:k,error:R}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:D},!((w=i.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(A=i.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Kt});if(R)throw R;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new li}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:R})}catch(k){if(W(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(i){var l,s,c,f,d,g,y,m,b,w,A,T;let D,k;if("message"in i)D=i.message,k=i.signature;else{const{chain:R,wallet:$,statement:H,options:B}=i;let K;if(ut())if(typeof $=="object")K=$;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))K=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=$}const ie=new URL((l=B==null?void 0:B.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in K&&K.signIn){const Y=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),H?{statement:H}:null));let I;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")I=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)I=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)D=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),k=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");D=[`${ie.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(c=(s=B==null?void 0:B.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=B==null?void 0:B.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((d=B==null?void 0:B.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((g=B==null?void 0:B.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((y=B==null?void 0:B.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((m=B==null?void 0:B.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((w=(b=B==null?void 0:B.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...B.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const Y=await K.signMessage(new TextEncoder().encode(D),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=Y}}try{const{data:R,error:$}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:D,signature:ba(k)},!((A=i.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(T=i.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Kt});if($)throw $;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new li}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:$})}catch(R){if(W(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(i){const l=await ma(this.storage,`${this.storageKey}-code-verifier`),[s,c]=(l??"").split("/");try{const{data:f,error:d}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:s},xform:Kt});if(await Qn(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!f||!f.session||!f.user?{data:{user:null,session:null,redirectType:null},error:new li}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:d})}catch(f){if(W(f))return{data:{user:null,session:null,redirectType:null},error:f};throw f}}async signInWithIdToken(i){try{const{options:l,provider:s,token:c,access_token:f,nonce:d}=i,g=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:c,access_token:f,nonce:d,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kt}),{data:y,error:m}=g;return m?{data:{user:null,session:null},error:m}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new li}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:m})}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOtp(i){var l,s,c,f,d;try{if("email"in i){const{email:g,options:y}=i;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await si(this.storage,this.storageKey));const{error:w}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=y==null?void 0:y.data)!==null&&l!==void 0?l:{},create_user:(s=y==null?void 0:y.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:m,code_challenge_method:b},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in i){const{phone:g,options:y}=i,{data:m,error:b}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=y==null?void 0:y.data)!==null&&c!==void 0?c:{},create_user:(f=y==null?void 0:y.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(d=y==null?void 0:y.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:b}}throw new Qs("You must provide either an email or phone number.")}catch(g){if(W(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(i){var l,s;try{let c,f;"options"in i&&(c=(l=i.options)===null||l===void 0?void 0:l.redirectTo,f=(s=i.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:g}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:Kt});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const y=d.session,m=d.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:m,session:y},error:null}}catch(c){if(W(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(i){var l,s,c;try{let f=null,d=null;return this.flowType==="pkce"&&([f,d]=await si(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(s=(l=i.options)===null||l===void 0?void 0:l.redirectTo)!==null&&s!==void 0?s:void 0}),!((c=i==null?void 0:i.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:d}),headers:this.headers,xform:Bb})}catch(f){if(W(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:l},error:s}=i;if(s)throw s;if(!l)throw new Yt;const{error:c}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return{data:{user:null,session:null},error:c}})}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const l=`${this.url}/resend`;if("email"in i){const{email:s,type:c,options:f}=i,{error:d}=await ne(this.fetch,"POST",l,{headers:this.headers,body:{email:s,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in i){const{phone:s,type:c,options:f}=i,{data:d,error:g}=await ne(this.fetch,"POST",l,{headers:this.headers,body:{phone:s,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:g}}throw new Qs("You must provide either an email or phone number and a type")}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(i,l){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await s,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=l();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await i(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const l=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?i=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const s=i.expires_at?i.expires_at*1e3-Date.now()<Co:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",i.expires_at),!s){if(this.userStorage){const d=await ma(this.userStorage,this.storageKey+"-user");d!=null&&d.user?i.user=d.user:i.user=Uo()}if(this.storage.isServer&&i.user&&!i.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};i.user=kb(i.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:i},error:null}}const{data:c,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{session:null},error:f}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Xn}):await this._useSession(async l=>{var s,c,f;const{data:d,error:g}=l;if(g)throw g;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:Xn})})}catch(l){if(W(l))return hb(l)&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:l};throw l}}async updateUser(i,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,l))}async _updateUser(i,l={}){try{return await this._useSession(async s=>{const{data:c,error:f}=s;if(f)throw f;if(!c.session)throw new Yt;const d=c.session;let g=null,y=null;this.flowType==="pkce"&&i.email!=null&&([g,y]=await si(this.storage,this.storageKey));const{data:m,error:b}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:g,code_challenge_method:y}),jwt:d.access_token,xform:Xn});if(b)throw b;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Yt;const l=Date.now()/1e3;let s=l,c=!0,f=null;const{payload:d}=zo(i.access_token);if(d.exp&&(s=d.exp,c=s<=l),c){const{data:g,error:y}=await this._callRefreshToken(i.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!g)return{data:{user:null,session:null},error:null};f=g}else{const{data:g,error:y}=await this._getUser(i.access_token);if(y)throw y;f={access_token:i.access_token,refresh_token:i.refresh_token,user:g.user,token_type:"bearer",expires_in:s-l,expires_at:s},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(l){if(W(l))return{data:{session:null,user:null},error:l};throw l}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async l=>{var s;if(!i){const{data:d,error:g}=l;if(g)throw g;i=(s=d.session)!==null&&s!==void 0?s:void 0}if(!(i!=null&&i.refresh_token))throw new Yt;const{data:c,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{user:null,session:null},error:f}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async _getSessionFromURL(i,l){try{if(!ut())throw new Xs("No browser detected.");if(i.error||i.error_description||i.error_code)throw new Xs(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xs("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Mg("No code detected.");const{data:H,error:B}=await this._exchangeCodeForSession(i.code);if(B)throw B;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:c,access_token:f,refresh_token:d,expires_in:g,expires_at:y,token_type:m}=i;if(!f||!g||!d||!m)throw new Xs("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(g);let A=b+w;y&&(A=parseInt(y));const T=A-b;T*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${w}s`);const D=A-w;b-D>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",D,A,b):b-D<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",D,A,b);const{data:k,error:R}=await this._getUser(f);if(R)throw R;const $={provider_token:s,provider_refresh_token:c,access_token:f,expires_in:w,expires_at:A,refresh_token:d,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:i.type},error:null}}catch(s){if(W(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const l=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&l)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async l=>{var s;const{data:c,error:f}=l;if(f)return{error:f};const d=(s=c.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:g}=await this.admin.signOut(d,i);if(g&&!(db(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return i!=="others"&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const l=wb(),s={id:l,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:s}}}async _emitInitialSession(i){return await this._useSession(async l=>{var s,c;try{const{data:{session:f},error:d}=l;if(d)throw d;await((s=this.stateChangeEmitters.get(i))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",i,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(i))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",f),console.error(f)}})}async resetPasswordForEmail(i,l={}){let s=null,c=null;this.flowType==="pkce"&&([s,c]=await si(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(f){if(W(f))return{data:null,error:f};throw f}}async getUserIdentities(){var i;try{const{data:l,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(i=l.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(l){if(W(l))return{data:null,error:l};throw l}}async linkIdentity(i){return"token"in i?this.linkIdentityIdToken(i):this.linkIdentityOAuth(i)}async linkIdentityOAuth(i){var l;try{const{data:s,error:c}=await this._useSession(async f=>{var d,g,y,m,b;const{data:w,error:A}=f;if(A)throw A;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(d=i.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=i.options)===null||g===void 0?void 0:g.scopes,queryParams:(y=i.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",T,{headers:this.headers,jwt:(b=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ut()&&!(!((l=i.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:i.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(W(s))return{data:{provider:i.provider,url:null},error:s};throw s}}async linkIdentityIdToken(i){return await this._useSession(async l=>{var s;try{const{error:c,data:{session:f}}=l;if(c)throw c;const{options:d,provider:g,token:y,access_token:m,nonce:b}=i,w=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=f==null?void 0:f.access_token)!==null&&s!==void 0?s:void 0,body:{provider:g,id_token:y,access_token:m,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Kt}),{data:A,error:T}=w;return T?{data:{user:null,session:null},error:T}:!A||!A.session||!A.user?{data:{user:null,session:null},error:new li}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),{data:A,error:T})}catch(c){if(W(c))return{data:{user:null,session:null},error:c};throw c}})}async unlinkIdentity(i){try{return await this._useSession(async l=>{var s,c;const{data:f,error:d}=l;if(d)throw d;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(c=(s=f.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _refreshAccessToken(i){const l=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(l,"begin");try{const s=Date.now();return await Ab(async c=>(c>0&&await xb(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:Kt})),(c,f)=>{const d=200*Math.pow(2,c);return f&&Do(f)&&Date.now()+d-s<ci})}catch(s){if(this._debug(l,"error",s),W(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(l,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,l){const s=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",l,"url",s),ut()&&!l.skipBrowserRedirect&&window.location.assign(s),{data:{provider:i,url:s},error:null}}async _recoverAndRefresh(){var i,l;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const c=await ma(this.storage,this.storageKey);if(c&&this.userStorage){let d=await ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await fi(this.userStorage,this.storageKey+"-user",d)),c.user=(i=d==null?void 0:d.user)!==null&&i!==void 0?i:Uo()}else if(c&&!c.user&&!c.user){const d=await ma(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(c.user=d.user,await Qn(this.storage,this.storageKey+"-user"),await fi(this.storage,this.storageKey,c)):c.user=Uo()}if(this._debug(s,"session from storage",c),!this._isValidSession(c)){this._debug(s,"session is not valid"),c!==null&&await this._removeSession();return}const f=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Co;if(this._debug(s,`session has${f?"":" not"} expired with margin of ${Co}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),Do(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:g}=await this._getUser(c.access_token);!g&&(d!=null&&d.user)?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(s,"error",c),console.error(c);return}finally{this._debug(s,"end")}}async _callRefreshToken(i){var l,s;if(!i)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new er;const{data:f,error:d}=await this._refreshAccessToken(i);if(d)throw d;if(!f.session)throw new Yt;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const g={data:f.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(f){if(this._debug(c,"error",f),W(f)){const d={data:null,error:f};return Do(f)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(i,l,s=!0){const c=`#_notifyAllSubscribers(${i})`;this._debug(c,"begin",l,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:i,session:l});const f=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(i,l)}catch(y){f.push(y)}});if(await Promise.all(d),f.length>0){for(let g=0;g<f.length;g+=1)console.error(f[g]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const l=Object.assign({},i),s=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&l.user&&await fi(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const f=$g(c);await fi(this.storage,this.storageKey,f)}else{const c=$g(l);await fi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Qn(this.storage,this.storageKey),await Qn(this.storage,this.storageKey+"-code-verifier"),await Qn(this.storage,this.storageKey+"-user"),this.userStorage&&await Qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",i)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async l=>{const{data:{session:s}}=l;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((s.expires_at*1e3-i)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ci}ms, refresh threshold is ${Ko} ticks`),c<=Ko&&await this._callRefreshToken(s.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof Vm)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const l=`#_onVisibilityChanged(${i})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,l,s){const c=[`provider=${encodeURIComponent(l)}`];if(s!=null&&s.redirectTo&&c.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&c.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[f,d]=await si(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(g.toString())}if(s!=null&&s.queryParams){const f=new URLSearchParams(s.queryParams);c.push(f.toString())}return s!=null&&s.skipBrowserRedirect&&c.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${i}?${c.join("&")}`}async _unenroll(i){try{return await this._useSession(async l=>{var s;const{data:c,error:f}=l;return f?{data:null,error:f}:await ne(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _enroll(i){try{return await this._useSession(async l=>{var s,c;const{data:f,error:d}=l;if(d)return{data:null,error:d};const g=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:i.factorType==="totp"?{issuer:i.issuer}:{}),{data:y,error:m}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(s=f==null?void 0:f.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(i.factorType==="totp"&&y.type==="totp"&&(!((c=y==null?void 0:y.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:c,error:f}=l;if(f)return{data:null,error:f};const d=Object.assign({challenge_id:i.challengeId},"webauthn"in i?{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_response:i.webauthn.type==="create"?t_(i.webauthn.credential_response):n_(i.webauthn.credential_response)})}:{code:i.code}),{data:g,error:y}=await ne(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});return y?{data:null,error:y}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:y})})}catch(l){if(W(l))return{data:null,error:l};throw l}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var s;const{data:c,error:f}=l;if(f)return{data:null,error:f};const d=await ne(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:i,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:g}=d;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Fb(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:e_(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(W(l))return{data:null,error:l};throw l}})}async _challengeAndVerify(i){const{data:l,error:s}=await this._challenge({factorId:i.factorId});return s?{data:null,error:s}:await this._verify({factorId:i.factorId,challengeId:l.id,code:i.code})}async _listFactors(){var i;const{data:{user:l},error:s}=await this.getUser();if(s)return{data:null,error:s};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(i=l==null?void 0:l.factors)!==null&&i!==void 0?i:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var i,l;const{data:{session:s},error:c}=await this.getSession();if(c)return{data:null,error:c};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=zo(s.access_token);let d=null;f.aal&&(d=f.aal);let g=d;((l=(i=s.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const m=f.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(i){try{return await this._useSession(async l=>{const{data:{session:s},error:c}=l;return c?{data:null,error:c}:s?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${i}`,{headers:this.headers,jwt:s.access_token,xform:f=>({data:f,error:null})}):{data:null,error:new Yt}})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _approveAuthorization(i,l){try{return await this._useSession(async s=>{const{data:{session:c},error:f}=s;if(f)return{data:null,error:f};if(!c)return{data:null,error:new Yt};const d=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${i}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&ut()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _denyAuthorization(i,l){try{return await this._useSession(async s=>{const{data:{session:c},error:f}=s;if(f)return{data:null,error:f};if(!c)return{data:null,error:new Yt};const d=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${i}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&ut()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(s){if(W(s))return{data:null,error:s};throw s}}async fetchJwk(i,l={keys:[]}){let s=l.keys.find(g=>g.kid===i);if(s)return s;const c=Date.now();if(s=this.jwks.keys.find(g=>g.kid===i),s&&this.jwks_cached_at+cb>c)return s;const{data:f,error:d}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,s=f.keys.find(g=>g.kid===i),!s)?null:s}async getClaims(i,l={}){try{let s=i;if(!s){const{data:T,error:D}=await this.getSession();if(D||!T.session)return{data:null,error:D};s=T.session.access_token}const{header:c,payload:f,signature:d,raw:{header:g,payload:y}}=zo(s);l!=null&&l.allowExpired||Db(f.exp);const m=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!m){const{error:T}=await this.getUser(s);if(T)throw T;return{data:{claims:f,header:c,signature:d},error:null}}const b=zb(c.alg),w=await crypto.subtle.importKey("jwk",m,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,d,bb(`${g}.${y}`)))throw new Jo("Invalid JWT signature");return{data:{claims:f,header:c,signature:d},error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}}bl.nextInstanceID=0;const f_=bl;class d_ extends f_{constructor(i){super(i)}}class h_{constructor(i,l,s){var c,f,d;this.supabaseUrl=i,this.supabaseKey=l;const g=lb(i);if(!l)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const y=`sb-${g.hostname.split(".")[0]}-auth-token`,m={db:Ip,realtime:Fp,auth:Object.assign(Object.assign({},Wp),{storageKey:y}),global:Pp},b=ib(s??{},m);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(f=b.global.headers)!==null&&f!==void 0?f:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(w,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=b.auth)!==null&&d!==void 0?d:{},this.headers,b.global.fetch),this.fetch=nb(l,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new sp(new URL("rest/v1",g).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new Xp(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Iv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,l={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,l,s)}channel(i,l={config:{}}){return this.realtime.channel(i,l)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i,l;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(l=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:l,detectSessionInUrl:s,storage:c,userStorage:f,storageKey:d,flowType:g,lock:y,debug:m},b,w){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d_({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),b),storageKey:d,autoRefreshToken:i,persistSession:l,detectSessionInUrl:s,storage:c,userStorage:f,flowType:g,lock:y,debug:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Ep(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,s)=>{this._handleTokenChanged(l,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(i,l,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const g_=(u,i,l)=>new h_(u,i,l);function m_(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const i=u.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}m_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y_="https://shyhpfaiozagrhejubbk.supabase.co",v_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoeWhwZmFpb3phZ3JoZWp1YmJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4MTA1MzAsImV4cCI6MjA3NzM4NjUzMH0._stuR9actxTxze_PpOo283L9j0uUL4FOrg7LWPuhLKI",nt=g_(y_,v_),Qm=X.createContext(void 0),p_=({children:u})=>{const[i,l]=X.useState(null),[s,c]=X.useState(null),[f,d]=X.useState(!0);X.useEffect(()=>{let m=!0;nt.auth.signOut(),l(null),c(null),d(!1);const{data:b}=nt.auth.onAuthStateChange(async(w,A)=>{if(m){m=!1;return}if(w==="SIGNED_IN"&&(A!=null&&A.user)){d(!0);const T=A.user,{data:D,error:k}=await nt.from("profiles").select("*").eq("id",T.id).single();k||!D?(console.error("Login successful but profile fetch failed. Logging out.",k),await nt.auth.signOut()):(l(T),c(D)),d(!1)}else w==="SIGNED_OUT"&&(l(null),c(null),d(!1))});return()=>{b.subscription.unsubscribe()}},[]);const g=async(m,b)=>{const{error:w}=await nt.auth.signInWithPassword({email:m,password:b});return{error:w}},y=async()=>{await nt.auth.signOut()};return p.jsx(Qm.Provider,{value:{user:i,profile:s,loading:f,login:g,logout:y},children:u})},_n=()=>{const u=X.useContext(Qm);if(u===void 0)throw new Error("useAuth must be used within an AuthProvider");return u};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),__=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,l,s)=>s?s.toUpperCase():l.toLowerCase()),Jg=u=>{const i=__(u);return i.charAt(0).toUpperCase()+i.slice(1)},Xm=(...u)=>u.filter((i,l,s)=>!!i&&i.trim()!==""&&s.indexOf(i)===l).join(" ").trim(),w_=u=>{for(const i in u)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=X.forwardRef(({color:u="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:c="",children:f,iconNode:d,...g},y)=>X.createElement("svg",{ref:y,...S_,width:i,height:i,stroke:u,strokeWidth:s?Number(l)*24/Number(i):l,className:Xm("lucide",c),...!f&&!w_(g)&&{"aria-hidden":"true"},...g},[...d.map(([m,b])=>X.createElement(m,b)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(u,i)=>{const l=X.forwardRef(({className:s,...c},f)=>X.createElement(E_,{ref:f,iconNode:i,className:Xm(`lucide-${b_(Jg(u))}`,`lucide-${u}`,s),...c}));return l.displayName=Jg(u),l};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],A_=yt("arrow-left",x_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O_=yt("circle-check-big",T_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],N_=yt("circle-plus",j_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Jm=yt("download",R_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],D_=yt("funnel",C_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bn=yt("loader-circle",z_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],k_=yt("log-out",U_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],q_=yt("message-square",M_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zm=yt("search",L_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Pm=yt("send",B_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Im=yt("square-pen",H_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],G_=yt("triangle-alert",$_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Y_=yt("user",V_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Q_=yt("x",K_),X_=()=>{const[u,i]=X.useState(""),[l,s]=X.useState(""),[c,f]=X.useState(""),[d,g]=X.useState(!1),{login:y}=_n(),m=async b=>{b.preventDefault(),g(!0),f("");const{error:w}=await y(u,l);f(w?w.message||"Invalid email or password.":""),g(!1)};return p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-4",children:p.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-10 space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("svg",{className:"h-12 w-auto text-zankli-orange-600 mx-auto",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5-10-5-10 5z"})}),p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mt-4",children:"Zankli Medical Centre"}),p.jsx("p",{className:"text-gray-500",children:"Performance Appraisal System"})]}),p.jsxs("form",{onSubmit:m,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),p.jsx("input",{id:"email",type:"email",value:u,onChange:b=>i(b.target.value),className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zankli-orange-500 focus:border-transparent sm:text-sm",required:!0,autoComplete:"email"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),p.jsx("input",{id:"password",type:"password",value:l,onChange:b=>s(b.target.value),className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zankli-orange-500 focus:border-transparent sm:text-sm",required:!0,autoComplete:"current-password"})]}),c&&p.jsx("p",{className:"text-red-500 text-sm text-center",children:c}),p.jsxs("button",{type:"submit",disabled:d,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-zankli-orange-600 hover:bg-zankli-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zankli-orange-500 transition-all duration-300 transform hover:scale-105 disabled:bg-zankli-orange-400 disabled:cursor-not-allowed",children:[d&&p.jsx(bn,{className:"h-5 w-5 animate-spin"}),d?"Signing In...":"Sign In"]})]})]})})};var Je=(u=>(u.APPRAISER="appraiser@zankli.com",u.HR="zanklihr@gmail.com",u.DOCS="docs.zmc@gmail.com",u.MD="mdzankli@gmail.com",u.CHAIRMAN="chairmanzankli@gmail.com",u))(Je||{}),Wm=(u=>(u.GOPD="GOPD",u.OPD="OPD",u.MAINTENANCE="MAINTENANCE",u.DRIVERS="DRIVERS",u.NURSES="NURSES",u.NURSES_ATTENDANTS="NURSES ATTENDANTS",u.INTERNAL_SECURITY="INTERNAL SECURITY",u.ADMIN="ADMIN",u.FRONT_DESK="FRONT DESK",u.LAB="LAB",u.RADIOLOGY="RADIOLOGY",u.BILLING="BILLING",u.INTERNAL_AUDIT="INTERNAL AUDIT",u.ACCOUNTS="ACCOUNTS",u.PAEDIATRICS="PAEDIATRICS",u))(Wm||{}),Me=(u=>(u.DRAFT="Draft",u.PENDING_HR_APPROVAL="Pending HR Approval",u.PENDING_DOCS_APPROVAL="Pending Docs Approval",u.PENDING_MD_APPROVAL="Pending MD Approval",u.PENDING_CHAIRMAN_APPROVAL="Pending Chairman Approval",u.COMPLETED="Completed",u))(Me||{});const Fm={[Je.APPRAISER]:"Appraiser/HOD",[Je.HR]:"Zankli HR",[Je.DOCS]:"ZMC Docs",[Je.MD]:"Managing Director",[Je.CHAIRMAN]:"Chairman"},e0=Object.values(Wm),Zo=[{title:"Job Knowledge & Skills",questions:["q1_knowledge_of_duties","q2_technical_skills","q3_understanding_of_policies"]},{title:"Quality of Work",questions:["q4_accuracy_and_thoroughness","q5_efficiency_and_timeliness","q6_work_presentation"]},{title:"Communication & Interpersonal Skills",questions:["q7_teamwork_and_collaboration","q8_patient_staff_interaction","q9_clarity_of_communication"]},{title:"Attendance & Punctuality",questions:["q10_punctuality","q11_adherence_to_schedule"]},{title:"Initiative & Problem Solving",questions:["q12_proactiveness","q13_problem_solving_ability","q14_adaptability_to_change"]}],t0={q1_knowledge_of_duties:"Demonstrates thorough knowledge of job duties and responsibilities.",q2_technical_skills:"Possesses the necessary technical skills to perform the job effectively.",q3_understanding_of_policies:"Understands and follows hospital policies and procedures.",q4_accuracy_and_thoroughness:"Produces accurate, thorough, and high-quality work.",q5_efficiency_and_timeliness:"Completes tasks efficiently and within deadlines.",q6_work_presentation:"Maintains a neat and organized work environment.",q7_teamwork_and_collaboration:"Works cooperatively with others and contributes to a positive team environment.",q8_patient_staff_interaction:"Interacts with patients and colleagues professionally and courteously.",q9_clarity_of_communication:"Communicates clearly and effectively, both verbally and in writing.",q10_punctuality:"Is consistently on time and ready to work at the start of their shift.",q11_adherence_to_schedule:"Adheres to break and lunch schedules appropriately.",q12_proactiveness:"Shows initiative and seeks out new responsibilities.",q13_problem_solving_ability:"Identifies and resolves problems in a timely and effective manner.",q14_adaptability_to_change:"Adapts well to changes in the work environment."},J_={[Me.DRAFT]:Je.APPRAISER,[Me.PENDING_HR_APPROVAL]:Je.HR,[Me.PENDING_DOCS_APPROVAL]:Je.DOCS,[Me.PENDING_MD_APPROVAL]:Je.MD,[Me.PENDING_CHAIRMAN_APPROVAL]:Je.CHAIRMAN,[Me.COMPLETED]:null},Zg={[Me.DRAFT]:Me.PENDING_HR_APPROVAL,[Me.PENDING_HR_APPROVAL]:Me.PENDING_DOCS_APPROVAL,[Me.PENDING_DOCS_APPROVAL]:Me.PENDING_MD_APPROVAL,[Me.PENDING_MD_APPROVAL]:Me.PENDING_CHAIRMAN_APPROVAL,[Me.PENDING_CHAIRMAN_APPROVAL]:Me.COMPLETED,[Me.COMPLETED]:Me.COMPLETED},n0=u=>u>=0&&u<=2?"Poor":u>=3&&u<=4?"Fair":u>=5&&u<=7?"Good":u>=8&&u<=10?"Very Good":"N/A",a0=u=>{const i=Object.values(u),l=i.length;if(l===0)return{average:0,percentage:0};const s=i.reduce((g,y)=>g+y,0),c=l*10,f=s/c*100,d=s/l;return{average:parseFloat(d.toFixed(2)),percentage:parseFloat(f.toFixed(2))}},Pg=u=>{const i=u.split(","),l=i[0].match(/:(.*?);/);if(!l)throw new Error("Invalid data URL");const s=l[1],c=atob(i[1]);let f=c.length;const d=new Uint8Array(f);for(;f--;)d[f]=c.charCodeAt(f);return new Blob([d],{type:s})},i0=X.createContext(void 0),Z_=({children:u})=>{const[i,l]=X.useState([]),[s,c]=X.useState(!0),{user:f}=_n(),d=X.useCallback(async()=>{c(!0);const{data:b,error:w}=await nt.from("appraisals").select("*").order("created_at",{ascending:!1});w?(console.error("Error fetching appraisals:",w),l([])):l(b||[]),c(!1)},[]);X.useEffect(()=>{f?d():(l([]),c(!1))},[f,d]);const g=X.useCallback(async(b,w)=>{if(!f)throw new Error("User not authenticated");const A=Pg(w),T=`${f.id}-${Date.now()}.png`,{data:D,error:k}=await nt.storage.from("signatures").upload(T,A);if(k)throw k;const{data:R}=nt.storage.from("signatures").getPublicUrl(D.path),{average:$,percentage:H}=a0(b.scores),B=n0($),K={...b,hod_signature_url:R.publicUrl,status:Me.PENDING_HR_APPROVAL,overall_score:H,overall_rating:B},{error:ie}=await nt.from("appraisals").insert([K]);if(ie){if(ie.message.includes("violates row-level security policy")){const Y=`Database security policy prevented this submission. Please ensure an 'INSERT' policy exists on the 'appraisals' table that allows users with the role '${Je.APPRAISER}' to create records.`;throw new Error(Y)}throw ie}await d()},[f,d]),y=X.useCallback(async(b,w,A,T)=>{if(!f)throw new Error("User not authenticated");try{const D=Pg(A),k=`${f.id}-approval-${Date.now()}.png`,{data:R,error:$}=await nt.storage.from("signatures").upload(k,D);if($)throw $;const{data:H}=nt.storage.from("signatures").getPublicUrl(R.path),B={appraisal_id:b,signer_id:f.id,comment:T,signature_url:H.publicUrl},{error:K}=await nt.from("signatures").insert([B]);if(K)throw K;const ie=Zg[w];console.log("Attempting to update appraisal:",{id:b,fromStatus:w,toStatus:ie});const{error:Y}=await nt.from("appraisals").update({status:ie}).eq("id",b);if(Y)throw Y;await d()}catch(D){if(D.message&&D.message.includes("violates row-level security policy")){const k=Zg[w],R=`Database security policy prevented this update. Please check the 'UPDATE' Row Level Security policy on your 'appraisals' table in Supabase. For this approval to work, the policy's 'USING' clause must allow you to select the row with status '${w}', and the 'WITH CHECK' clause must allow the row to be changed to status '${k}'.`;throw new Error(R)}throw D}},[f,d]),m=X.useCallback(async b=>{const{data:w,error:A}=await nt.from("appraisals").select("*").eq("id",b).single();if(A)return console.error("Error fetching appraisal:",A),null;const{data:T,error:D}=await nt.from("signatures").select("*").eq("appraisal_id",b).order("signed_at",{ascending:!0});if(D)return console.error("Error fetching signatures:",D),{...w,signatures:[]};const k={...w,signatures:T.map(R=>({...R,profiles:null}))};if(T&&T.length>0){const R=T.map(K=>K.signer_id),$=[...new Set(R)],{data:H,error:B}=await nt.from("profiles").select("*").in("id",$);if(B)console.error("Error fetching signer profiles:",B);else if(H){const K=H.filter(Y=>!!Y.id),ie=new Map(K.map(Y=>[Y.id,Y]));k.signatures.forEach(Y=>{Y.profiles=ie.get(Y.signer_id)||null})}}return k},[]);return p.jsx(i0.Provider,{value:{appraisals:i,loading:s,addAppraisal:g,approveAppraisal:y,getAppraisalDetails:m},children:u})},tr=()=>{const u=X.useContext(i0);if(u===void 0)throw new Error("useAppraisals must be used within an AppraisalProvider");return u},l0=X.forwardRef(({onEnd:u},i)=>{const l=X.useRef(null),[s,c]=X.useState(!0);X.useEffect(()=>{const d=l.current;if(!d)return;const g=d.getContext("2d");if(!g)return;let y=!1,m={x:0,y:0},b;const w=()=>{const H=window.devicePixelRatio||1,B=d.getBoundingClientRect();d.width=B.width*H,d.height=B.height*H,d.style.width=`${B.width}px`,d.style.height=`${B.height}px`,g.scale(H,H)},A=()=>{g.strokeStyle="#374151",g.lineWidth=2.5,g.lineCap="round",g.lineJoin="round"},T=()=>{w(),A(),u(""),c(!0)},D=H=>{const B=d.getBoundingClientRect(),K="touches"in H?H.touches[0]:H;return{x:K.clientX-B.left,y:K.clientY-B.top}},k=H=>{H.preventDefault(),y=!0,c(!1),m=D(H)},R=H=>{if(!y)return;H.preventDefault();const B=D(H);cancelAnimationFrame(b),b=requestAnimationFrame(()=>{g.beginPath(),g.moveTo(m.x,m.y),g.lineTo(B.x,B.y),g.stroke(),m=B})},$=()=>{y&&(y=!1,cancelAnimationFrame(b),u(d.toDataURL("image/png")))};return T(),d.addEventListener("mousedown",k),d.addEventListener("mousemove",R),d.addEventListener("mouseup",$),d.addEventListener("mouseleave",$),d.addEventListener("touchstart",k,{passive:!1}),d.addEventListener("touchmove",R,{passive:!1}),d.addEventListener("touchend",$),window.addEventListener("resize",T),()=>{cancelAnimationFrame(b),d.removeEventListener("mousedown",k),d.removeEventListener("mousemove",R),d.removeEventListener("mouseup",$),d.removeEventListener("mouseleave",$),d.removeEventListener("touchstart",k),d.removeEventListener("touchmove",R),d.removeEventListener("touchend",$),window.removeEventListener("resize",T)}},[u]);const f=X.useCallback(()=>{const d=l.current;if(d){const g=d.getContext("2d");if(g){const y=d.getBoundingClientRect();g.clearRect(0,0,y.width,y.height)}u(""),c(!0)}},[u]);return X.useImperativeHandle(i,()=>({clear:f})),p.jsxs("div",{className:"relative w-full h-32 border border-gray-300 rounded-lg bg-gray-50 touch-none overflow-hidden cursor-crosshair",children:[p.jsx("canvas",{ref:l,className:"absolute top-0 left-0 w-full h-full"}),s&&p.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 pointer-events-none",children:[p.jsx(Im,{size:16,className:"mr-2"}),p.jsx("span",{children:"Sign here"})]})]})}),P_=()=>p.jsxs("div",{className:"p-4 bg-zankli-cream-100 rounded-lg flex flex-wrap items-center justify-center gap-x-6 gap-y-2 text-sm text-gray-700",children:[p.jsx("h3",{className:"font-semibold text-gray-800 mr-4",children:"Scoring Guide:"}),p.jsxs("span",{children:[p.jsx("span",{className:"font-bold text-red-600",children:"0-2:"})," Poor"]}),p.jsxs("span",{children:[p.jsx("span",{className:"font-bold text-yellow-600",children:"3-4:"})," Fair"]}),p.jsxs("span",{children:[p.jsx("span",{className:"font-bold text-blue-600",children:"5-7:"})," Good"]}),p.jsxs("span",{children:[p.jsx("span",{className:"font-bold text-green-600",children:"8-10:"})," Very Good"]})]}),I_=({onCancel:u})=>{const{user:i}=_n(),{addAppraisal:l}=tr(),s=X.useMemo(()=>Zo.flatMap(oe=>oe.questions),[]),[c,f]=X.useState(""),[d,g]=X.useState(""),[y,m]=X.useState(""),[b,w]=X.useState(()=>s.reduce((oe,qe)=>({...oe,[qe]:5}),{})),[A,T]=X.useState(""),[D,k]=X.useState(!1),[R,$]=X.useState(!1),H=X.useRef(null),[B,K]=X.useState(""),[ie,Y]=X.useState(""),I=()=>{var oe;(oe=H.current)==null||oe.clear(),K("")},ae=(oe,qe)=>{w(z=>({...z,[oe]:qe}))},{average:be,percentage:vt}=X.useMemo(()=>a0(b),[b]),Rt=X.useMemo(()=>n0(be),[be]),at=oe=>{if(oe.preventDefault(),Y(""),!c||!d||!y){Y("Please fill in employee name, department, and HOD name.");return}if(!B){Y("HOD signature is required.");return}k(!0)},Wt=async()=>{if(!(!i||!d)){$(!0),Y("");try{await l({employee_name:c,department:d,hod_name:y,scores:b,comments:A,created_by:i.id},B),k(!1),u()}catch(oe){console.error("Submission failed:",oe),Y(oe.message||"An unexpected error occurred. Please try again."),k(!1)}finally{$(!1)}}};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:at,className:"bg-white p-6 md:p-8 rounded-xl shadow-md space-y-8 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"New Performance Appraisal"}),p.jsx("button",{type:"button",onClick:u,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:p.jsx(Q_,{className:"h-6 w-6 text-gray-600"})})]}),p.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx("legend",{className:"text-lg font-semibold text-gray-700 mb-2 col-span-full",children:"Employee Details"}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"employeeName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Name"}),p.jsx("input",{type:"text",id:"employeeName",value:c,onChange:oe=>f(oe.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-zankli-orange-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),p.jsxs("select",{id:"department",value:d,onChange:oe=>g(oe.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-zankli-orange-500 focus:border-transparent",required:!0,children:[p.jsx("option",{value:"",disabled:!0,children:"Select Department"}),e0.map(oe=>p.jsx("option",{value:oe,children:oe},oe))]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Performance Scoring"}),p.jsx(P_,{})]}),p.jsx("div",{className:"space-y-6",children:Zo.map(oe=>p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-700 border-b-2 border-zankli-orange-100 pb-2 mb-4",children:oe.title}),p.jsx("div",{className:"space-y-4",children:oe.questions.map(qe=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[p.jsx("label",{className:"text-sm text-gray-600",children:t0[qe]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("input",{type:"range",min:"0",max:"10",value:b[qe],onChange:z=>ae(qe,parseInt(z.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-zankli-orange-600"}),p.jsx("span",{className:"font-bold text-lg text-zankli-orange-700 w-8 text-center",children:b[qe]})]})]},qe))})]},oe.title))}),p.jsxs("fieldset",{children:[p.jsx("legend",{className:"text-lg font-semibold text-gray-700 mb-4 col-span-full",children:"Appraiser's Attestation"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"hodName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Appraiser / HOD Name"}),p.jsx("input",{type:"text",id:"hodName",value:y,onChange:oe=>m(oe.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-zankli-orange-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700 mb-1",children:"Overall Comments"}),p.jsx("textarea",{id:"comments",rows:4,value:A,onChange:oe=>T(oe.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-zankli-orange-500 focus:border-transparent",placeholder:"Provide a summary of the employee's performance..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HOD Signature"}),p.jsx(l0,{ref:H,onEnd:K}),p.jsx("button",{type:"button",onClick:I,className:"text-sm text-zankli-orange-600 hover:underline mt-1",disabled:R,children:"Clear Signature"})]})]})]}),ie&&p.jsx("p",{className:"text-red-500 text-sm text-center font-medium bg-red-50 p-3 rounded-lg",children:ie}),p.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200",children:[p.jsx("button",{type:"button",onClick:u,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",disabled:R,children:"Cancel"}),p.jsxs("button",{type:"submit",className:"px-6 py-2 bg-zankli-orange-600 text-white font-semibold rounded-lg shadow-sm hover:bg-zankli-orange-700 flex items-center gap-2 transition-all transform hover:scale-105 disabled:bg-zankli-orange-400 disabled:cursor-not-allowed",disabled:R,children:[R?p.jsx(bn,{className:"h-5 w-5 animate-spin"}):p.jsx(Pm,{size:16}),R?"Submitting...":"Review & Submit"]})]})]}),D&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-lg w-full p-8 space-y-6 animate-fade-in-up",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-zankli-orange-100 p-2 rounded-full",children:p.jsx(G_,{className:"h-6 w-6 text-zankli-orange-600"})}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Confirm Submission"})]}),p.jsx("p",{className:"text-gray-600",children:"Please review the details below before submitting. This action cannot be undone."}),p.jsxs("div",{className:"border-t border-b border-gray-200 py-4 space-y-3 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-semibold text-gray-600",children:"Employee:"})," ",p.jsx("span",{className:"text-gray-800 font-medium",children:c})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-semibold text-gray-600",children:"Department:"})," ",p.jsx("span",{className:"text-gray-800 font-medium",children:d})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-semibold text-gray-600",children:"HOD Name:"})," ",p.jsx("span",{className:"text-gray-800 font-medium",children:y})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-semibold text-gray-600",children:"Overall Score:"})," ",p.jsxs("span",{className:"font-bold text-gray-900",children:[vt.toFixed(2),"%"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-semibold text-gray-600",children:"Rating:"})," ",p.jsx("span",{className:"font-bold text-zankli-orange-700",children:Rt})]})]}),p.jsxs("div",{className:"flex justify-end gap-4",children:[p.jsx("button",{onClick:()=>k(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",disabled:R,children:"Back to Edit"}),p.jsxs("button",{onClick:Wt,className:"px-6 py-2 bg-zankli-orange-600 text-white font-semibold rounded-lg shadow-sm hover:bg-zankli-orange-700 transition-colors flex items-center gap-2 disabled:bg-zankli-orange-400 disabled:cursor-wait",disabled:R,children:[R&&p.jsx(bn,{className:"h-5 w-5 animate-spin"}),R?"Confirming...":"Confirm & Submit"]})]})]})}),p.jsx("style",{children:`
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
        .touch-none {
          touch-action: none;
        }
      `})]})},W_=()=>{const[u,i]=X.useState(!1),[l,s]=X.useState(""),{profile:c}=_n(),{appraisals:f,loading:d}=tr();if(!c)return null;const g=X.useMemo(()=>l?f.filter(m=>m.employee_name.toLowerCase().includes(l.toLowerCase())):f,[f,l]),y=X.useMemo(()=>g.reduce((m,b)=>((m[b.department]=m[b.department]||[]).push(b),m),{}),[g]);return u?p.jsx(I_,{onCancel:()=>i(!1)}):p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Appraiser Dashboard"}),p.jsx("p",{className:"text-gray-500 mt-1",children:"Create and track employee performance appraisals."})]}),p.jsxs("button",{onClick:()=>i(!0),className:"w-full md:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-zankli-orange-600 text-white font-semibold rounded-lg shadow-md hover:bg-zankli-orange-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zankli-orange-500",children:[p.jsx(N_,{size:20}),"New Appraisal"]})]}),p.jsxs("div",{className:"relative",children:[p.jsx(Zm,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search by employee name...",value:l,onChange:m=>s(m.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-zankli-orange-500"})]}),d?p.jsx("div",{className:"flex justify-center items-center py-16",children:p.jsx(bn,{className:"h-8 w-8 animate-spin text-zankli-orange-600"})}):Object.entries(y).length>0?Object.entries(y).map(([m,b])=>p.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-md",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-3",children:m}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee Name"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Submitted"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(w=>p.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.employee_name}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(w.created_at).toLocaleDateString()}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${w.status===Me.COMPLETED?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w.status})})]},w.id))})]})})]},m)):p.jsxs("div",{className:"text-center text-gray-500 py-16 bg-white rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-medium",children:l?"No Results Found":"No Appraisals Yet"}),p.jsx("p",{className:"mt-1",children:l?`No appraisals found for "${l}".`:'Click "New Appraisal" to get started.'})]})]})},s0=async(u,i,l)=>{const{jsPDF:s}=jspdf,c=document.getElementById(u);if(!c){console.error(`Element with id ${u} not found.`);return}const f=c.style.display;c.style.display="block";try{const g=(await html2canvas(c,{scale:2,useCORS:!0,logging:!0,width:c.scrollWidth,height:c.scrollHeight,windowWidth:c.scrollWidth,windowHeight:c.scrollHeight})).toDataURL("image/png"),y=new s({orientation:"portrait",unit:"mm",format:"a4"}),m=y.getImageProperties(g),b=y.internal.pageSize.getWidth(),w=m.height*b/m.width;let A=w,T=0;const D=y.internal.pageSize.getHeight();for(y.addImage(g,"PNG",0,T,b,w),A-=D;A>0;)T-=D,y.addPage(),y.addImage(g,"PNG",0,T,b,w),A-=D;y.save(`${i}.pdf`)}catch(d){console.error("Error generating PDF:",d)}finally{c.style.display=f,await l()}},F_=({appraisalId:u,onBack:i})=>{const{profile:l,logout:s}=_n(),{getAppraisalDetails:c,approveAppraisal:f}=tr(),[d,g]=X.useState(null),[y,m]=X.useState(!0),[b,w]=X.useState(""),[A,T]=X.useState(""),[D,k]=X.useState(!1),R=X.useRef(null),[$,H]=X.useState(""),B=X.useCallback(async()=>{m(!0);const ae=await c(u);g(ae),m(!1)},[u,c]);X.useEffect(()=>{B()},[B]);const K=d&&l?J_[d.status]===l.role:!1,ie=()=>{var ae;(ae=R.current)==null||ae.clear(),H("")},Y=async()=>{if(d){if(T(""),!$){T("Your signature is required to approve.");return}k(!0);try{await f(d.id,d.status,$,b),i()}catch(ae){console.error("Approval failed:",ae),T(ae.message||"An unexpected error occurred.")}finally{k(!1)}}},I=`appraisal-pdf-${d==null?void 0:d.id}`;return y?p.jsx("div",{className:"flex justify-center items-center py-20",children:p.jsx(bn,{className:"h-10 w-10 animate-spin text-zankli-orange-600"})}):!d||!l?p.jsxs("div",{className:"text-center py-10",children:[p.jsx("p",{children:"Appraisal not found or user not logged in."}),p.jsx("button",{onClick:i,className:"mt-4 text-zankli-orange-700",children:"Go Back"})]}):p.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[p.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[p.jsx(A_,{size:20}),"Back to Dashboard"]}),p.jsxs("button",{onClick:()=>{d&&s0(I,`Appraisal-${d.employee_name}-${d.id}`,s)},className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 bg-zankli-orange-600 text-white font-semibold rounded-lg hover:bg-zankli-orange-700 transition-colors shadow-sm",children:[p.jsx(Jm,{size:16})," Download as PDF"]})]}),p.jsxs("div",{id:I,className:"bg-white p-6 md:p-10 rounded-xl shadow-md",children:[p.jsxs("header",{className:"text-center border-b-2 border-gray-100 pb-6 mb-8",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Performance Appraisal"}),p.jsx("p",{className:"text-lg text-gray-500 mt-1",children:"Zankli Medical Centre"})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Summary"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"text-gray-500",children:"Employee"}),p.jsx("p",{className:"font-semibold text-gray-800 text-base",children:d.employee_name})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"text-gray-500",children:"Department"}),p.jsx("p",{className:"font-semibold text-gray-800 text-base",children:d.department})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"text-gray-500",children:"Overall Score"}),p.jsxs("p",{className:"font-bold text-gray-800 text-2xl",children:[d.overall_score.toFixed(2),"%"]})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"text-gray-500",children:"Rating"}),p.jsx("p",{className:"font-bold text-zankli-orange-700 text-2xl",children:d.overall_rating})]}),p.jsxs("div",{className:"text-sm col-span-2 md:col-span-4",children:[p.jsx("p",{className:"text-gray-500",children:"Status"}),p.jsx("p",{className:"font-semibold text-gray-800 text-base",children:d.status})]})]})]}),p.jsx("section",{className:"space-y-6 mb-8",children:Zo.map(ae=>p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-700 bg-gray-100 p-3 rounded-t-lg border-b border-gray-200",children:ae.title}),p.jsx("ul",{className:"border border-t-0 border-gray-200 rounded-b-lg",children:ae.questions.map((be,vt)=>p.jsxs("li",{className:`flex justify-between items-center p-3 ${vt%2!==0?"bg-white":"bg-gray-50/50"}`,children:[p.jsx("span",{className:"text-sm text-gray-600 flex-1 pr-4",children:t0[be]}),p.jsx("span",{className:"font-bold text-lg text-zankli-orange-700 bg-zankli-orange-100 rounded-full h-8 w-8 flex items-center justify-center",children:d.scores[be]})]},be))})]},ae.title))}),p.jsxs("section",{className:"mb-8 p-4 border rounded-lg bg-gray-50",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Appraiser's Attestation"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-semibold text-gray-600",children:["Overall Comments by ",d.hod_name,":"]}),p.jsxs("blockquote",{className:"text-gray-700 italic border-l-4 border-zankli-orange-200 pl-4 py-2 mt-1",children:['"',d.comments||"No comments provided.",'"']})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-gray-600",children:"HOD Signature:"}),d.hod_signature_url?p.jsx("img",{src:d.hod_signature_url,alt:"HOD Signature",className:"mt-1 border rounded-lg h-24 w-auto bg-white p-2 shadow-sm"}):p.jsx("p",{className:"text-sm text-gray-500",children:"No signature provided."})]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Approval History"}),d.signatures.length>0?p.jsx("div",{className:"space-y-4",children:d.signatures.map(ae=>{var be,vt;return p.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white rounded-lg border border-gray-200",children:[p.jsx(O_,{className:"h-6 w-6 text-green-500 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"flex-grow",children:[p.jsxs("p",{className:"font-semibold text-gray-800",children:[(be=ae.profiles)==null?void 0:be.full_name," ",p.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",(vt=ae.profiles)!=null&&vt.role?Fm[ae.profiles.role]:"...",")"]})]}),ae.comment&&p.jsxs("blockquote",{className:"text-sm text-gray-600 italic border-l-2 border-gray-300 pl-3 my-2",children:['"',ae.comment,'"']}),p.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(ae.signed_at).toLocaleString()})]})]},ae.id)})}):p.jsx("p",{className:"text-sm text-gray-500 bg-gray-50 p-4 rounded-lg text-center",children:"No approvals yet. Awaiting first review."})]})]}),K&&d.status!==Me.COMPLETED&&p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md space-y-4 border-t-4 border-zankli-orange-500",children:[p.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-3",children:[p.jsx(Im,{size:20})," Your Action Required"]}),p.jsx("p",{className:"text-sm text-gray-600",children:"Please provide your comments (optional) and signature to proceed with the appraisal."}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[p.jsxs("div",{children:[p.jsxs("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:[p.jsx(q_,{size:16})," Add a comment (optional)"]}),p.jsx("textarea",{id:"comment",rows:5,value:b,onChange:ae=>w(ae.target.value),className:"w-full h-32 px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-zankli-orange-500 focus:border-transparent",placeholder:`Comment as ${l.full_name}...`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Signature (Required)"}),p.jsx(l0,{ref:R,onEnd:H}),p.jsx("button",{type:"button",onClick:ie,className:"text-sm text-zankli-orange-600 hover:underline mt-1",children:"Clear Signature"})]})]}),A&&p.jsx("p",{className:"text-red-500 text-sm text-center font-medium py-2",children:A}),p.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:p.jsxs("button",{onClick:Y,disabled:D,className:"flex items-center gap-2 px-6 py-3 bg-zankli-orange-600 text-white font-semibold rounded-lg shadow-md hover:bg-zankli-orange-700 transition-all transform hover:scale-105 disabled:bg-zankli-orange-400 disabled:cursor-wait",children:[D?p.jsx(bn,{className:"h-5 w-5 animate-spin"}):p.jsx(Pm,{size:18}),D?"Submitting...":"Approve & Send to Next Level"]})})]}),p.jsx("style",{children:`
        .touch-none {
          touch-action: none;
        }
      `})]})},ew=({department:u,appraisals:i})=>p.jsxs("div",{className:"p-8 font-sans text-gray-800 bg-white",children:[p.jsxs("header",{className:"text-center border-b-2 border-gray-200 pb-4 mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Department Appraisal Summary"}),p.jsx("p",{className:"text-xl text-gray-600",children:u}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Generated on: ",new Date().toLocaleDateString()]})]}),p.jsxs("table",{className:"min-w-full divide-y divide-gray-300 border text-xs",children:[p.jsx("thead",{className:"bg-gray-100",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-3 py-2 text-left font-semibold text-gray-900",children:"Employee Name"}),p.jsx("th",{scope:"col",className:"px-3 py-2 text-center font-semibold text-gray-900",children:"Score"}),p.jsx("th",{scope:"col",className:"px-3 py-2 text-left font-semibold text-gray-900",children:"Rating"}),p.jsx("th",{scope:"col",className:"px-3 py-2 text-left font-semibold text-gray-900",children:"Appraiser Comment"}),p.jsx("th",{scope:"col",className:"px-3 py-2 text-left font-semibold text-gray-900",children:"Status"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:i.map(l=>p.jsxs("tr",{style:{breakInside:"avoid"},children:[p.jsx("td",{className:"whitespace-nowrap px-3 py-2 font-medium text-gray-800",children:l.employee_name}),p.jsxs("td",{className:"whitespace-nowrap px-3 py-2 text-center text-gray-700 font-bold",children:[l.overall_score.toFixed(2),"%"]}),p.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-gray-700",children:l.overall_rating}),p.jsx("td",{className:"px-3 py-2 text-gray-600",style:{minWidth:"200px"},children:l.comments||"N/A"}),p.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-gray-700",children:l.status})]},l.id))})]})]}),tw=()=>{const{profile:u,logout:i}=_n(),{appraisals:l,loading:s}=tr(),[c,f]=X.useState("ALL"),[d,g]=X.useState(""),[y,m]=X.useState(null),[b,w]=X.useState(null),A=X.useMemo(()=>{let R=[...l];return c!=="ALL"&&(R=R.filter($=>$.department===c)),d&&(R=R.filter($=>$.employee_name.toLowerCase().includes(d.toLowerCase()))),R},[l,c,d]),T=X.useMemo(()=>A.reduce((R,$)=>((R[$.department]=R[$.department]||[]).push($),R),{}),[A]),D=R=>{w(R)};if(X.useEffect(()=>{if(b){const R=`print-summary-area-${b}`;setTimeout(()=>{s0(R,`Appraisal-Summary-${b}`,i).finally(()=>{w(null)})},100)}},[b,i]),!u)return null;if(y)return p.jsx(F_,{appraisalId:y,onBack:()=>m(null)});const k=u.role===Je.HR||u.role===Je.CHAIRMAN;return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[Fm[u.role]," Dashboard"]}),p.jsx("p",{className:"text-gray-500 mt-1",children:"Review and approve employee appraisals."})]}),p.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch md:items-center gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(Zm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search employee...",value:d,onChange:R=>g(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-zankli-orange-500"})]}),p.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-white p-1 rounded-lg shadow-sm border border-gray-200",children:[p.jsx(D_,{size:16,className:"text-gray-500 ml-1 flex-shrink-0"}),p.jsxs("select",{value:c,onChange:R=>f(R.target.value),className:"w-full bg-transparent border-none focus:ring-0 text-gray-700 font-medium cursor-pointer",children:[p.jsx("option",{value:"ALL",children:"All Departments"}),e0.map(R=>p.jsx("option",{value:R,children:R},R))]})]})]})]}),s?p.jsx("div",{className:"flex justify-center items-center py-16",children:p.jsx(bn,{className:"h-8 w-8 animate-spin text-zankli-orange-600"})}):Object.entries(T).length>0?Object.entries(T).map(([R,$])=>p.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-md",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4 border-b border-gray-200 pb-3",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2 sm:mb-0",children:R}),k&&p.jsx("button",{onClick:()=>D(R),disabled:b!==null,className:"flex items-center justify-center gap-2 px-4 py-2 text-sm bg-zankli-orange-50 text-zankli-orange-700 font-semibold rounded-lg hover:bg-zankli-orange-100 transition-colors disabled:opacity-50 disabled:cursor-wait w-full sm:w-auto",children:b===R?"Generating...":p.jsxs(p.Fragment,{children:[p.jsx(Jm,{size:16})," Download Summary"]})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(H=>p.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg hover:border-zankli-orange-300 transition-all cursor-pointer transform hover:-translate-y-1",onClick:()=>m(H.id),children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:H.employee_name}),p.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${H.status==="Completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.status})]}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 text-sm text-gray-500 space-y-1",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Rating:"})," ",p.jsxs("span",{className:"font-semibold text-gray-700",children:[H.overall_rating," (",H.overall_score.toFixed(2),"%)"]})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Created:"})," ",new Date(H.created_at).toLocaleDateString()]})]})]},H.id))})]},R)):p.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"No Appraisals Found"}),p.jsx("p",{className:"text-gray-500 mt-1",children:"There are no appraisals matching your search and filter criteria."})]}),b&&T[b]&&p.jsx("div",{className:"absolute top-0 -left-[9999px]","aria-hidden":"true",children:p.jsx("div",{id:`print-summary-area-${b}`,className:"bg-white",style:{width:"11in"},children:p.jsx(ew,{department:b,appraisals:T[b]})})})]})},nw=()=>{const{profile:u,loading:i}=_n();if(i||!u)return p.jsx("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8 flex justify-center",children:p.jsx(bn,{className:"h-8 w-8 text-zankli-orange-600 animate-spin"})});const l=()=>{switch(u.role){case Je.APPRAISER:return p.jsx(W_,{});case Je.HR:case Je.DOCS:case Je.MD:case Je.CHAIRMAN:return p.jsx(tw,{});default:return p.jsx("div",{children:"Invalid user role. Please contact support."})}};return p.jsx("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:l()})},aw=()=>{const{user:u,profile:i,logout:l}=_n();return p.jsx("header",{className:"bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-gray-200",children:p.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("svg",{className:"h-8 w-auto text-zankli-orange-600",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5-10-5-10 5z"})}),p.jsx("span",{className:"ml-3 font-bold text-xl text-gray-800",children:"Zankli Medical Centre"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"text-right mr-4 hidden sm:block",children:[p.jsx("p",{className:"text-sm font-medium text-gray-800",children:i==null?void 0:i.full_name}),p.jsx("p",{className:"text-xs text-gray-500",children:u==null?void 0:u.email})]}),p.jsx(Y_,{className:"h-6 w-6 text-gray-500 sm:hidden"}),p.jsx("button",{onClick:l,className:"ml-4 p-2 rounded-full text-gray-500 hover:bg-gray-100 hover:text-zankli-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zankli-orange-500 transition-colors","aria-label":"Logout",children:p.jsx(k_,{className:"h-6 w-6"})})]})]})})})},iw=()=>{const{user:u,loading:i}=_n();return i?p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:p.jsx(bn,{className:"h-12 w-12 text-zankli-orange-600 animate-spin"})}):p.jsx("div",{className:"bg-gray-50 min-h-screen font-sans text-gray-800",children:u?p.jsxs(p.Fragment,{children:[p.jsx(aw,{}),p.jsx(nw,{})]}):p.jsx(X_,{})})},r0=document.getElementById("root");if(!r0)throw new Error("Could not find root element to mount to");const lw=Vv.createRoot(r0);lw.render(p.jsx(kv.StrictMode,{children:p.jsx(p_,{children:p.jsx(Z_,{children:p.jsx(iw,{})})})}));
